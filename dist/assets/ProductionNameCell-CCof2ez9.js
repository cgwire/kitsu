import{_ as f,ar as m,b as p,r as _,o as a,c as i,g as v,w as x,i as c,F as d,H as u,t as l,h as o}from"./index-DF-DoQlt.js";const k={name:"production-name-cell",props:{entry:{default:()=>{},type:Object},size:{default:40,type:Number},onlyAvatar:{default:!1,type:Boolean},withAvatar:{default:!0,type:Boolean},lastProductionScreen:{default:"assets",type:String},isTooltip:{default:!1,type:Boolean},isLink:{default:!0,type:Boolean}},computed:{...p(["isCurrentUserClient"]),generatedAvatar(){return(this.entry.name?.[0]||"P").toUpperCase()},productionRoute(){return this.sectionPath(this.entry,this.lastProductionScreen)},productionInfo(){if(!this.isTooltip)return"";const t=this.entry?.fps,n=this.entry?.ratio,e=this.entry?.resolution,s=[];return t&&s.push(`${this.$t("productions.fields.fps")}: ${t}`),n&&s.push(`${this.$t("productions.fields.ratio")}: ${n}`),e&&s.push(`${this.$t("productions.fields.resolution")}: ${e}`),s.join(" - ")},style(){return{background:m.fromString(this.entry.name),width:`${this.size}px`,height:`${this.size}px`,"font-size":`${this.size-15}px`,"line-height":`${this.size}px`}},thumbnailPath(){const t=this.entry.updated_at||this.entry.created_at,n=Date.parse(t);return`/api/pictures/thumbnails/projects/${this.entry.id}.png?t=${n}`}},methods:{sectionPath(t,n){const e=this.isCurrentUserClient?"playlists":t.homepage||n,s={name:e,params:{production_id:t.id},query:{}};return t.production_type==="tvshow"?(e!=="episodes"&&(s.name=`episode-${e}`),!["edits","episodes"].includes(e)&&t.first_episode_id?s.params.episode_id=t.first_episode_id:s.params.episode_id="all"):t.production_type==="shots"&&e==="assets"?s.name="shots":t.production_type==="assets"&&["shots","sequences"].includes(e)&&(s.name="assets"),["assets","shots","edits","sequences","episodes"].includes(e)&&(s.query.search=""),s}}},g=["title"],w=["src"],P={key:1,class:"flexrow-item"},A={key:1,class:"flexrow flexrow-item"},C=["src"],b={key:1,class:"flexrow-item"};function z(t,n,e,s,h,r){const y=_("router-link");return e.entry?(a(),i("div",{key:0,class:"flexrow production-name",title:r.productionInfo},[e.isLink?(a(),v(y,{key:0,class:"flexrow flexrow-item",to:r.productionRoute},{default:x(()=>[e.withAvatar?(a(),i("div",{key:0,class:"flexrow-item avatar has-text-centered",style:c(r.style)},[e.entry.has_avatar?(a(),i("img",{key:1,src:r.thumbnailPath},null,8,w)):(a(),i(d,{key:0},[u(l(r.generatedAvatar),1)],64))],4)):o("",!0),e.onlyAvatar?o("",!0):(a(),i("span",P,l(e.entry.name),1))]),_:1},8,["to"])):(a(),i("div",A,[e.withAvatar?(a(),i("div",{key:0,class:"flexrow-item avatar has-text-centered",style:c(r.style)},[e.entry.has_avatar?(a(),i("img",{key:1,src:r.thumbnailPath},null,8,C)):(a(),i(d,{key:0},[u(l(r.generatedAvatar),1)],64))],4)):o("",!0),e.onlyAvatar?o("",!0):(a(),i("span",b,l(e.entry.name),1))]))],8,g)):o("",!0)}const S=f(k,[["render",z],["__scopeId","data-v-405a75f5"]]);export{S as P};
//# sourceMappingURL=ProductionNameCell-CCof2ez9.js.map
