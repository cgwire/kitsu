{"version":3,"file":"ResetPassword-6rb2pNB4.js","sources":["../../src/components/pages/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"hero is-fullheight\">\n    <div class=\"container has-text-centered\">\n      <div class=\"box has-text-left\">\n        <div class=\"has-text-centered\">\n          <h1 class=\"title\">\n            {{ $t('login.reset_password_title') }}\n          </h1>\n        </div>\n\n        <div class=\"field mt2\">\n          <p class=\"control has-icon\">\n            <input\n              class=\"input is-medium email\"\n              type=\"email\"\n              :placeholder=\"$t('login.fields.email')\"\n              @keyup.enter=\"confirmResetPassword\"\n              v-model=\"email\"\n              v-focus\n            />\n            <span class=\"icon\">\n              <mail-icon width=\"20\" height=\"20\" />\n            </span>\n          </p>\n        </div>\n\n        <p class=\"control\">\n          <a\n            v-bind:class=\"{\n              button: true,\n              'main-button': true,\n              'is-fullwidth': true,\n              'is-loading': isLoading\n            }\"\n            @click=\"confirmResetPassword\"\n            v-if=\"!isSuccess\"\n          >\n            {{ $t('login.reset_password') }}\n          </a>\n        </p>\n        <p class=\"error\" v-show=\"isError\">\n          {{ $t('login.reset_password_failed') }}\n        </p>\n        <p class=\"success\" v-show=\"isSuccess\">\n          {{ $t('login.reset_password_succeed') }}\n        </p>\n        <p class=\"has-text-centered\">\n          <router-link :to=\"{ name: 'login' }\">\n            <span v-if=\"isSuccess\">\n              {{ $t('login.back_to_login') }}\n            </span>\n            <span v-else>\n              {{ $t('login.login_page') }}\n            </span>\n          </router-link>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { MailIcon } from 'vue-feather-icons'\n\nexport default {\n  name: 'reset-password',\n\n  components: {\n    MailIcon\n  },\n\n  data() {\n    return {\n      email: '',\n      isLoading: false,\n      isError: false,\n      isSuccess: false\n    }\n  },\n\n  computed: {\n    ...mapGetters([])\n  },\n\n  mounted() {\n    this.email = this.$store.state.login.email\n    this.isLoading = false\n    this.isSuccess = false\n  },\n\n  methods: {\n    ...mapActions(['resetPassword']),\n\n    confirmResetPassword() {\n      this.isLoading = true\n      this.isError = false\n      this.isSuccess = false\n      this.resetPassword(this.email)\n        .then(() => {\n          this.isLoading = false\n          this.isSuccess = true\n        })\n        .catch(() => {\n          this.isLoading = false\n          this.isError = true\n          this.isSuccess = false\n        })\n    }\n  },\n\n  metaInfo() {\n    return {\n      title: this.$t('login.reset_password_title')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.input {\n  height: 3em;\n  padding: 1.5em;\n  border-radius: 4px;\n\n  &::placeholder {\n    color: #999;\n  }\n\n  &:focus {\n    border: 1px solid $green;\n  }\n}\n\n.icon {\n  padding: 0.25em;\n}\n</style>\n"],"names":["_sfc_main","MailIcon","mapGetters","mapActions"],"mappings":"8DAkEA,MAAAA,EAAA,CACA,KAAA,iBAEA,WAAA,CACA,SAAAC,CACA,EAEA,MAAA,CACA,MAAA,CACA,MAAA,GACA,UAAA,GACA,QAAA,GACA,UAAA,EACA,CACA,EAEA,SAAA,CACA,GAAAC,EAAA,CAAA,CAAA,CACA,EAEA,SAAA,CACA,KAAA,MAAA,KAAA,OAAA,MAAA,MAAA,MACA,KAAA,UAAA,GACA,KAAA,UAAA,EACA,EAEA,QAAA,CACA,GAAAC,EAAA,CAAA,eAAA,CAAA,EAEA,sBAAA,CACA,KAAA,UAAA,GACA,KAAA,QAAA,GACA,KAAA,UAAA,GACA,KAAA,cAAA,KAAA,KAAA,EACA,KAAA,IAAA,CACA,KAAA,UAAA,GACA,KAAA,UAAA,EACA,CAAA,EACA,MAAA,IAAA,CACA,KAAA,UAAA,GACA,KAAA,QAAA,GACA,KAAA,UAAA,EACA,CAAA,CACA,CACA,EAEA,UAAA,CACA,MAAA,CACA,MAAA,KAAA,GAAA,4BAAA,CACA,CACA,CACA"}