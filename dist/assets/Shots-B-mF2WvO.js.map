{"version":3,"file":"Shots-B-mF2WvO.js","sources":["../../src/components/modals/ImportEdlModal.vue","../../src/components/modals/SetFramesFromTaskTypePreviewsModal.vue","../../src/components/modals/ShotHistoryModal.vue","../../src/components/lists/ShotList.vue","../../src/components/pages/Shots.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{ $t('main.edl.import_title') }}\n        </h1>\n\n        <p>\n          {{ $t('main.edl.explanation') }}\n        </p>\n\n        <p>\n          {{ $t('main.edl.select_file') }}\n        </p>\n        <file-upload\n          @fileselected=\"onFileSelected\"\n          :label=\"$t('main.edl.upload_file')\"\n          accept=\".edl, .xml, .otio, .fcpxml\"\n          ref=\"inputFile\"\n        />\n\n        <br />\n        <text-field\n          ref=\"namingConventionField\"\n          :label=\"$t('main.edl.naming_convention')\"\n          v-model=\"form.namingConvention\"\n          @enter=\"onConfirmClicked\"\n          v-focus\n        />\n\n        <checkbox\n          :toggle=\"true\"\n          :label=\"$t('main.edl.match_case')\"\n          v-model=\"form.matchCase\"\n        />\n\n        <modal-footer\n          :confirm-label=\"$t('main.edl.upload_edl')\"\n          :error-text=\"errorText\"\n          :is-loading=\"isLoading\"\n          :is-disabled=\"formData === null\"\n          :is-error=\"isError\"\n          @confirm=\"onConfirmClicked\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport Checkbox from '@/components/widgets/Checkbox.vue'\nimport FileUpload from '@/components/widgets/FileUpload.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\nimport TextField from '@/components/widgets/TextField.vue'\n\nexport default {\n  name: 'import-edl-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    Checkbox,\n    FileUpload,\n    ModalFooter,\n    TextField\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      form: {\n        namingConvention: '${project_name}_${sequence_name}-${shot_name}',\n        matchCase: true\n      },\n      formData: null\n    }\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    importError: {\n      type: Error,\n      default: null\n    }\n  },\n\n  mounted() {\n    this.formData = null\n    if (this.isTVShow)\n      this.form.namingConvention =\n        '${project_name}_${episode_name}-${sequence_name}-${shot_name}'\n  },\n\n  computed: {\n    ...mapGetters(['currentProduction', 'isTVShow']),\n\n    errorText() {\n      let text = this.$t('main.edl.error_upload')\n      if (this.importError && this.importError.status === 400) {\n        const res = this.importError.response\n        text += ` ${res.body.message}`\n      }\n      return text\n    }\n  },\n\n  methods: {\n    onFileSelected(formData) {\n      this.formData = formData\n    },\n\n    onConfirmClicked() {\n      this.$emit(\n        'confirm',\n        this.formData.get('file'),\n        this.form.namingConvention,\n        this.form.matchCase\n      )\n    },\n\n    reset() {\n      this.$refs.inputFile.reset()\n    }\n  },\n\n  watch: {\n    currentProduction() {\n      if (this.isTVShow)\n        this.form.namingConvention =\n          '${project_name}_${episode_name}-${sequence_name}-${shot_name}'\n      else\n        this.form.namingConvention =\n          '${project_name}_${sequence_name}-${shot_name}'\n    },\n\n    active() {\n      this.formData = null\n      this.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n\n.error {\n  margin-top: 1em;\n}\n</style>\n","<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{ $t('shots.get_frames_from_previews') }}\n        </h1>\n\n        <p class=\"description\">\n          {{ $t('shots.get_frames_from_previews_description') }}\n        </p>\n\n        <combobox-task-type\n          :task-type-list=\"productionShotTaskTypes\"\n          :placeholder=\"$t('task_types.select_task_type')\"\n          add-placeholder\n          v-model=\"taskTypeId\"\n        />\n\n        <modal-footer\n          :error-text=\"$t('shots.get_frames_from_previews_error')\"\n          :is-error=\"isError\"\n          :is-loading=\"isLoading\"\n          :is-disabled=\"!isFormFilled\"\n          @confirm=\"confirm\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\n\nexport default {\n  name: 'set-frames-from-task-type-previews-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    ComboboxTaskType,\n    ModalFooter\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    errorText: {\n      type: String,\n      default: ''\n    }\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      taskTypeId: null\n    }\n  },\n\n  mounted() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters(['productionShotTaskTypes']),\n\n    isFormFilled() {\n      return this.taskTypeId !== null && this.taskTypeId !== ''\n    }\n  },\n\n  methods: {\n    confirm() {\n      return this.$emit('confirm', this.taskTypeId)\n    },\n\n    reset() {\n      this.taskType = null\n    }\n  },\n\n  watch: {\n    active() {\n      if (this.active) {\n        this.reset()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\np.description {\n  font-size: 1.2rem;\n}\n</style>\n","<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{ $t('shots.history') }}\n        </h1>\n\n        <table class=\"table\" ref=\"headerWrapper\">\n          <thead class=\"table-header\">\n            <tr>\n              <th class=\"date\">{{ $t('main.date') }}</th>\n              <th class=\"name\">{{ $t('shots.fields.name') }}</th>\n              <th class=\"frame-in\">{{ $t('shots.fields.frame_in') }}</th>\n              <th class=\"frame-out\">{{ $t('shots.fields.frame_out') }}</th>\n              <th class=\"person table-filler\">\n                {{ $t('shots.fields.person') }}\n              </th>\n            </tr>\n          </thead>\n        </table>\n\n        <div class=\"table-body\" v-if=\"!isLoading\">\n          <table class=\"table\">\n            <tbody class=\"table-body\">\n              <tr\n                class=\"shot-version\"\n                :key=\"version.id\"\n                v-for=\"version in versions\"\n              >\n                <td class=\"date\">\n                  {{ formatDate(version.created_at) }}\n                </td>\n                <td class=\"name\">\n                  {{ version.name }}\n                </td>\n                <td class=\"frame-in\">\n                  {{ version.data.frame_in }}\n                </td>\n                <td class=\"frame-out\">\n                  {{ version.data.frame_out }}\n                </td>\n                <td class=\"person table-filler\">\n                  {{ getPersonFullName(version.person_id) }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n        <div class=\"has-text-right modal-footer\">\n          <button @click=\"$emit('cancel')\" class=\"button is-link\">\n            {{ $t('main.cancel') }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\nimport { formatDate } from '@/lib/time'\n\nimport TableInfo from '@/components/widgets/TableInfo.vue'\n\nexport default {\n  name: 'shot-history-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    TableInfo\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    shot: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  emits: ['cancel'],\n\n  data() {\n    return {\n      isError: false,\n      isLoading: false,\n      versions: []\n    }\n  },\n\n  mounted() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters(['personMap'])\n  },\n\n  methods: {\n    ...mapActions(['loadShotHistory']),\n\n    formatDate(dateString) {\n      return formatDate(dateString)\n    },\n\n    getPersonFullName(personId) {\n      const person = this.personMap.get(personId)\n      return person ? person.full_name : ''\n    },\n\n    loadData() {\n      this.isError = false\n      this.isLoading = true\n      return this.loadShotHistory(this.shot.id)\n        .then(versions => {\n          this.versions = versions\n          this.isLoading = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.isLoading = false\n          this.isError = true\n        })\n    },\n\n    reset() {\n      this.versions = []\n      this.isError = false\n      this.isLoading = false\n    }\n  },\n\n  watch: {\n    active() {\n      if (this.active) {\n        this.reset()\n        this.loadData()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .table {\n    th {\n      color: $white;\n    }\n  }\n\n  .table tr:nth-child(odd) {\n    color: $white-grey;\n    background: #36393f;\n  }\n\n  .table tr:nth-child(even) {\n    color: $white-grey;\n    background: #46494f;\n  }\n}\n\n.modal .table {\n  margin-bottom: 0;\n}\n\n.modal-footer {\n  margin-top: 1em;\n}\n\n.table tr .date {\n  min-width: 160px;\n  max-width: 160px;\n  width: 160px;\n}\n\n.name {\n  min-width: 160px;\n  width: 160px;\n}\n\n.frame-out,\n.frame-in {\n  min-width: 80px;\n  width: 80px;\n}\n\ntd.person {\n  font-size: 0.8em;\n  padding-top: 0.9em;\n}\n\n.table-filler {\n  width: 100%;\n}\n</style>\n","<template>\n  <div class=\"data-list\">\n    <div class=\"datatable-wrapper\" ref=\"body\" @scroll.passive=\"onBodyScroll\">\n      <table-header-menu\n        ref=\"headerMenu\"\n        :is-minimized=\"hiddenColumns[lastHeaderMenuDisplayed]\"\n        :is-edit-allowed=\"isCurrentUserManager\"\n        :is-sticked=\"stickedColumns[lastHeaderMenuDisplayed]\"\n        @minimize-clicked=\"onMinimizeColumnToggled()\"\n        @delete-all-clicked=\"onDeleteAllTasksClicked()\"\n        @sort-by-clicked=\"onSortByTaskTypeClicked()\"\n        @select-column=\"onSelectColumn('shot')\"\n        @toggle-stick=\"stickColumnClicked()\"\n      />\n\n      <table-metadata-header-menu\n        ref=\"headerMetadataMenu\"\n        :is-edit-allowed=\"\n          isMetadataColumnEditAllowed(lastMetadaDataHeaderMenuDisplayed)\n        \"\n        :is-sticked=\"stickedColumns[lastMetadaDataHeaderMenuDisplayed]\"\n        @edit-clicked=\"onEditMetadataClicked()\"\n        @delete-clicked=\"onDeleteMetadataClicked()\"\n        @sort-by-clicked=\"onSortByMetadataClicked()\"\n        @toggle-stick=\"metadataStickColumnClicked($event)\"\n      />\n\n      <table class=\"datatable multi-section\">\n        <thead class=\"datatable-head\" id=\"datatable-shot\" v-columns-resizable>\n          <tr>\n            <th\n              scope=\"col\"\n              class=\"name shot-name datatable-row-header\"\n              ref=\"th-shot\"\n            >\n              <div class=\"flexrow\">\n                <span class=\"flexrow-item\">\n                  {{ $t('shots.fields.name') }}\n                </span>\n                <button-simple\n                  class=\"is-small flexrow\"\n                  icon=\"plus\"\n                  :text=\"''\"\n                  @click=\"onAddMetadataClicked\"\n                  v-if=\"\n                    (isCurrentUserManager || isCurrentUserSupervisor) &&\n                    !isLoading\n                  \"\n                />\n              </div>\n            </th>\n\n            <metadata-header\n              :ref=\"`editor-${j}`\"\n              :key=\"descriptor.id\"\n              :descriptor=\"descriptor\"\n              :left=\"\n                offsets['editor-' + j] ? `${offsets['editor-' + j]}px` : '0'\n              \"\n              @show-metadata-header-menu=\"\n                event => showMetadataHeaderMenu(descriptor.id, event)\n              \"\n              is-stick\n              :style=\"{\n                'z-index': 1001\n              }\"\n              v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n            />\n\n            <template v-if=\"!isLoading\">\n              <validation-header\n                :ref=\"`validation-${columnIndexInGrid}`\"\n                :key=\"columnId\"\n                :hidden-columns=\"hiddenColumns\"\n                :column-id=\"columnId\"\n                :title=\"taskTypeMap.get(columnId).name\"\n                :validation-style=\"getValidationStyle(columnId)\"\n                :left=\"\n                  offsets['validation-' + columnIndexInGrid]\n                    ? `${offsets['validation-' + columnIndexInGrid]}px`\n                    : '0'\n                \"\n                type=\"assets\"\n                @show-header-menu=\"\n                  event => showHeaderMenu(columnId, columnIndexInGrid, event)\n                \"\n                is-stick\n                v-for=\"(\n                  columnId, columnIndexInGrid\n                ) in stickedDisplayedValidationColumns\"\n              />\n            </template>\n\n            <th\n              scope=\"col\"\n              class=\"description selectable\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isShotDescription\n              \"\n            >\n              {{ $t('shots.fields.description') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              ref=\"th-spent\"\n              class=\"time-spent number-cell\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isShotTime &&\n                metadataDisplayHeaders.timeSpent\n              \"\n            >\n              {{ $t('shots.fields.time_spent') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"estimation number-cell\"\n              ref=\"th-spent\"\n              :title=\"$t('main.estimation')\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isShotEstimation &&\n                metadataDisplayHeaders.estimation\n              \"\n            >\n              {{ $t('main.estimation_short') }}\n            </th>\n\n            <th\n              class=\"drawings number-cell\"\n              scope=\"col\"\n              v-if=\"\n                displaySettings.showInfos &&\n                isPaperProduction &&\n                metadataDisplayHeaders.drawings\n              \"\n            >\n              {{ $t('shots.fields.nb_drawings') }}\n            </th>\n\n            <th\n              class=\"frames number-cell\"\n              scope=\"col\"\n              v-if=\"\n                isFrames &&\n                displaySettings.showInfos &&\n                !isPaperProduction &&\n                metadataDisplayHeaders.frames\n              \"\n            >\n              {{ $t('shots.fields.nb_frames') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"framein number-cell\"\n              v-if=\"\n                isFrameIn &&\n                displaySettings.showInfos &&\n                metadataDisplayHeaders.frameIn\n              \"\n            >\n              {{ $t('shots.fields.frame_in') }}\n            </th>\n            <th\n              scope=\"col\"\n              class=\"frameout number-cell\"\n              v-if=\"\n                isFrameOut &&\n                displaySettings.showInfos &&\n                metadataDisplayHeaders.frameOut\n              \"\n            >\n              {{ $t('shots.fields.frame_out') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"fps number-cell\"\n              v-if=\"\n                isFps && displaySettings.showInfos && metadataDisplayHeaders.fps\n              \"\n            >\n              {{ $t('shots.fields.fps') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"max-retakes number-cell\"\n              v-if=\"\n                isMaxRetakes &&\n                displaySettings.showInfos &&\n                metadataDisplayHeaders.maxRetakes\n              \"\n            >\n              {{ $t('shots.fields.max_retakes') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"resolution\"\n              v-if=\"\n                isResolution &&\n                displaySettings.showInfos &&\n                metadataDisplayHeaders.resolution\n              \"\n            >\n              {{ $t('shots.fields.resolution') }}\n            </th>\n\n            <template v-if=\"displaySettings.showInfos\">\n              <metadata-header\n                :key=\"descriptor.id\"\n                :descriptor=\"descriptor\"\n                @show-metadata-header-menu=\"\n                  event => showMetadataHeaderMenu(descriptor.id, event)\n                \"\n                v-for=\"descriptor in nonStickedVisibleMetadataDescriptors\"\n              />\n            </template>\n\n            <template v-if=\"!isLoading\">\n              <validation-header\n                :key=\"columnId\"\n                :hidden-columns=\"hiddenColumns\"\n                :column-id=\"columnId\"\n                :validation-style=\"getValidationStyle(columnId)\"\n                type=\"shots\"\n                @show-header-menu=\"\n                  event => showHeaderMenu(columnId, columnIndexInGrid, event)\n                \"\n                v-for=\"(\n                  columnId, columnIndexInGrid\n                ) in nonStickedDisplayedValidationColumns\"\n              />\n            </template>\n\n            <th scope=\"col\" class=\"actions\" ref=\"actionsSection\">\n              <button-simple\n                :class=\"{\n                  'is-small': true,\n                  highlighted: isEmptyTask\n                }\"\n                icon=\"plus\"\n                :text=\"$t('tasks.create_tasks')\"\n                @click=\"$emit('create-tasks')\"\n                v-if=\"isCurrentUserManager\"\n              />\n\n              <table-metadata-selector-menu\n                :descriptors=\"shotMetadataDescriptors\"\n                namespace=\"shots\"\n                :exclude=\"{\n                  frames: !isFrames,\n                  frameIn: !isFrameIn,\n                  frameOut: !isFrameOut,\n                  fps: !isFps,\n                  estimation: !isShotEstimation,\n                  timeSpent: !isShotTime,\n                  resolution: !isResolution,\n                  max_retakes: !isMaxRetakes\n                }\"\n                v-model=\"metadataDisplayHeaders\"\n                v-show=\"columnSelectorDisplayed\"\n                v-if=\"displaySettings.showInfos\"\n              />\n\n              <button-simple\n                class=\"is-small is-pulled-right mr05\"\n                icon=\"down\"\n                @click=\"toggleColumnSelector\"\n                v-if=\"displaySettings.showInfos\"\n              />\n            </th>\n          </tr>\n        </thead>\n\n        <template v-if=\"!isLoading && isListVisible\">\n          <tbody\n            class=\"datatable-body\"\n            :key=\"getGroupKey(group, k, 'sequence_id')\"\n            @mousedown=\"startBrowsing\"\n            @touchstart=\"startBrowsing\"\n            v-for=\"(group, k) in displayedShots\"\n          >\n            <tr class=\"datatable-type-header\">\n              <th scope=\"rowgroup\" :colspan=\"visibleColumns\">\n                <div\n                  class=\"datatable-row-header pointer\"\n                  @click=\"$emit('sequence-clicked', group[0].sequence_name)\"\n                >\n                  {{ group[0] ? group[0].sequence_name : '' }}\n                </div>\n              </th>\n            </tr>\n            <tr\n              class=\"datatable-row\"\n              :key=\"shot.id\"\n              :class=\"{ canceled: shot.canceled }\"\n              v-for=\"(shot, i) in group\"\n            >\n              <th\n                scope=\"row\"\n                :class=\"{\n                  'datatable-row-header': true,\n                  'shot-name': true,\n                  name: true,\n                  bold: !shot.canceled\n                }\"\n              >\n                <div class=\"flexrow\">\n                  <input\n                    type=\"checkbox\"\n                    class=\"mr1\"\n                    :checked=\"selectedShots.has(shot.id) || null\"\n                    @input=\"event => toggleLine(shot, event)\"\n                    v-if=\"isCurrentUserManager\"\n                  />\n                  <entity-thumbnail\n                    :entity=\"shot\"\n                    :width=\"displaySettings.bigThumbnails ? 150 : 50\"\n                    :height=\"displaySettings.bigThumbnails ? 100 : 33\"\n                    :empty-width=\"displaySettings.bigThumbnails ? 150 : 50\"\n                    :empty-height=\"displaySettings.bigThumbnails ? 100 : 34\"\n                  />\n                  <router-link\n                    tabindex=\"-1\"\n                    :title=\"shot.full_name\"\n                    :to=\"shotPath(shot.id)\"\n                    v-if=\"!isCurrentUserClient\"\n                  >\n                    {{ shot.name }}\n                  </router-link>\n                  <template v-else>\n                    {{ shot.name }}\n                  </template>\n                </div>\n              </th>\n\n              <!-- Metadata stick -->\n              <td\n                :ref=\"`editor-${getIndex(i, k)}-${j}`\"\n                class=\"metadata-descriptor datatable-row-header\"\n                :title=\"shot.data ? shot.data[descriptor.field_name] : ''\"\n                :style=\"{\n                  'z-index': 1000 - i - k * 100, // Needed for combo to be above the next cell\n                  left: offsets['editor-' + j]\n                    ? `${offsets['editor-' + j]}px`\n                    : '0'\n                }\"\n                :key=\"shot.id + '-' + descriptor.id\"\n                v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n              >\n                <metadata-input\n                  :entity=\"shot\"\n                  :descriptor=\"descriptor\"\n                  :indexes=\"{ i, j, k }\"\n                  @metadata-changed=\"$emit('metadata-changed', $event)\"\n                />\n              </td>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${getIndex(i, k)}-${j}`\"\n                  :key=\"columnId + '-' + shot.id\"\n                  :class=\"{\n                    canceled: shot.canceled,\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId],\n                    'datatable-row-header': true\n                  }\"\n                  :canceled=\"shot.canceled\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :column-y=\"j\"\n                  :contact-sheet=\"displaySettings.contactSheetMode\"\n                  :entity=\"shot\"\n                  :is-assignees=\"displaySettings.showAssignations\"\n                  :is-casting-ready=\"isCastingReady(shot, columnId)\"\n                  :is-static=\"true\"\n                  :left=\"\n                    offsets['validation-' + j]\n                      ? `${offsets['validation-' + j]}px`\n                      : '0'\n                  \"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :row-x=\"getIndex(i, k)\"\n                  :selected=\"isSelected(i, k, j)\"\n                  :sticked=\"true\"\n                  :task-test=\"taskMap.get(shot.validations.get(columnId))\"\n                  @select=\"infos => onTaskSelected(infos, true)\"\n                  @unselect=\"infos => onTaskUnselected(infos, true)\"\n                  v-for=\"(columnId, j) in stickedDisplayedValidationColumns\"\n                />\n              </template>\n\n              <description-cell\n                class=\"description\"\n                :entry=\"shot\"\n                :editable=\"isCurrentUserManager\"\n                @description-changed=\"\n                  value => onDescriptionChanged(shot, value)\n                \"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isShotDescription\n                \"\n              />\n\n              <!-- Fixed attributes -->\n              <td\n                class=\"time-spent selectable number-cell\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isShotTime &&\n                  metadataDisplayHeaders.timeSpent\n                \"\n              >\n                {{ formatDuration(shot.timeSpent) }}\n              </td>\n\n              <td\n                class=\"estimation selectable number-cell\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isShotEstimation &&\n                  metadataDisplayHeaders.estimation\n                \"\n              >\n                {{ formatDuration(shot.estimation) }}\n              </td>\n\n              <td\n                class=\"frames number-cell\"\n                v-if=\"\n                  isFrames &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.frames\n                \"\n              >\n                <input\n                  class=\"input-editor\"\n                  step=\"1\"\n                  :value=\"shot.nb_frames\"\n                  type=\"number\"\n                  min=\"0\"\n                  @input=\"event => onNbFramesChanged(shot, event.target.value)\"\n                  @keydown=\"onNumberFieldKeyDown\"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{ shot.nb_frames }}\n                </span>\n              </td>\n\n              <td\n                class=\"drawings number-cell\"\n                v-if=\"\n                  displaySettings.showInfos &&\n                  isPaperProduction &&\n                  metadataDisplayHeaders.drawings\n                \"\n              >\n                {{ shot.nb_drawings }}\n              </td>\n\n              <td\n                class=\"framein number-cell\"\n                :class=\"{ 'timecode-cell': displaySettings.inOutTimecode }\"\n                v-if=\"\n                  isFrameIn &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.frameIn\n                \"\n              >\n                <span\n                  class=\"metadata-value selectable\"\n                  v-if=\"displaySettings.inOutTimecode\"\n                >\n                  {{\n                    formatToTimecode(\n                      getMetadataFieldValue({ field_name: 'frame_in' }, shot)\n                    )\n                  }}\n                </span>\n                <input\n                  class=\"input-editor\"\n                  step=\"1\"\n                  type=\"number\"\n                  min=\"0\"\n                  :value=\"\n                    getMetadataFieldValue({ field_name: 'frame_in' }, shot)\n                  \"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        shot,\n                        { field_name: 'frame_in', data_type: 'number' },\n                        event\n                      )\n                  \"\n                  @keydown=\"onNumberFieldKeyDown\"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 1)\n                  \"\n                  v-else-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{ getMetadataFieldValue({ field_name: 'frame_in' }, shot) }}\n                </span>\n              </td>\n              <td\n                class=\"frameout number-cell\"\n                :class=\"{ 'timecode-cell': displaySettings.inOutTimecode }\"\n                v-if=\"\n                  isFrameOut &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.frameOut\n                \"\n              >\n                <span\n                  class=\"metadata-value selectable\"\n                  v-if=\"displaySettings.inOutTimecode\"\n                >\n                  {{\n                    formatToTimecode(\n                      getMetadataFieldValue({ field_name: 'frame_out' }, shot)\n                    )\n                  }}\n                </span>\n                <input\n                  class=\"input-editor\"\n                  step=\"1\"\n                  type=\"number\"\n                  min=\"0\"\n                  :value=\"\n                    getMetadataFieldValue({ field_name: 'frame_out' }, shot)\n                  \"\n                  @keydown=\"onNumberFieldKeyDown\"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        shot,\n                        { field_name: 'frame_out', data_type: 'number' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 2)\n                  \"\n                  v-else-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{ getMetadataFieldValue({ field_name: 'frame_out' }, shot) }}\n                </span>\n              </td>\n\n              <td\n                class=\"fps number-cell\"\n                v-if=\"\n                  isFps &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.fps\n                \"\n              >\n                <input\n                  class=\"input-editor\"\n                  min=\"0\"\n                  max=\"1000\"\n                  step=\"0.001\"\n                  type=\"number\"\n                  :value=\"getMetadataFieldValue({ field_name: 'fps' }, shot)\"\n                  @keydown=\"onNumberFieldKeyDown\"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        shot,\n                        { field_name: 'fps', data_type: 'number' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 3)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{ getMetadataFieldValue({ field_name: 'fps' }, shot) }}\n                </span>\n              </td>\n\n              <td\n                class=\"max-retakes number-cell\"\n                v-if=\"\n                  isMaxRetakes &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.maxRetakes\n                \"\n              >\n                <input\n                  class=\"input-editor\"\n                  type=\"number\"\n                  step=\"1\"\n                  :value=\"\n                    getMetadataFieldValue({ field_name: 'max_retakes' }, shot)\n                  \"\n                  @keydown=\"onNumberFieldKeyDown\"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        shot,\n                        { field_name: 'max_retakes', data_type: 'number' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 3)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{\n                    getMetadataFieldValue({ field_name: 'max_retakes' }, shot)\n                  }}\n                </span>\n              </td>\n\n              <td\n                class=\"resolution\"\n                v-if=\"\n                  isResolution &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.resolution\n                \"\n              >\n                <input\n                  :class=\"{\n                    'input-editor': true,\n                    error: !isValidResolution(shot)\n                  }\"\n                  :value=\"\n                    getMetadataFieldValue({ field_name: 'resolution' }, shot)\n                  \"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        shot,\n                        { field_name: 'resolution' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 3)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n                <span class=\"metadata-value selectable\" v-else>\n                  {{\n                    getMetadataFieldValue({ field_name: 'resolution' }, shot)\n                  }}\n                </span>\n              </td>\n\n              <!-- other metadata cells -->\n              <template v-if=\"displaySettings.showInfos\">\n                <td\n                  class=\"metadata-descriptor\"\n                  :title=\"shot.data ? shot.data[descriptor.field_name] : ''\"\n                  :key=\"shot.id + '-' + descriptor.id\"\n                  v-for=\"(\n                    descriptor, j\n                  ) in nonStickedVisibleMetadataDescriptors\"\n                >\n                  <metadata-input\n                    :entity=\"shot\"\n                    :descriptor=\"descriptor\"\n                    :indexes=\"{ i, j, k }\"\n                    @metadata-changed=\"$emit('metadata-changed', $event)\"\n                  />\n                </td>\n              </template>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${getIndex(i, k)}-${\n                    j + stickedDisplayedValidationColumns.length\n                  }`\"\n                  :class=\"{\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId]\n                  }\"\n                  :canceled=\"shot.canceled\"\n                  :key=\"`${columnId}-${shot.id}`\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :contact-sheet=\"displaySettings.contactSheetMode\"\n                  :entity=\"shot\"\n                  :task-test=\"\n                    taskMap.get(\n                      shot.validations ? shot.validations.get(columnId) : null\n                    )\n                  \"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :selected=\"\n                    isSelected(\n                      i,\n                      k,\n                      j + stickedDisplayedValidationColumns.length\n                    )\n                  \"\n                  :row-x=\"getIndex(i, k)\"\n                  :column-y=\"j\"\n                  :is-assignees=\"displaySettings.showAssignations\"\n                  :is-casting-ready=\"isCastingReady(shot, columnId)\"\n                  :casting-title=\"castingTitle(shot, columnId)\"\n                  @select=\"onTaskSelected\"\n                  @unselect=\"onTaskUnselected\"\n                  v-for=\"(columnId, j) in nonStickedDisplayedValidationColumns\"\n                />\n              </template>\n              <row-actions-cell\n                :entry=\"shot\"\n                :hide-history=\"false\"\n                @delete-clicked=\"$emit('delete-clicked', shot)\"\n                @edit-clicked=\"$emit('edit-clicked', shot)\"\n                @history-clicked=\"$emit('shot-history', shot)\"\n                @restore-clicked=\"$emit('restore-clicked', shot)\"\n                v-if=\"isCurrentUserManager\"\n              />\n              <td class=\"actions\" v-else></td>\n            </tr>\n          </tbody>\n        </template>\n      </table>\n    </div>\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <div\n      class=\"has-text-centered\"\n      v-if=\"isEmptyList && !isCurrentUserClient && !isLoading\"\n    >\n      <p class=\"info\">\n        <img src=\"../../assets/illustrations/empty_shot.png\" />\n      </p>\n      <p class=\"info\">{{ $t('shots.empty_list') }}</p>\n      <button-simple\n        class=\"level-item big-button\"\n        :text=\"$t('shots.new_shots')\"\n        @click=\"$emit('add-shots')\"\n      />\n    </div>\n    <div\n      class=\"has-text-centered\"\n      v-if=\"isEmptyList && isCurrentUserClient && !isLoading\"\n    >\n      <p class=\"info\">\n        <img src=\"../../assets/illustrations/empty_shot.png\" />\n      </p>\n      <p class=\"info\">{{ $t('shots.empty_list_client') }}</p>\n    </div>\n\n    <p class=\"has-text-centered nb-shots\" v-if=\"!isEmptyList && !isLoading\">\n      {{ displayedShotsLength }} {{ $tc('shots.number', displayedShotsLength) }}\n      <span v-if=\"displayedShotsFrames\">\n        -\n        {{ displayedShotsFrames }}\n        {{ $tc('main.nb_frames', displayedShotsFrames) }}\n      </span>\n      <span v-if=\"isPaperProduction\">\n        -\n        {{ displayedShotsDrawings }}\n        {{ $tc('main.nb_drawings', displayedShotsDrawings) }}\n      </span>\n      <span v-if=\"displayedShotsTimeSpent > 0 || displayedShotsEstimation > 0\">\n        ({{ formatDuration(displayedShotsTimeSpent) }}\n        {{\n          isDurationInHours\n            ? $tc(\n                'main.hours_spent',\n                formatDuration(displayedShotsTimeSpent, false)\n              )\n            : $tc(\n                'main.days_spent',\n                formatDuration(displayedShotsTimeSpent, false)\n              )\n        }},\n        {{ formatDuration(displayedShotsEstimation) }}\n        {{\n          isDurationInHours\n            ? $tc(\n                'main.hours_estimated',\n                formatDuration(displayedShotsEstimation, false)\n              )\n            : $tc(\n                'main.man_days',\n                formatDuration(displayedShotsEstimation, false)\n              )\n        }})\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport preferences from '@/lib/preferences'\nimport { range } from '@/lib/time'\nimport { formatToTimecode } from '@/lib/video'\n\nimport { descriptorMixin } from '@/components/mixins/descriptors'\nimport { domMixin } from '@/components/mixins/dom'\nimport { entityListMixin } from '@/components/mixins/entity_list'\nimport { formatListMixin } from '@/components/mixins/format'\nimport { selectionListMixin } from '@/components/mixins/selection'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport DescriptionCell from '@/components/cells/DescriptionCell.vue'\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail.vue'\nimport MetadataHeader from '@/components/cells/MetadataHeader.vue'\nimport MetadataInput from '@/components/cells/MetadataInput.vue'\nimport RowActionsCell from '@/components/cells/RowActionsCell.vue'\nimport TableMetadataHeaderMenu from '@/components/widgets/TableMetadataHeaderMenu.vue'\nimport TableMetadataSelectorMenu from '@/components/widgets/TableMetadataSelectorMenu.vue'\nimport TableHeaderMenu from '@/components/widgets/TableHeaderMenu.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport ValidationCell from '@/components/cells/ValidationCell.vue'\nimport ValidationHeader from '@/components/cells/ValidationHeader.vue'\n\nexport default {\n  name: 'shot-list',\n\n  mixins: [\n    descriptorMixin,\n    domMixin,\n    formatListMixin,\n    entityListMixin,\n    selectionListMixin\n  ],\n\n  components: {\n    ButtonSimple,\n    DescriptionCell,\n    EntityThumbnail,\n    MetadataHeader,\n    MetadataInput,\n    RowActionsCell,\n    TableHeaderMenu,\n    TableMetadataHeaderMenu,\n    TableMetadataSelectorMenu,\n    TableInfo,\n    ValidationCell,\n    ValidationHeader\n  },\n\n  props: {\n    displaySettings: {\n      type: Object,\n      default: () => ({})\n    },\n    displayedShots: {\n      type: Array,\n      default: () => []\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    validationColumns: {\n      type: Array,\n      default: () => []\n    },\n    departmentFilter: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  emits: [\n    'add-shots',\n    'create-tasks',\n    'delete-clicked',\n    'edit-clicked',\n    'field-changed',\n    'metadata-changed',\n    'restore-clicked',\n    'scroll',\n    'sequence-clicked',\n    'shot-history'\n  ],\n\n  data() {\n    return {\n      type: 'shot',\n      hiddenColumns: {},\n      lastHeaderMenuDisplayed: null,\n      lastMetadaDataHeaderMenuDisplayed: null,\n      lastHeaderMenuDisplayedIndexInGrid: null,\n      lastSelectedShot: null,\n      lastSelection: null,\n      metadataDisplayHeaders: {\n        drawings: true,\n        fps: true,\n        frameIn: true,\n        frameOut: true,\n        frames: true,\n        estimation: true,\n        maxRetakes: true,\n        resolution: true,\n        timeSpent: true\n      },\n      offsets: {},\n      stickedColumns: {},\n      domEvents: [\n        ['mousemove', this.onMouseMove],\n        ['touchmove', this.onMouseMove],\n        ['mouseup', this.stopBrowsing],\n        ['mouseleave', this.stopBrowsing],\n        ['touchend', this.stopBrowsing],\n        ['touchcancel', this.stopBrowsing],\n        ['keyup', this.stopBrowsing]\n      ]\n    }\n  },\n\n  beforeUnmount() {\n    this.removeEvents(this.domEvents)\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'currentEpisode',\n      'displayedShotsEstimation',\n      'displayedShotsCount',\n      'displayedShotsDrawings',\n      'displayedShotsFrames',\n      'displayedShotsLength',\n      'displayedShotsTimeSpent',\n      'isBigThumbnails',\n      'isCurrentUserAdmin',\n      'isCurrentUserManager',\n      'isCurrentUserClient',\n      'isCurrentUserSupervisor',\n      'isFps',\n      'isFrames',\n      'isFrameIn',\n      'isFrameOut',\n      'isPaperProduction',\n      'isMaxRetakes',\n      'isResolution',\n      'isSingleEpisode',\n      'isShotDescription',\n      'isShotEstimation',\n      'isShotTime',\n      'isShowAssignations',\n      'displaySettings.showInfos',\n      'isTVShow',\n      'nbSelectedTasks',\n      'selectedShots',\n      'selectedTasks',\n      'sequenceMap',\n      'shotFilledColumns',\n      'shotMap',\n      'shotMetadataDescriptors',\n      'shots',\n      'shotSearchText',\n      'shotSelectionGrid',\n      'taskMap',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    isEmptyList() {\n      return (\n        this.displayedShots &&\n        this.displayedShots[0].length === 0 &&\n        !this.isLoading &&\n        !this.isError &&\n        (!this.shotSearchText || this.shotSearchText.length === 0)\n      )\n    },\n\n    isEmptyTask() {\n      return (\n        !this.isEmptyList &&\n        !this.isLoading &&\n        this.validationColumns &&\n        this.validationColumns.length === 0\n      )\n    },\n\n    isListVisible() {\n      return !this.isLoading && !this.isError && this.displayedShotsCount > 0\n    },\n\n    visibleColumns() {\n      let count = 2\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isShotDescription\n          ? 1\n          : 0\n      count += this.visibleMetadataDescriptors.length\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isShotTime &&\n        this.metadataDisplayHeaders.timeSpent\n          ? 1\n          : 0\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isShotEstimation &&\n        this.metadataDisplayHeaders.estimation\n          ? 1\n          : 0\n\n      if (this.isPaperProduction) {\n        count +=\n          this.displaySettings.showInfos && this.metadataDisplayHeaders.drawings\n            ? 1\n            : 0\n      } else {\n        count +=\n          this.displaySettings.showInfos && this.metadataDisplayHeaders.frames\n            ? 1\n            : 0\n      }\n      count +=\n        this.displaySettings.showInfos &&\n        this.isFrameIn &&\n        this.metadataDisplayHeaders.frameIn\n          ? 1\n          : 0\n      count +=\n        this.displaySettings.showInfos &&\n        this.isFrameOut &&\n        this.metadataDisplayHeaders.frameOut\n          ? 1\n          : 0\n      count +=\n        this.displaySettings.showInfos &&\n        this.isFps &&\n        this.metadataDisplayHeaders.fps\n          ? 1\n          : 0\n      count +=\n        this.displaySettings.showInfos &&\n        this.isResolution &&\n        this.metadataDisplayHeaders.resolution\n          ? 1\n          : 0\n      count +=\n        this.displaySettings.showInfos &&\n        this.isMaxRetakes &&\n        this.metadataDisplayHeaders.max_retakes\n          ? 1\n          : 0\n      count += this.displayedValidationColumns.length\n      return count\n    },\n\n    displayedValidationColumns() {\n      return this.validationColumns.filter(columnId => {\n        return (\n          this.shotFilledColumns[columnId] &&\n          (!this.hiddenColumns[columnId] || this.displaySettings.showInfos)\n        )\n      })\n    },\n\n    metadataDescriptors() {\n      return this.shotMetadataDescriptors\n    },\n\n    localStorageStickKey() {\n      return `stick-shots-${this.currentProduction?.id}`\n    }\n  },\n\n  methods: {\n    ...mapActions(['displayMoreShots', 'setShotSelection']),\n\n    formatToTimecode,\n\n    isSelected(indexInGroup, groupIndex, columnIndex) {\n      const lineIndex = this.getIndex(indexInGroup, groupIndex)\n      return this.shotSelectionGrid[lineIndex][columnIndex]\n    },\n\n    isCastingReady(shot, columnId) {\n      if (!shot.nb_entities_out) {\n        return false\n      }\n      const task = this.taskMap.get(shot.validations.get(columnId))\n      return (\n        task &&\n        task.nb_assets_ready > 0 &&\n        shot.nb_entities_out === task.nb_assets_ready\n      )\n    },\n\n    castingTitle(shot, columnId) {\n      if (!shot.nb_entities_out) {\n        return ''\n      }\n      const task = this.taskMap.get(shot.validations.get(columnId))\n      return task\n        ? task.nb_assets_ready + ' / ' + shot.nb_entities_out + ' assets ready'\n        : ''\n    },\n\n    toggleLine(shot, event) {\n      const selected = event.target.checked\n      const shotsToSelect = [shot]\n      if (selected && this.shiftKeyPressed && this.lastSelectedShot) {\n        const shotsFlatten = this.displayedShots.flat()\n        let startShotIndex = shotsFlatten.findIndex(\n          displayedShot => displayedShot.id === this.lastSelectedShot.id\n        )\n        let endShotIndex = shotsFlatten.findIndex(\n          displayedShot => displayedShot.id === shot.id\n        )\n        if (startShotIndex > endShotIndex) {\n          ;[startShotIndex, endShotIndex] = [endShotIndex, startShotIndex]\n        }\n        if (startShotIndex >= 0 && endShotIndex >= 0) {\n          range(startShotIndex, endShotIndex).forEach(index => {\n            shotsToSelect.push(shotsFlatten[index])\n          })\n        }\n      }\n      if (selected) {\n        this.lastSelectedShot = shot\n      }\n      shotsToSelect.forEach(shot => {\n        this.setShotSelection({ shot, selected })\n      })\n    },\n\n    onBodyScroll(event) {\n      if (!this.$refs.body) return\n      const position = event.target\n      this.$emit('scroll', position.scrollTop)\n      const maxHeight =\n        this.$refs.body.scrollHeight - this.$refs.body.offsetHeight\n      if (maxHeight < position.scrollTop + 100) {\n        this.loadMoreShots()\n      }\n    },\n\n    loadMoreShots() {\n      this.displayMoreShots()\n    },\n\n    shotPath(shotId) {\n      return this.getPath('shot', shotId)\n    },\n\n    getPath(section, shotId) {\n      const route = {\n        name: section,\n        params: {\n          production_id: this.currentProduction?.id\n        }\n      }\n\n      if (this.isTVShow && this.currentEpisode) {\n        route.name = `episode-${section}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n\n      if (shotId) {\n        route.params.shot_id = shotId\n      }\n\n      return route\n    },\n\n    onInputKeyUp(event, i, j) {\n      const listWidth = this.visibleMetadataDescriptors.length + 4\n      const listHeight = this.displayedShotsCount\n      this.keyMetadataNavigation(listWidth, listHeight, i, j, event.key)\n      return this.pauseEvent(event)\n    },\n\n    onNbFramesChanged(entry, value) {\n      const shotsToChange = this.selectedShots.has(entry.id)\n        ? this.selectedShots\n        : [entry]\n\n      const cleanValue = this.sanitizeIntegerLight(value)\n\n      shotsToChange.forEach(shot => {\n        this.$emit('field-changed', {\n          entry: shot,\n          fieldName: 'nb_frames',\n          value: cleanValue\n        })\n      })\n    },\n\n    getIndex(i, k) {\n      return this.getEntityLineNumber(this.displayedShots, i, k)\n    },\n\n    toggleStickedColumns(columnId) {\n      const sticked = !this.stickedColumns[columnId]\n      this.stickedColumns = {\n        ...this.stickedColumns,\n        [columnId]: sticked\n      }\n      preferences.setObjectPreference(\n        this.localStorageStickKey,\n        this.stickedColumns\n      )\n    },\n\n    stickColumnClicked() {\n      this.toggleStickedColumns(this.lastHeaderMenuDisplayed)\n      this.showHeaderMenu()\n    },\n\n    metadataStickColumnClicked(event) {\n      this.toggleStickedColumns(this.lastMetadaDataHeaderMenuDisplayed)\n      this.showMetadataHeaderMenu(this.lastMetadaDataHeaderMenuDisplayed, event)\n    },\n\n    updateOffsets() {\n      if (this.isLoading) {\n        return\n      }\n      this.$nextTick(() => {\n        let offset = this.$refs['th-shot'].clientWidth\n        this.offsets = {}\n\n        if (this.displaySettings.showInfos) {\n          for (\n            let metadataCol = 0;\n            metadataCol < this.stickedVisibleMetadataDescriptors.length;\n            metadataCol++\n          ) {\n            this.offsets[`editor-${metadataCol}`] = offset\n            offset += this.$refs[`editor-${metadataCol}`][0].$el.clientWidth\n          }\n        }\n        for (\n          let validationCol = 0;\n          validationCol < this.stickedDisplayedValidationColumns.length;\n          validationCol++\n        ) {\n          this.offsets[`validation-${validationCol}`] = offset\n          offset += this.$refs[`validation-${validationCol}`][0].$el.clientWidth\n        }\n      })\n    }\n  },\n\n  watch: {\n    displayedShots() {\n      this.$options.lineIndex = {}\n    },\n\n    validationColumns() {\n      this.initHiddenColumns(this.validationColumns, this.hiddenColumns)\n    },\n\n    stickedColumns() {\n      this.updateOffsets()\n    },\n\n    isLoading() {\n      this.updateOffsets()\n    },\n\n    isBigThumbnails() {\n      this.updateOffsets()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.datatable-wrapper {\n  min-height: 40px;\n}\n\n.actions {\n  min-width: 160px;\n  position: sticky;\n}\n\nth.actions {\n  padding: 0.4em;\n}\n\n.name {\n  min-width: 100px;\n  width: 100px;\n}\n\n.bold {\n  font-weight: bold;\n}\n\n.name a {\n  color: inherit;\n}\n\n.name.shot-name {\n  min-width: 110px;\n  width: 110px;\n}\n\n.episode {\n  min-width: 100px;\n  width: 100px;\n}\n\n.sequence {\n  min-width: 100px;\n  width: 100px;\n  font-weight: bold;\n}\n\n.framein {\n  min-width: 60px;\n  width: 60px;\n}\n\n.frameout {\n  min-width: 60px;\n  width: 60px;\n}\n\n.fps {\n  min-width: 70px;\n  max-width: 70px;\n  width: 70px;\n}\n\n.resolution {\n  min-width: 110px;\n  max-width: 110px;\n  width: 110px;\n}\n\n.max-retakes {\n  min-width: 80px;\n  max-width: 80px;\n  width: 80px;\n}\n\n.description {\n  min-width: 200px;\n  max-width: 200px;\n  width: 200px;\n}\n\n.validation-cell {\n  min-width: 150px;\n  max-width: 150px;\n  width: 150px;\n}\n\n.frames {\n  min-width: 80px;\n  max-width: 80px;\n  width: 80px;\n}\n\n.drawings {\n  min-width: 80px;\n  max-width: 80px;\n  width: 80px;\n}\n\n.estimation,\n.time-spent {\n  min-width: 70px;\n  max-width: 70px;\n  width: 70px;\n}\n\n.timecode-cell {\n  min-width: 95px;\n  max-width: 95px;\n  width: 95px;\n  padding: 10px;\n}\n\ntd.name {\n  font-size: 1.2em;\n}\n\ntd.sequence {\n  font-size: 1.2em;\n}\n\nspan.thumbnail-empty {\n  display: block;\n  width: 50px;\n  height: 30px;\n  background: #f3f3f3;\n}\n\n.info {\n  margin-top: 2em;\n}\n\n.info img {\n  max-width: 80vh;\n}\n\n.datatable-row th.name {\n  font-size: 1.1em;\n  padding: 6px;\n}\n\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n\n// Metadata cell CSS\n\ntd.metadata-descriptor {\n  height: 3.1rem;\n  max-width: 120px;\n  padding: 0;\n}\n\n.metadata-value {\n  padding: 0.5rem 0.75rem;\n}\n</style>\n","<template>\n  <div class=\"columns fixed-page\">\n    <div class=\"column main-column\">\n      <div class=\"shots page\">\n        <div class=\"shot-list-header page-header\">\n          <div class=\"flexrow mb1\">\n            <search-field\n              ref=\"shot-search-field\"\n              :can-save=\"true\"\n              @change=\"onSearchTyped\"\n              @enter=\"onSearchChange\"\n              @save=\"saveSearchQuery\"\n              placeholder=\"ex: e01 s01 anim=wip\"\n            />\n            <button-simple\n              class=\"flexrow-item\"\n              :title=\"$t('entities.build_filter.title')\"\n              icon=\"filter\"\n              @click=\"() => (modals.isBuildFilterDisplayed = true)\"\n            />\n            <info-question-mark\n              class=\"flexrow-item mt05\"\n              :text=\"currentEpisode.description\"\n              v-if=\"currentEpisode && currentEpisode.description\"\n            />\n            <div class=\"filler\"></div>\n            <div class=\"flexrow flexrow-item\" v-if=\"!isCurrentUserClient\">\n              <combobox-department\n                class=\"combobox-department flexrow-item\"\n                :selectable-departments=\"selectableDepartments('Shot')\"\n                :display-all-and-my-departments=\"true\"\n                rounded\n                v-model=\"selectedDepartment\"\n                v-if=\"departments.length > 0\"\n              />\n              <combobox-display-options\n                class=\"flexrow-item\"\n                :type=\"type\"\n                v-model=\"displaySettings\"\n              />\n            </div>\n            <div class=\"flexrow\" v-if=\"isCurrentUserManager\">\n              <button-simple\n                class=\"flexrow-item\"\n                :title=\"$t('entities.thumbnails.title')\"\n                icon=\"import-files\"\n                @click=\"showAddThumbnailsModal\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                icon=\"file-digit\"\n                :title=\"$t('shots.get_frames_from_previews')\"\n                @click=\"() => (modals.isSetFramesDisplayed = true)\"\n                v-if=\"isCurrentUserManager\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                :title=\"$t('main.edl.import_file')\"\n                icon=\"import-edl\"\n                @click=\"showEDLImportModal\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                :title=\"$t('main.csv.import_file')\"\n                icon=\"import\"\n                @click=\"showImportModal\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                icon=\"export\"\n                :title=\"$t('main.csv.export_file')\"\n                @click=\"onExportClick\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                :text=\"$t('shots.manage')\"\n                icon=\"plus\"\n                @click=\"showManageShots\"\n              />\n            </div>\n          </div>\n\n          <div class=\"query-list\">\n            <search-query-list\n              :groups=\"shotSearchFilterGroups\"\n              :is-group-enabled=\"true\"\n              :queries=\"shotSearchQueries\"\n              type=\"shot\"\n              @remove-search=\"removeSearchQuery\"\n              v-if=\"!isShotsLoading && !initialLoading\"\n            />\n          </div>\n        </div>\n\n        <sorting-info\n          :sorting=\"shotSorting\"\n          @clear-sorting=\"onChangeSortClicked(null)\"\n          v-if=\"shotSorting?.length\"\n        />\n        <shot-list\n          ref=\"shot-list\"\n          :department-filter=\"departmentFilter\"\n          :displayed-shots=\"displayedShotsBySequence\"\n          :display-settings=\"displaySettings\"\n          :is-loading=\"isShotsLoading || initialLoading\"\n          :is-error=\"isShotsLoadingError\"\n          :validation-columns=\"shotValidationColumns\"\n          @add-metadata=\"onAddMetadataClicked\"\n          @add-shots=\"showManageShots\"\n          @change-sort=\"onChangeSortClicked\"\n          @create-tasks=\"showCreateTasksModal\"\n          @delete-all-tasks=\"onDeleteAllTasksClicked\"\n          @delete-clicked=\"onDeleteClicked\"\n          @delete-metadata=\"onDeleteMetadataClicked\"\n          @edit-clicked=\"onEditClicked\"\n          @edit-metadata=\"onEditMetadataClicked\"\n          @field-changed=\"onFieldChanged\"\n          @metadata-changed=\"onMetadataChanged\"\n          @restore-clicked=\"onRestoreClicked\"\n          @scroll=\"saveScrollPosition\"\n          @shot-history=\"showShotHistoryModal\"\n          @sequence-clicked=\"onSequenceClicked\"\n          @keep-task-panel-open=\"onKeepTaskPanelOpenChanged\"\n        />\n      </div>\n    </div>\n\n    <div\n      id=\"side-column\"\n      class=\"column side-column\"\n      v-show=\"isTaskSidePanelOpen\"\n    >\n      <task-info\n        :task=\"selectedTasks.values().next().value\"\n        entity-type=\"Shot\"\n        with-actions\n      />\n    </div>\n\n    <manage-shots-modal\n      :active=\"modals.isManageDisplayed\"\n      :is-loading=\"loading.manage\"\n      @add-episode=\"addEpisode\"\n      @add-sequence=\"addSequence\"\n      @add-shot=\"addShot\"\n      @cancel=\"hideManageShots\"\n    />\n\n    <edit-shot-modal\n      :active=\"modals.isNewDisplayed\"\n      :is-loading=\"loading.edit\"\n      :is-error=\"errors.edit\"\n      :shot-to-edit=\"shotToEdit\"\n      @cancel=\"modals.isNewDisplayed = false\"\n      @confirm=\"confirmEditShot\"\n    />\n\n    <delete-modal\n      ref=\"delete-shot-modal\"\n      :active=\"modals.isDeleteDisplayed\"\n      :is-loading=\"loading.del\"\n      :is-error=\"errors.del\"\n      :text=\"deleteText()\"\n      :error-text=\"$t('shots.delete_error')\"\n      @cancel=\"modals.isDeleteDisplayed = false\"\n      @confirm=\"confirmDeleteShot\"\n    />\n\n    <delete-modal\n      ref=\"restore-shot-modal\"\n      :active=\"modals.isRestoreDisplayed\"\n      :is-loading=\"loading.restore\"\n      :is-error=\"errors.restore\"\n      :text=\"restoreText()\"\n      :error-text=\"$t('shots.restore_error')\"\n      @cancel=\"modals.isRestoreDisplayed = false\"\n      @confirm=\"confirmRestoreShot\"\n    />\n\n    <delete-modal\n      ref=\"delete-metadata-modal\"\n      :active=\"modals.isDeleteMetadataDisplayed\"\n      :is-loading=\"loading.deleteMetadata\"\n      :is-error=\"errors.deleteMetadata\"\n      @cancel=\"modals.isDeleteMetadataDisplayed = false\"\n      :text=\"$t('productions.metadata.delete_text')\"\n      :error-text=\"$t('productions.metadata.delete_error')\"\n      @confirm=\"confirmDeleteMetadata\"\n    />\n\n    <hard-delete-modal\n      ref=\"delete-all-tasks-modal\"\n      :active=\"modals.isDeleteAllTasksDisplayed\"\n      :is-loading=\"loading.deleteAllTasks\"\n      :is-error=\"errors.deleteAllTasks\"\n      :text=\"deleteAllTasksText()\"\n      :error-text=\"$t('tasks.delete_all_error')\"\n      :lock-text=\"deleteAllTasksLockText\"\n      :selection-option=\"true\"\n      @cancel=\"modals.isDeleteAllTasksDisplayed = false\"\n      @confirm=\"confirmDeleteAllTasks\"\n    />\n\n    <import-render-modal\n      :active=\"modals.isImportRenderDisplayed\"\n      :is-loading=\"loading.importing\"\n      :is-error=\"errors.importing\"\n      :import-error=\"errors.importingError\"\n      :parsed-csv=\"parsedCSV\"\n      :form-data=\"shotsCsvFormData\"\n      :columns=\"renderColumns\"\n      :data-matchers=\"dataMatchers\"\n      :database=\"filteredShots\"\n      @reupload=\"resetImport\"\n      @cancel=\"hideImportRenderModal\"\n      @confirm=\"uploadImportFile\"\n    />\n\n    <import-modal\n      ref=\"import-modal\"\n      :active=\"modals.isImportDisplayed\"\n      :is-loading=\"loading.importing\"\n      :is-error=\"errors.importing\"\n      :form-data=\"shotsCsvFormData\"\n      :columns=\"dataMatchers\"\n      :optional-columns=\"optionalColumns\"\n      :generic-columns=\"genericColumns\"\n      @cancel=\"hideImportModal\"\n      @confirm=\"renderImport\"\n    />\n\n    <import-edl-modal\n      ref=\"import-edl-modal\"\n      :active=\"modals.isEDLImportDisplayed\"\n      :is-loading=\"loading.importing\"\n      :is-error=\"errors.importing\"\n      :import-error=\"errors.importingError\"\n      @cancel=\"hideEDLImportModal\"\n      @confirm=\"uploadEDLFile\"\n    />\n\n    <create-tasks-modal\n      :active=\"modals.isCreateTasksDisplayed\"\n      :is-loading=\"loading.creatingTasks\"\n      :is-loading-stay=\"loading.creatingTasksStay\"\n      :is-error=\"errors.creatingTasks\"\n      :title=\"$t('tasks.create_tasks_shot')\"\n      :text=\"$t('tasks.create_tasks_shot_explaination')\"\n      :error-text=\"$t('tasks.create_tasks_shot_failed')\"\n      @cancel=\"hideCreateTasksModal\"\n      @confirm=\"confirmCreateTasks\"\n      @confirm-and-stay=\"confirmCreateTasksAndStay\"\n    />\n\n    <add-metadata-modal\n      :active=\"modals.isAddMetadataDisplayed\"\n      :is-loading=\"loading.addMetadata\"\n      :is-error=\"errors.addMetadata\"\n      :descriptor-to-edit=\"descriptorToEdit\"\n      entity-type=\"Shot\"\n      @cancel=\"closeMetadataModal\"\n      @confirm=\"confirmAddMetadata\"\n    />\n\n    <set-frames-from-task-type-previews-modal\n      :active=\"modals.isSetFramesDisplayed\"\n      :is-loading=\"loading.getFrames\"\n      :is-error=\"errors.getFrames\"\n      @cancel=\"modals.isSetFramesDisplayed = false\"\n      @confirm=\"confirmSetFrames\"\n    />\n\n    <add-thumbnails-modal\n      ref=\"add-thumbnails-modal\"\n      active\n      entity-type=\"Shot\"\n      parent=\"shots\"\n      :is-loading=\"loading.addThumbnails\"\n      :is-error=\"errors.addThumbnails\"\n      @cancel=\"hideAddThumbnailsModal\"\n      @confirm=\"confirmAddThumbnails\"\n      v-if=\"modals.isAddThumbnailsDisplayed\"\n    />\n\n    <shot-history-modal\n      :active=\"modals.isShotHistoryDisplayed\"\n      :shot=\"historyShot\"\n      @cancel=\"hideShotHistoryModal\"\n    />\n\n    <build-filter-modal\n      ref=\"build-filter-modal\"\n      :active=\"modals.isBuildFilterDisplayed\"\n      entity-type=\"shot\"\n      @cancel=\"modals.isBuildFilterDisplayed = false\"\n      @confirm=\"confirmBuildFilter\"\n    />\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { mapGetters, mapActions } from 'vuex'\n\nimport shotStore from '@/store/modules/shots'\n\nimport csv from '@/lib/csv'\nimport func from '@/lib/func'\nimport { sortByName } from '@/lib/sorting'\nimport stringHelpers from '@/lib/string'\n\nimport { searchMixin } from '@/components/mixins/search'\nimport { entitiesMixin } from '@/components/mixins/entities'\n\nimport AddMetadataModal from '@/components/modals/AddMetadataModal.vue'\nimport AddThumbnailsModal from '@/components/modals/AddThumbnailsModal.vue'\nimport BuildFilterModal from '@/components/modals/BuildFilterModal.vue'\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport ComboboxDepartment from '@/components/widgets/ComboboxDepartment.vue'\nimport ComboboxDisplayOptions from '@/components/widgets/ComboboxDisplayOptions.vue'\nimport CreateTasksModal from '@/components/modals/CreateTasksModal.vue'\nimport DeleteModal from '@/components/modals/DeleteModal.vue'\nimport EditShotModal from '@/components/modals/EditShotModal.vue'\nimport ImportRenderModal from '@/components/modals/ImportRenderModal.vue'\nimport ImportModal from '@/components/modals/ImportModal.vue'\nimport ImportEdlModal from '@/components/modals/ImportEdlModal.vue'\nimport InfoQuestionMark from '@/components/widgets/InfoQuestionMark.vue'\nimport HardDeleteModal from '@/components/modals/HardDeleteModal.vue'\nimport ManageShotsModal from '@/components/modals/ManageShotsModal.vue'\nimport SearchField from '@/components/widgets/SearchField.vue'\nimport SearchQueryList from '@/components/widgets/SearchQueryList.vue'\nimport SetFramesFromTaskTypePreviewsModal from '@/components/modals/SetFramesFromTaskTypePreviewsModal.vue'\nimport SortingInfo from '@/components/widgets/SortingInfo.vue'\nimport ShotHistoryModal from '@/components/modals/ShotHistoryModal.vue'\nimport ShotList from '@/components/lists/ShotList.vue'\nimport TaskInfo from '@/components/sides/TaskInfo.vue'\n\nexport default {\n  name: 'shots',\n\n  mixins: [searchMixin, entitiesMixin],\n\n  components: {\n    AddMetadataModal,\n    AddThumbnailsModal,\n    BuildFilterModal,\n    ButtonSimple,\n    ComboboxDepartment,\n    ComboboxDisplayOptions,\n    CreateTasksModal,\n    DeleteModal,\n    EditShotModal,\n    ImportModal,\n    ImportEdlModal,\n    HardDeleteModal,\n    ManageShotsModal,\n    ImportRenderModal,\n    InfoQuestionMark,\n    SearchField,\n    SearchQueryList,\n    SetFramesFromTaskTypePreviewsModal,\n    SortingInfo,\n    ShotHistoryModal,\n    ShotList,\n    TaskInfo\n  },\n\n  data() {\n    return {\n      type: 'shot',\n      deleteAllTasksLockText: null,\n      descriptorToEdit: {},\n      displaySettings: {\n        bigThumbnails: false,\n        contactSheetMode: false,\n        inOutTimecode: false,\n        showAssignations: true,\n        showInfos: true\n      },\n      formData: null,\n      historyShot: {},\n      initialLoading: true,\n      optionalColumns: [\n        'Description',\n        'Nb Frames',\n        'Frame In',\n        'Frame Out',\n        'FPS',\n        'Resolution'\n      ],\n      genericColumns: [\n        'Metadata column name (text value)',\n        'Task type name (task status name value)',\n        'Task type name + comment (text value)'\n      ],\n      parsedCSV: [],\n      selectedDepartment: 'ALL',\n      shotToDelete: null,\n      shotToEdit: null,\n      shotToRestore: null,\n      taskTypeForTaskDeletion: null,\n      departmentFilter: [],\n      modals: {\n        isAddMetadataDisplayed: false,\n        isAddThumbnailsDisplayed: false,\n        isBuildFilterDisplayed: false,\n        isCreateTasksDisplayed: false,\n        isDeleteDisplayed: false,\n        isDeleteMetadataDisplayed: false,\n        isDeleteAllTasksDisplayed: false,\n        isSetFramesDisplayed: false,\n        isImportRenderDisplayed: false,\n        isImportDisplayed: false,\n        isEDLImportDisplayed: false,\n        isManageDisplayed: false,\n        isNewDisplayed: false,\n        isRestoreDisplayed: false,\n        isShotHistoryDisplayed: false\n      },\n      loading: {\n        addMetadata: false,\n        addThumbnails: false,\n        creatingTasks: false,\n        creatingTasksStay: false,\n        deleteAllTasks: false,\n        deleteMetadata: false,\n        edit: false,\n        del: false,\n        getFrames: false,\n        importing: false,\n        restore: false,\n        savingSearch: false,\n        stay: false\n      },\n      pageName: 'Shots',\n      errors: {\n        addMetadata: false,\n        deleteMetadata: false,\n        creatingTasks: false,\n        deleteAllTasks: false,\n        getFrames: false,\n        importing: false,\n        importingError: null\n      }\n    }\n  },\n\n  beforeUnmount() {\n    this.clearSelectedShots()\n  },\n\n  mounted() {\n    this.setOptionalImportColumns()\n    const finalize = () => {\n      this.$nextTick(() => {\n        // Needed to be sure the current production is set\n        this.loadShots(() => {\n          this.initialLoading = false\n        })\n      })\n    }\n\n    if (\n      this.shotMap.size < 2 ||\n      (this.shotValidationColumns.length > 0 &&\n        (!this.shotMap.get(this.shotMap.keys().next().value) ||\n          !this.shotMap.get(this.shotMap.keys().next().value).validations))\n    ) {\n      if (\n        this.currentProduction &&\n        this.episodes.length > 0 &&\n        this.episodes[0].project_id !== this.currentProduction.id\n      ) {\n        this.loadEpisodes()\n          .then(() => finalize())\n          .catch(console.error)\n      } else {\n        finalize()\n      }\n    } else {\n      if (!this.isShotsLoading) this.initialLoading = false\n      this.onSearchChange()\n      this.$refs['shot-list']?.setScrollPosition(this.shotListScrollPosition)\n      this.$nextTick(() => {\n        this.$refs['shot-list']?.selectTaskFromQuery()\n        this.applySearchFromUrl()\n        this.onSearchChange()\n      })\n      this.reloadEpisodeShotsIfNeeded()\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'currentSection',\n      'departmentMap',\n      'displayedSequences',\n      'displayedShots',\n      'displayedShotsBySequence',\n      'episodeMap',\n      'episodes',\n      'departments',\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'isFrames',\n      'isFrameIn',\n      'isFrameOut',\n      'isFps',\n      'isLongShotList',\n      'isMaxRetakes',\n      'isPaperProduction',\n      'isResolution',\n      'isShotDescription',\n      'isShotEstimation',\n      'isShotTime',\n      'isShotsLoading',\n      'isShotsLoadingError',\n      'isTVShow',\n      'openProductions',\n      'productionShotTaskTypes',\n      'selectedShots',\n      'sequences',\n      'shotFilledColumns',\n      'shotsCsvFormData',\n      'shotSearchQueries',\n      'shotSearchText',\n      'shotSearchFilterGroups',\n      'shotsPath',\n      'shotValidationColumns',\n      'shotListScrollPosition',\n      'shots',\n      'shotSorting',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    shotMap() {\n      return shotStore.cache.shotMap\n    },\n\n    searchField() {\n      return this.$refs['shot-search-field']\n    },\n\n    addThumbnailsModal() {\n      return this.$refs['add-thumbnails-modal']\n    },\n\n    renderColumns() {\n      const collection = [...this.dataMatchers, ...this.optionalColumns]\n\n      this.productionShotTaskTypes.forEach(item => {\n        collection.push(item.name)\n        collection.push(`${item.name} comment`)\n      })\n\n      return collection\n    },\n\n    dataMatchers() {\n      return this.isTVShow\n        ? ['Episode', 'Sequence', 'Name']\n        : ['Sequence', 'Name']\n    },\n\n    filteredShots() {\n      const shots = {}\n      this.displayedShotsBySequence.forEach(sequence => {\n        sequence.forEach(item => {\n          let shotKey = `${item.sequence_name}${item.name}`\n          if (this.isTVShow) {\n            shotKey = item.episode_name + shotKey\n          }\n          shots[shotKey] = true\n        })\n      })\n      return shots\n    },\n\n    metadataDescriptors() {\n      return this.shotMetadataDescriptors\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addMetadataDescriptor',\n      'createTasks',\n      'changeShotSort',\n      'clearSelectedShots',\n      'clearSelectedTasks',\n      'commentTaskWithPreview',\n      'deleteAllShotTasks',\n      'deleteShot',\n      'deleteMetadataDescriptor',\n      'editShot',\n      'getShotsCsvLines',\n      'hideAssignations',\n      'loadEpisodes',\n      'loadShots',\n      'setNbFramesFromTaskTypePreviews',\n      'newEpisode',\n      'newSequence',\n      'newShot',\n      'removeShotSearch',\n      'restoreShot',\n      'saveShotSearch',\n      'setLastProductionScreen',\n      'setPreview',\n      'setShotSearch',\n      'showAssignations',\n      'uploadShotFile',\n      'uploadEdlFile'\n    ]),\n\n    setOptionalImportColumns() {\n      const columns = [\n        this.$t('shots.fields.description'),\n        this.$t('shots.fields.nb_frames'),\n        this.$t('shots.fields.frame_in'),\n        this.$t('shots.fields.frame_out'),\n        this.$t('shots.fields.fps'),\n        this.$t('shots.fields.resolution')\n      ]\n      if (this.isPaperProduction) {\n        columns.splice(1, 1)\n      }\n      this.optionalColumns = columns\n    },\n\n    reloadEpisodeShotsIfNeeded() {\n      if (\n        ((this.isTVShow && this.displayedSequences.length === 0) ||\n          this.displayedSequences[0]?.episode_id !== this.currentEpisode?.id ||\n          this.displayedShots[0]?.episode_id !== this.currentEpisode?.id) &&\n        !this.isShotsLoading &&\n        !this.initialLoading\n      ) {\n        this.$refs['shot-search-field']?.setValue('')\n        this.$store.commit('SET_SHOT_LIST_SCROLL_POSITION', 0)\n        this.initialLoading = true\n        this.loadShots(() => {\n          this.initialLoading = false\n          this.applySearchFromUrl()\n        })\n      }\n    },\n\n    addEpisode(episode, callback) {\n      this.newEpisode(episode).then(callback).catch(console.error)\n    },\n\n    addSequence(sequence, callback) {\n      this.newSequence(sequence).then(callback).catch(console.error)\n    },\n\n    addShot(shot, callback) {\n      this.newShot(shot).then(callback).catch(console.error)\n    },\n\n    confirmAddMetadata(form) {\n      this.loading.addMetadata = true\n      form.entity_type = 'Shot'\n      this.addMetadataDescriptor(form)\n        .then(() => {\n          this.loading.addMetadata = false\n          this.modals.isAddMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.addMetadata = false\n          this.errors.addMetadata = true\n        })\n    },\n\n    closeMetadataModal() {\n      this.modals.isAddMetadataDisplayed = false\n    },\n\n    confirmDeleteMetadata() {\n      this.errors.deleteMetadata = false\n      this.loading.deleteMetadata = true\n      this.deleteMetadataDescriptor(this.descriptorIdToDelete)\n        .then(() => {\n          this.errors.deleteMetadata = false\n          this.loading.deleteMetadata = false\n          this.modals.isDeleteMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.deleteMetadata = true\n          this.loading.deleteMetadata = false\n        })\n    },\n\n    onAddMetadataClicked() {\n      this.descriptorToEdit = {}\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    onDeleteMetadataClicked(descriptorId) {\n      this.descriptorIdToDelete = descriptorId\n      this.modals.isDeleteMetadataDisplayed = true\n    },\n\n    onDeleteClicked(shot) {\n      this.shotToDelete = shot\n      this.modals.isDeleteDisplayed = true\n    },\n\n    onEditClicked(shot) {\n      this.shotToEdit = shot\n      this.modals.isNewDisplayed = true\n    },\n\n    onRestoreClicked(shot) {\n      this.shotToRestore = shot\n      this.modals.isRestoreDisplayed = true\n    },\n\n    onEditMetadataClicked(descriptorId) {\n      this.descriptorToEdit = this.currentProduction.descriptors.find(\n        d => d.id === descriptorId\n      )\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    confirmEditShot(form) {\n      form.id = this.shotToEdit.id\n      form.data.resolution = form.resolution\n      form.data.max_retakes = form.max_retakes\n      form.data.frame_in = form.frameIn\n      form.data.frame_out = form.frameOut\n      form.data.fps = form.fps\n      this.loading.edit = true\n      this.errors.edit = false\n      this.editShot(form)\n        .then(() => {\n          this.loading.edit = false\n          this.modals.isNewDisplayed = false\n          this.applySearchFromUrl(false)\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    confirmDeleteAllTasks(selectionOnly) {\n      const taskTypeId = this.taskTypeForTaskDeletion.id\n      const projectId = this.currentProduction.id\n      this.errors.deleteAllTasks = false\n      this.loading.deleteAllTasks = true\n      this.deleteAllShotTasks({ projectId, taskTypeId, selectionOnly })\n        .then(() => {\n          this.loading.deleteAllTasks = false\n          this.modals.isDeleteAllTasksDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.deleteAllTasks = false\n          this.errors.deleteAllTasks = true\n        })\n    },\n\n    confirmDeleteShot() {\n      this.loading.del = true\n      this.errors.del = false\n      this.deleteShot(this.shotToDelete)\n        .then(() => {\n          this.loading.del = false\n          this.modals.isDeleteDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.del = false\n          this.errors.del = true\n        })\n    },\n\n    confirmRestoreShot() {\n      this.loading.restore = true\n      this.errors.restore = false\n      this.restoreShot(this.shotToRestore)\n        .then(() => {\n          this.loading.restore = false\n          this.modals.isRestoreDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.restore = false\n          this.errors.restore = true\n        })\n    },\n\n    confirmAddThumbnails(forms) {\n      const addPreview = form => {\n        this.addThumbnailsModal?.markLoading(form.task.entity_id)\n        return this.commentTaskWithPreview({\n          taskId: form.task.id,\n          commentText: '',\n          taskStatusId: form.task.task_status_id,\n          form\n        })\n          .then(({ newComment, preview }) => {\n            return this.setPreview({\n              taskId: form.task.id,\n              entityId: form.task.entity_id,\n              previewId: preview.id\n            })\n          })\n          .then(() => {\n            this.addThumbnailsModal?.markUploaded(form.task.entity_id)\n          })\n      }\n      this.loading.addThumbnails = true\n      func.runPromiseMapAsSeries(forms, addPreview).then(() => {\n        this.loading.addThumbnails = false\n        this.modals.isAddThumbnailsDisplayed = false\n      })\n    },\n\n    confirmCreateTasks({ form, selectionOnly }) {\n      this.loading.creatingTasks = true\n      this.runTasksCreation(form, selectionOnly)\n        .then(() => {\n          this.reset()\n          this.hideCreateTasksModal()\n          this.loading.creatingTasks = false\n        })\n        .catch(err => {\n          this.errors.creatingTasks = true\n          console.error(err)\n        })\n    },\n\n    confirmCreateTasksAndStay({ form, selectionOnly }) {\n      this.loading.creatingTasksStay = true\n      this.runTasksCreation(form, selectionOnly)\n        .then(() => {\n          this.reset()\n          this.loading.creatingTasksStay = false\n        })\n        .catch(err => {\n          this.errors.creatingTasks = true\n          console.error(err)\n        })\n    },\n\n    runTasksCreation(form, selectionOnly) {\n      this.errors.creatingTasks = false\n      return this.createTasks({\n        task_type_id: form.task_type_id,\n        project_id: this.currentProduction.id,\n        type: 'shots',\n        selectionOnly\n      })\n    },\n\n    reset() {\n      this.initialLoading = true\n      this.loadShots(err => {\n        if (err) console.error(err)\n        this.initialLoading = false\n      })\n    },\n\n    resetEditModal() {\n      const form = { name: '' }\n      if (this.sequences.length > 0) {\n        form.sequence_id = this.sequences[0].id\n      }\n      if (this.openProductions.length > 0) {\n        form.production_id = this.openProductions[0].id\n      }\n      this.shotToEdit = form\n    },\n\n    deleteText() {\n      const shot = this.shotToDelete\n      if (shot && (shot.canceled || !shot.tasks || shot.tasks.length === 0)) {\n        return this.$t('shots.delete_text', { name: shot.name })\n      } else if (shot) {\n        return this.$t('shots.cancel_text', { name: shot.name })\n      }\n      return ''\n    },\n\n    deleteAllTasksText() {\n      const taskType = this.taskTypeForTaskDeletion\n      if (taskType) {\n        return this.$t('tasks.delete_all_text', { name: taskType.name })\n      }\n      return ''\n    },\n\n    restoreText() {\n      const shot = this.shotToRestore\n      if (shot) {\n        return this.$t('shots.restore_text', { name: shot.name })\n      }\n      return ''\n    },\n\n    renderImport(data, mode) {\n      this.loading.importing = true\n      this.errors.importing = false\n      this.formData = data\n      if (mode === 'file') {\n        data = data.get('file')\n      }\n      csv.processCSV(data).then(results => {\n        this.parsedCSV = results\n        this.hideImportModal()\n        this.loading.importing = false\n        this.showImportRenderModal()\n      })\n    },\n\n    uploadImportFile(data, toUpdate) {\n      const formData = new FormData()\n      const filename = 'import.csv'\n      const csvContent = csv.turnEntriesToCsvString(data)\n      const file = new File([csvContent], filename, { type: 'text/csv' })\n\n      formData.append('file', file)\n\n      this.loading.importing = true\n      this.errors.importing = false\n      this.errors.importingError = null\n      this.$store.commit('SHOT_CSV_FILE_SELECTED', formData)\n\n      this.uploadShotFile(toUpdate)\n        .then(() => {\n          this.loadEpisodes().catch(console.error)\n          this.hideImportRenderModal()\n          this.loadShots()\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.importingError = err\n          this.errors.importing = true\n        })\n        .finally(() => {\n          this.loading.importing = false\n        })\n    },\n\n    resetImport() {\n      this.errors.importing = false\n      this.hideImportRenderModal()\n      this.$store.commit('SHOT_CSV_FILE_SELECTED', null)\n      this.$refs['import-modal'].reset()\n      this.showImportModal()\n    },\n\n    onDeleteAllTasksClicked(taskTypeId) {\n      const taskType = this.taskTypeMap.get(taskTypeId)\n      this.taskTypeForTaskDeletion = taskType\n      this.deleteAllTasksLockText = taskType.name\n      this.modals.isDeleteAllTasksDisplayed = true\n    },\n\n    onSequenceClicked(sequenceName) {\n      if (sequenceName.includes(' ')) {\n        sequenceName = `\"${sequenceName}\"`\n      }\n      this.searchField.setValue(`${this.shotSearchText} ${sequenceName}`)\n      this.onSearchChange()\n    },\n\n    saveSearchQuery(searchQuery) {\n      if (this.loading.savingSearch) {\n        return\n      }\n      this.loading.savingSearch = true\n      this.saveShotSearch(searchQuery)\n        .catch(console.error)\n        .finally(() => {\n          this.loading.savingSearch = false\n        })\n    },\n\n    removeSearchQuery(searchQuery) {\n      this.removeShotSearch(searchQuery).catch(console.error)\n    },\n\n    saveScrollPosition(scrollPosition) {\n      this.$store.commit('SET_SHOT_LIST_SCROLL_POSITION', scrollPosition)\n    },\n\n    getPath(section) {\n      const route = {\n        name: section,\n        params: {\n          production_id: this.currentProduction.id\n        }\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        route.name = `episode-${section}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    },\n\n    showManageShots() {\n      this.modals.isManageDisplayed = true\n    },\n\n    hideManageShots() {\n      this.modals.isManageDisplayed = false\n    },\n\n    showShotHistoryModal(shot) {\n      this.historyShot = shot\n      this.modals.isShotHistoryDisplayed = true\n    },\n\n    hideShotHistoryModal() {\n      this.modals.isShotHistoryDisplayed = false\n    },\n\n    onExportClick() {\n      this.getShotsCsvLines().then(shotLines => {\n        const nameData = [\n          moment().format('YYYY-MM-DD'),\n          'kitsu',\n          this.currentProduction.name,\n          this.$t('shots.title')\n        ]\n        if (this.currentEpisode) {\n          nameData.splice(3, 0, this.currentEpisode.name)\n        }\n        const name = stringHelpers.slugify(nameData.join('_'))\n        const headers = [\n          this.$t('shots.fields.sequence'),\n          this.$t('shots.fields.name'),\n          this.$t('shots.fields.description')\n        ]\n        if (this.currentEpisode) {\n          headers.splice(0, 0, 'Episode')\n        }\n        sortByName([...this.currentProduction.descriptors])\n          .filter(d => d.entity_type === 'Shot')\n          .forEach(descriptor => {\n            headers.push(descriptor.name)\n          })\n        if (this.isShotTime) {\n          headers.push(this.$t('shots.fields.time_spent'))\n        }\n        if (this.isShotEstimation) {\n          headers.push(this.$t('main.estimation_short'))\n        }\n        if (this.isFrames) {\n          headers.push(this.$t('main.frames'))\n        }\n        if (this.isFrameIn) {\n          headers.push(this.$t('main.frame_in'))\n        }\n        if (this.isFrameOut) {\n          headers.push(this.$t('main.frame_out'))\n        }\n        if (this.isFps) {\n          headers.push(this.$t('main.fps'))\n        }\n        if (this.isResolution) {\n          headers.push(this.$t('shots.fields.resolution'))\n        }\n        if (this.isMaxRetakes) {\n          headers.push(this.$t('shots.fields.max_retakes'))\n        }\n        this.shotValidationColumns.forEach(taskTypeId => {\n          headers.push(this.taskTypeMap.get(taskTypeId).name)\n          headers.push('Assignations')\n        })\n        csv.buildCsvFile(name, [headers].concat(shotLines))\n      })\n    },\n\n    onChangeSortClicked(sortInfo) {\n      this.changeShotSort(sortInfo)\n    },\n\n    async onFieldChanged({ entry, fieldName, value }) {\n      const data = {\n        id: entry.id,\n        nb_frames: entry.nb_frames,\n        description: entry.description\n      }\n      data[fieldName] = value\n      await this.editShot(data)\n      this.onSearchChange(false)\n    },\n\n    async onMetadataChanged({ entry, descriptor, value }) {\n      const data = {\n        id: entry.id,\n        data: {\n          [descriptor.field_name]: value\n        }\n      }\n      const shot = this.shotMap.get(entry.id)\n      if (\n        descriptor.field_name === 'frame_in' &&\n        shot.data?.frame_out &&\n        parseInt(shot.data.frame_out) > parseInt(value) &&\n        !this.isPaperProduction\n      ) {\n        data.nb_frames = parseInt(shot.data.frame_out) - parseInt(value) + 1\n      }\n      if (\n        descriptor.field_name === 'frame_out' &&\n        shot.data?.frame_in &&\n        parseInt(shot.data.frame_in) < parseInt(value) &&\n        !this.isPaperProduction\n      ) {\n        data.nb_frames = parseInt(value) - parseInt(shot.data.frame_in) + 1\n      }\n      await this.editShot(data)\n      this.applySearchFromUrl(false)\n    },\n\n    showEDLImportModal() {\n      this.modals.isEDLImportDisplayed = true\n    },\n\n    hideEDLImportModal() {\n      this.modals.isEDLImportDisplayed = false\n    },\n\n    uploadEDLFile(edl_file, namingConvention, matchCase) {\n      this.loading.importing = true\n      this.errors.importing = false\n      this.errors.importingError = null\n\n      this.uploadEdlFile({ edl_file, namingConvention, matchCase })\n        .then(() => {\n          this.loadEpisodes().catch(console.error)\n          this.hideEDLImportModal()\n          this.loadShots()\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.importingError = err\n          this.errors.importing = true\n        })\n        .finally(() => {\n          this.loading.importing = false\n        })\n    },\n\n    async confirmSetFrames(taskTypeId) {\n      this.loading.getFrames = true\n      try {\n        await this.setNbFramesFromTaskTypePreviews({\n          taskTypeId,\n          productionId: this.currentProduction.id,\n          episodeId: this.currentEpisode ? this.currentEpisode.id : null\n        })\n        this.modals.isSetFramesDisplayed = false\n      } catch (err) {\n        console.error(err)\n        this.errors.getFrames = true\n      } finally {\n        this.loading.getFrames = false\n      }\n    },\n\n    onSearchTyped() {\n      if (this.shotMap.size < 800 || this.searchField?.getValue() === '') {\n        this.onSearchChange()\n      }\n    }\n  },\n\n  watch: {\n    currentSection() {\n      this.reloadEpisodeShotsIfNeeded()\n    },\n\n    currentProduction() {\n      this.setOptionalImportColumns()\n      if (!this.initialLoading) {\n        this.$refs['shot-search-field']?.setValue('')\n        this.$store.commit('SET_SHOT_LIST_SCROLL_POSITION', 0)\n\n        if (this.currentProduction && !this.isTVShow) {\n          this.loadShots()\n        }\n      }\n    },\n\n    currentEpisode() {\n      const finalize = () => {\n        this.loadShots()\n      }\n      if (this.isTVShow && this.currentEpisode) {\n        if (\n          this.currentProduction &&\n          this.episodes.length > 0 &&\n          this.episodes[0].project_id !== this.currentProduction.id\n        ) {\n          this.loadEpisodes()\n            .then(() => finalize())\n            .catch(console.error)\n        } else {\n          finalize()\n        }\n      }\n    },\n\n    isShotsLoading() {\n      if (!this.isShotsLoading) {\n        this.initialLoading = false\n        this.applySearchFromUrl()\n        this.$nextTick(() => {\n          this.$refs['shot-list']?.selectTaskFromQuery()\n        })\n        this.$refs['shot-list']?.setScrollPosition(this.shotListScrollPosition)\n      }\n    }\n  },\n\n  head() {\n    if (this.isTVShow) {\n      return {\n        title:\n          `${this.currentProduction?.name || ''}` +\n          ` - ${this.currentEpisode?.name || ''}` +\n          ` | ${this.$t('shots.title')} - Kitsu`\n      }\n    }\n    if (!this.currentProduction) {\n      return {\n        title: `${this.$t('shots.title')} - Kitsu`\n      }\n    }\n    return {\n      title: `${this.currentProduction.name} | ${this.$t('shots.title')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-list {\n  margin-top: 0;\n}\n\n.page-header {\n  margin-bottom: 1em;\n}\n\n.level {\n  align-items: flex-start;\n}\n\n.flexcolumn {\n  align-items: flex-start;\n}\n\n.shots {\n  display: flex;\n  flex-direction: column;\n}\n\n.columns {\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n}\n\n.column {\n  overflow-y: auto;\n  padding: 0;\n}\n\n.combobox-department {\n  margin-bottom: 0;\n}\n</style>\n"],"names":["_sfc_main","modalMixin","Checkbox","FileUpload","ModalFooter","TextField","mapGetters","text","res","formData","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_normalizeClass","$props","_createElementVNode","_ctx","_toDisplayString","_createVNode","_component_file_upload","$options","_component_text_field","$data","_cache","$event","_component_checkbox","_component_modal_footer","ComboboxTaskType","_hoisted_4","_component_combobox_task_type","TableInfo","mapActions","dateString","formatDate","personId","person","versions","err","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_createCommentVNode","_openBlock","_hoisted_11","_Fragment","_renderList","version","_component_table_info","descriptorMixin","domMixin","formatListMixin","entityListMixin","selectionListMixin","ButtonSimple","DescriptionCell","EntityThumbnail","MetadataHeader","MetadataInput","RowActionsCell","TableHeaderMenu","TableMetadataHeaderMenu","TableMetadataSelectorMenu","ValidationCell","ValidationHeader","count","columnId","formatToTimecode","indexInGroup","groupIndex","columnIndex","lineIndex","shot","task","event","selected","shotsToSelect","shotsFlatten","startShotIndex","displayedShot","endShotIndex","range","index","position","shotId","section","route","i","j","listWidth","listHeight","entry","value","shotsToChange","cleanValue","k","sticked","preferences","offset","metadataCol","validationCol","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_26","_hoisted_30","_hoisted_33","_hoisted_36","_hoisted_39","_hoisted_42","_hoisted_44","_hoisted_47","_hoisted_49","args","_component_table_header_menu","_component_table_metadata_header_menu","_withDirectives","_createBlock","_component_button_simple","descriptor","_component_metadata_header","columnIndexInGrid","_component_validation_header","_component_table_metadata_selector_menu","group","_component_entity_thumbnail","_createTextVNode","_component_router_link","_withCtx","_normalizeStyle","_component_metadata_input","_component_validation_cell","infos","_component_description_cell","_hoisted_23","_hoisted_24","_hoisted_25","_withModifiers","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_41","_hoisted_43","_component_row_actions_cell","_hoisted_45","_hoisted_46","_imports_0","_hoisted_48","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","searchMixin","entitiesMixin","AddMetadataModal","AddThumbnailsModal","BuildFilterModal","ComboboxDepartment","ComboboxDisplayOptions","CreateTasksModal","DeleteModal","EditShotModal","ImportModal","ImportEdlModal","HardDeleteModal","ManageShotsModal","ImportRenderModal","InfoQuestionMark","SearchField","SearchQueryList","SetFramesFromTaskTypePreviewsModal","SortingInfo","ShotHistoryModal","ShotList","TaskInfo","finalize","shotStore","collection","item","shots","sequence","shotKey","columns","episode","callback","form","descriptorId","d","selectionOnly","taskTypeId","projectId","forms","addPreview","newComment","preview","func","taskType","data","mode","csv","results","toUpdate","filename","csvContent","file","sequenceName","searchQuery","scrollPosition","shotLines","nameData","moment","name","stringHelpers","headers","sortByName","sortInfo","fieldName","edl_file","namingConvention","matchCase","_component_search_field","_component_info_question_mark","_component_combobox_department","_component_combobox_display_options","_component_search_query_list","_component_sorting_info","_component_shot_list","_component_task_info","_component_manage_shots_modal","_component_edit_shot_modal","_component_delete_modal","_component_hard_delete_modal","_component_import_render_modal","_component_import_modal","_component_import_edl_modal","_component_create_tasks_modal","_component_add_metadata_modal","_component_set_frames_from_task_type_previews_modal","_component_add_thumbnails_modal","_component_shot_history_modal","_component_build_filter_modal"],"mappings":"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"}