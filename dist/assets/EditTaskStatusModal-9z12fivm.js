import{_ as h,M as F,r as d,q as S,o as i,c as k,d as f,t as _,I as T,k as v,g as a,h as r,f as u,n as B}from"./index-Dw-uod2x.js";import{B as g}from"./BooleanField-DWHGtZOu.js";import{C as w}from"./ColorField-COd1sznp.js";import{C as y}from"./ComboboxBoolean-DeubScUy.js";import{M as U}from"./ModalFooter-Dmgqo0ae.js";import{T as D}from"./TextField-EpYNDuEI.js";import{T as A}from"./TextareaField-Cu9GLtzh.js";const M={name:"edit-task-status-modal",mixins:[F],components:{BooleanField:g,ColorField:w,ComboboxBoolean:y,ModalFooter:U,TextField:D,TextareaField:A},props:{active:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},taskStatusToEdit:{type:Object,default:()=>{}}},emits:["cancel","confirm"],data(){return{form:{name:"",short_name:"",description:"",color:"#999999",is_default:"false",is_wip:"false",is_done:"false",is_retake:"false",is_feedback_request:"false",archived:"false"},colors:["#999999","#CCCCCC","#F5F5F5","#CC9999","#FF3860","#E81123","#E74C3C","#FF5722","#FF7043","#FFA000","#FBC02D","#AFB42B","#8BC34A","#66BB6A","#22D160","#4DB6AC","#03A9F4","#3273DC","#3498DB","#2980B9","#607D8B","#8764B8","#AB26FF","#E040FB","#FF80AB"]}},computed:{isEditing(){return this.taskStatusToEdit&&this.taskStatusToEdit.id}},methods:{confirmClicked(){if(!this.form.name?.length&&this.$refs.nameField){this.$refs.nameField.focus();return}if(!this.form.short_name?.length&&this.$refs.shortNameField){this.$refs.shortNameField.focus();return}this.$emit("confirm",this.form)},resetForm(){this.taskStatusToEdit&&(this.form={name:this.taskStatusToEdit.name,short_name:this.taskStatusToEdit.short_name,description:this.taskStatusToEdit.description,color:this.taskStatusToEdit.color,is_default:String(this.taskStatusToEdit.is_default||!1),is_wip:String(this.taskStatusToEdit.is_wip||!1),is_done:String(this.taskStatusToEdit.is_done||!1),is_retake:String(this.taskStatusToEdit.is_retake||!1),is_artist_allowed:String(this.taskStatusToEdit.is_artist_allowed),is_client_allowed:String(this.taskStatusToEdit.is_client_allowed),is_feedback_request:String(this.taskStatusToEdit.is_feedback_request||!1),for_concept:String(this.taskStatusToEdit.for_concept||!1),archived:String(this.taskStatusToEdit.archived||!1)})}},watch:{taskStatusToEdit(){this.resetForm()},active(){this.active&&(this.resetForm(),setTimeout(()=>{this.$refs.nameField?.focus()},100))}}},q={class:"modal-content"},N={class:"box"},I={key:0,class:"title"},L={key:1,class:"title"};function j(o,t,n,x,e,l){const c=d("text-field"),E=d("textarea-field"),m=d("boolean-field"),b=d("color-field"),V=d("combobox-boolean"),C=d("modal-footer"),p=S("focus");return i(),k("div",{class:B({modal:!0,"is-active":n.active})},[f("div",{class:"modal-background",onClick:t[0]||(t[0]=s=>o.$emit("cancel"))}),f("div",q,[f("div",N,[l.isEditing?(i(),k("h1",I,_(o.$t("task_status.edit_title"))+" "+_(n.taskStatusToEdit.name),1)):(i(),k("h1",L,_(o.$t("task_status.new_task_status")),1)),f("form",{onSubmit:t[13]||(t[13]=T(()=>{},["prevent"]))},[n.taskStatusToEdit?.short_name!=="todo"?v((i(),a(c,{key:0,ref:"nameField","input-class":"task-status-name",label:o.$t("task_status.fields.name"),onEnter:l.confirmClicked,modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=s=>e.form.name=s),modelModifiers:{trim:!0}},null,8,["label","onEnter","modelValue"])),[[p]]):r("",!0),n.taskStatusToEdit?.short_name!=="todo"?(i(),a(c,{key:1,ref:"shortNameField","input-class":"task-status-short-name",label:o.$t("task_status.fields.short_name"),maxlength:8,onEnter:l.confirmClicked,modelValue:e.form.short_name,"onUpdate:modelValue":t[2]||(t[2]=s=>e.form.short_name=s),modelModifiers:{trim:!0}},null,8,["label","onEnter","modelValue"])):r("",!0),u(E,{"input-class":"task-status-description",label:o.$t("task_status.fields.description"),onEnter:l.confirmClicked,modelValue:e.form.description,"onUpdate:modelValue":t[3]||(t[3]=s=>e.form.description=s)},null,8,["label","onEnter","modelValue"]),u(m,{class:"mr05 mb05",label:o.$t("task_status.fields.is_default"),onEnter:l.confirmClicked,modelValue:e.form.is_default,"onUpdate:modelValue":t[4]||(t[4]=s=>e.form.is_default=s),disabled:e.form.for_concept==="true"},null,8,["label","onEnter","modelValue","disabled"]),e.form.is_default==="false"?(i(),a(m,{key:2,class:"mr05 mb05",label:o.$t("task_status.fields.is_wip"),onEnter:l.confirmClicked,modelValue:e.form.is_wip,"onUpdate:modelValue":t[5]||(t[5]=s=>e.form.is_wip=s)},null,8,["label","onEnter","modelValue"])):r("",!0),e.form.is_default==="false"?(i(),a(m,{key:3,class:"mr05 mb05",label:o.$t("task_status.fields.is_done"),onEnter:l.confirmClicked,modelValue:e.form.is_done,"onUpdate:modelValue":t[6]||(t[6]=s=>e.form.is_done=s)},null,8,["label","onEnter","modelValue"])):r("",!0),e.form.is_default==="false"?(i(),a(m,{key:4,class:"mr05 mb05",label:o.$t("task_status.fields.is_retake"),onEnter:l.confirmClicked,modelValue:e.form.is_retake,"onUpdate:modelValue":t[7]||(t[7]=s=>e.form.is_retake=s)},null,8,["label","onEnter","modelValue"])):r("",!0),u(m,{class:"mr05 mb05",label:o.$t("task_status.fields.is_artist_allowed"),onEnter:l.confirmClicked,modelValue:e.form.is_artist_allowed,"onUpdate:modelValue":t[8]||(t[8]=s=>e.form.is_artist_allowed=s)},null,8,["label","onEnter","modelValue"]),e.form.for_concept!=="true"?(i(),a(m,{key:5,class:"mr05 mb05",label:o.$t("task_status.fields.is_client_allowed"),onEnter:l.confirmClicked,modelValue:e.form.is_client_allowed,"onUpdate:modelValue":t[9]||(t[9]=s=>e.form.is_client_allowed=s)},null,8,["label","onEnter","modelValue"])):r("",!0),e.form.is_default==="false"?(i(),a(m,{key:6,class:"mr05 mb05",label:o.$t("task_status.fields.is_feedback_request"),onEnter:l.confirmClicked,modelValue:e.form.is_feedback_request,"onUpdate:modelValue":t[10]||(t[10]=s=>e.form.is_feedback_request=s)},null,8,["label","onEnter","modelValue"])):r("",!0),n.taskStatusToEdit?.short_name!=="todo"?(i(),a(b,{key:7,class:"mt2",colors:e.colors,column:5,label:o.$t("task_status.fields.color"),modelValue:e.form.color,"onUpdate:modelValue":t[11]||(t[11]=s=>e.form.color=s)},null,8,["colors","label","modelValue"])):r("",!0),l.isEditing?(i(),a(V,{key:8,label:o.$t("main.archived"),onEnter:l.confirmClicked,modelValue:e.form.archived,"onUpdate:modelValue":t[12]||(t[12]=s=>e.form.archived=s)},null,8,["label","onEnter","modelValue"])):r("",!0)],32),u(C,{"error-text":o.$t("task_status.create_error"),"is-error":n.isError,"is-loading":n.isLoading,onConfirm:l.confirmClicked,onCancel:t[14]||(t[14]=s=>o.$emit("cancel"))},null,8,["error-text","is-error","is-loading","onConfirm"])])])],2)}const Q=h(M,[["render",j],["__scopeId","data-v-07526a19"]]);export{Q as E};
//# sourceMappingURL=EditTaskStatusModal-9z12fivm.js.map
