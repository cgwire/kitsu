import{_ as g,aH as S,W as y,ar as k,aJ as _,b as w,r as m,o as a,c as r,t as i,h as n,d as l,i as c,f,n as u,F as x,e as C}from"./index-DF-DoQlt.js";const L={name:"combobox-status",components:{ChevronDownIcon:y,ComboboxMask:S},emits:["update:modelValue"],data(){return{showStatusList:!1}},props:{big:{default:!1,type:Boolean},colorOnly:{default:!1,type:Boolean},label:{default:"",type:String},taskStatusList:{default:()=>[],type:Array},modelValue:{default:"",type:String},narrow:{default:!1,type:Boolean},withMargin:{default:!0,type:Boolean},addPlaceholder:{default:!1,type:Boolean},openTop:{default:!1,type:Boolean},productionId:{default:"",type:String}},computed:{...w(["isDarkTheme","productionMap","taskStatusMap"]),sortedTaskStatusList(){if(this.productionId){const e=this.productionMap.get(this.productionId);return _(this.taskStatusList,e)}else return this.taskStatusList},currentStatus(){return this.modelValue?this.taskStatusMap.get(this.modelValue):this.addPlaceholder?{short_name:"+ add status",color:"#999"}:this.taskStatusList[0]},comboStyles(){return{width:this.big?"150px":"120px",background:this.colorOnly?this.backgroundColor(this.currentStatus):this.isDarkTheme?"#36393F":"#FEFEFE",color:this.colorOnly?this.color(this.currentStatus):"inherit","border-top-left-radius":this.colorOnly?"20px":"10px","border-top-right-radius":this.colorOnly?"0px":"10px","border-bottom-left-radius":this.showStatusList?"0":this.colorOnly?"20px":"10px","border-bottom-right-radius":this.showStatusList?"0":this.colorOnly?"0px":"10px"}}},methods:{selectStatus(e){this.$emit("update:modelValue",e.id),this.showStatusList=!1},backgroundColor(e){return(!e||e.name==="Todo")&&!this.isDarkTheme?"#ECECEC":(!e||e.name==="Todo")&&this.isDarkTheme?"#5F626A":this.isDarkTheme?k.darkenColor(e.color):e.color},color(e){return!e||e.name!=="Todo"||this.isDarkTheme?"white":"#333"},toggleStatusList(){this.showStatusList=!this.showStatusList}}},T={key:0,class:"label"},v={class:"selected-status-line flexrow-item"},B=["title"],D=["onClick"],O=["title"];function V(e,d,o,E,h,t){const b=m("chevron-down-icon"),p=m("combobox-mask");return a(),r("div",{class:u({field:o.withMargin,"field--narrow":o.narrow})},[o.label.length>0?(a(),r("label",T,i(o.label),1)):n("",!0),l("div",{class:"status-combo",style:c(t.comboStyles)},[l("div",{class:"flexrow",onClick:d[0]||(d[0]=(...s)=>t.toggleStatusList&&t.toggleStatusList(...s))},[l("div",v,[t.currentStatus?(a(),r("span",{key:0,class:"tag",style:c({background:t.backgroundColor(t.currentStatus),color:t.color(t.currentStatus)}),title:t.currentStatus.name},i(t.currentStatus.short_name),13,B)):n("",!0)]),f(b,{class:u({"down-icon":!0,"flexrow-item":!0,white:o.colorOnly})},null,8,["class"])]),h.showStatusList?(a(),r("div",{key:0,ref:"select",class:u({big:o.big,"select-input":!0,"open-top":o.openTop})},[(a(!0),r(x,null,C(t.sortedTaskStatusList,s=>(a(),r("div",{key:s.id,class:"status-line",onClick:F=>t.selectStatus(s)},[l("span",{class:"tag",style:c({background:t.backgroundColor(s),color:t.color(s)}),title:s.name},i(s.short_name),13,O)],8,D))),128))],2)):n("",!0)],4),f(p,{displayed:h.showStatusList,onClick:t.toggleStatusList},null,8,["displayed","onClick"])],2)}const I=g(L,[["render",V],["__scopeId","data-v-1e04e83b"]]);export{I as C};
//# sourceMappingURL=ComboboxStatus-CBgYMSHg.js.map
