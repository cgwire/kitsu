{"version":3,"file":"format-D3oTyBU9.js","sources":["../../src/components/mixins/format.js"],"sourcesContent":["/*\n * Set of functions to make data more readable.\n */\nimport { mapGetters } from 'vuex'\n\nimport {\n  formatDate,\n  formatFullDate,\n  formatSimpleDate,\n  minutesToDays\n} from '@/lib/time'\n\nexport const formatListMixin = {\n  computed: {\n    ...mapGetters(['organisation']),\n\n    isDurationInHours() {\n      return this.organisation.format_duration_in_hours\n    }\n  },\n\n  methods: {\n    formatBoolean(booleanValue) {\n      return booleanValue ? this.$t('main.yes') : this.$t('main.no')\n    },\n\n    formatDate,\n    formatFullDate,\n    formatSimpleDate,\n\n    formatDuration(minutes, toLocale = true) {\n      if (!minutes) {\n        return 0\n      }\n\n      const duration = this.organisation.format_duration_in_hours\n        ? minutes / 60\n        : minutesToDays(this.organisation, minutes)\n\n      if (toLocale) {\n        return duration.toLocaleString('fullwide', {\n          maximumFractionDigits: 2\n        })\n      }\n      return Math.round(duration * 100) / 100 // Round to 2 decimal places\n    },\n\n    formatPriority(priority) {\n      let label = priority + ''\n      if (priority === 0) {\n        label = 'normal'\n      } else if (priority === 1) {\n        label = this.$t('tasks.priority.high')\n      } else if (priority === 2) {\n        label = this.$t('tasks.priority.very_high')\n      } else if (priority === 3) {\n        label = this.$t('tasks.priority.emergency')\n      }\n      return label\n    },\n\n    formatPrioritySymbol(priority) {\n      priority = Math.max(0, Math.min(priority, 3))\n      return '!'.repeat(priority)\n    },\n\n    sanitizeInteger(value) {\n      let val = 0\n      if (typeof value === 'string') {\n        value = value.replace(/\\D/g, '')\n        if (value && value.length > 0) val = parseInt(value) || 0\n      }\n      return val\n    },\n\n    sanitizeIntegerLight(value) {\n      let val = null\n      if (typeof value === 'string') {\n        value = value.replace(/\\D/g, '')\n        if (value && value.length > 0) val = parseInt(value) || null\n      }\n      return val\n    }\n  }\n}\n"],"names":["formatListMixin","mapGetters","booleanValue","formatDate","formatFullDate","formatSimpleDate","minutes","toLocale","duration","minutesToDays","priority","label","value","val"],"mappings":"uEAYY,MAACA,EAAkB,CAC7B,SAAU,CACR,GAAGC,EAAW,CAAC,cAAc,CAAC,EAE9B,mBAAoB,CAClB,OAAO,KAAK,aAAa,wBAC3B,CACJ,EAEE,QAAS,CACP,cAAcC,EAAc,CAC1B,OAAOA,EAAe,KAAK,GAAG,UAAU,EAAI,KAAK,GAAG,SAAS,CAC/D,EAEA,WAAAC,EACA,eAAAC,EACA,iBAAAC,EAEA,eAAeC,EAASC,EAAW,GAAM,CACvC,GAAI,CAACD,EACH,MAAO,GAGT,MAAME,EAAW,KAAK,aAAa,yBAC/BF,EAAU,GACVG,EAAc,KAAK,aAAcH,CAAO,EAE5C,OAAIC,EACKC,EAAS,eAAe,WAAY,CACzC,sBAAuB,CACjC,CAAS,EAEI,KAAK,MAAMA,EAAW,GAAG,EAAI,GACtC,EAEA,eAAeE,EAAU,CACvB,IAAIC,EAAQD,EAAW,GACvB,OAAIA,IAAa,EACfC,EAAQ,SACCD,IAAa,EACtBC,EAAQ,KAAK,GAAG,qBAAqB,EAC5BD,IAAa,EACtBC,EAAQ,KAAK,GAAG,0BAA0B,EACjCD,IAAa,IACtBC,EAAQ,KAAK,GAAG,0BAA0B,GAErCA,CACT,EAEA,qBAAqBD,EAAU,CAC7B,OAAAA,EAAW,KAAK,IAAI,EAAG,KAAK,IAAIA,EAAU,CAAC,CAAC,EACrC,IAAI,OAAOA,CAAQ,CAC5B,EAEA,gBAAgBE,EAAO,CACrB,IAAIC,EAAM,EACV,OAAI,OAAOD,GAAU,WACnBA,EAAQA,EAAM,QAAQ,MAAO,EAAE,EAC3BA,GAASA,EAAM,OAAS,IAAGC,EAAM,SAASD,CAAK,GAAK,IAEnDC,CACT,EAEA,qBAAqBD,EAAO,CAC1B,IAAIC,EAAM,KACV,OAAI,OAAOD,GAAU,WACnBA,EAAQA,EAAM,QAAQ,MAAO,EAAE,EAC3BA,GAASA,EAAM,OAAS,IAAGC,EAAM,SAASD,CAAK,GAAK,OAEnDC,CACT,CACJ,CACA"}