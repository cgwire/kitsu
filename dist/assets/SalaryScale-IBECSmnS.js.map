{"version":3,"file":"SalaryScale-IBECSmnS.js","sources":["../../src/components/pages/budget/SalaryScale.vue"],"sourcesContent":["<template>\n  <page-layout>\n    <template #main>\n      <div class=\"flexcolumn page\">\n        <page-title class=\"mt1\" text=\"Salary Scale\" />\n        <div class=\"has-text-centered\" v-if=\"isLoading\">\n          <spinner />\n        </div>\n        <div class=\"data-list\" v-else>\n          <div class=\"datatable-wrapper\">\n            <table class=\"datatable\">\n              <thead class=\"datatable-head\">\n                <tr>\n                  <th>{{ $t('budget.fields.department') }}</th>\n                  <th>{{ $t('budget.fields.seniority') }}</th>\n                  <th>{{ $t('budget.fields.position') }}</th>\n                  <th>{{ $t('budget.fields.base_salary') }}</th>\n                </tr>\n              </thead>\n\n              <tbody class=\"datatable-body\">\n                <template\n                  :key=\"department.id\"\n                  v-for=\"department in departments\"\n                >\n                  <tr class=\"datatable-row\">\n                    <td rowspan=\"9\">\n                      <department-name :department=\"department\" />\n                    </td>\n                    <td rowspan=\"3\">{{ $t('budget.positions.supervisor') }}</td>\n                    <td>{{ $t('budget.seniorities.senior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'supervisor',\n                              'senior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.supervisor.senior\n                            .salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.mid') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'supervisor',\n                              'mid',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.supervisor.mid.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.junior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'supervisor',\n                              'junior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.supervisor.junior\n                            .salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td rowspan=\"3\">{{ $t('budget.positions.lead') }}</td>\n                    <td>{{ $t('budget.seniorities.senior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'lead',\n                              'senior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.lead.senior.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.mid') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'lead',\n                              'mid',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.lead.mid.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.junior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'lead',\n                              'junior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.lead.junior.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td rowspan=\"3\">{{ $t('budget.positions.artist') }}</td>\n                    <td>{{ $t('budget.seniorities.senior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'artist',\n                              'senior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.artist.senior.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.mid') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'artist',\n                              'mid',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.artist.mid.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                  <tr class=\"datatable-row\">\n                    <td>{{ $t('budget.seniorities.junior') }}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        class=\"input-editor\"\n                        @input=\"\n                          value =>\n                            modifySalaryScale(\n                              department.id,\n                              'artist',\n                              'junior',\n                              value\n                            )\n                        \"\n                        :value=\"\n                          salaryScale[department.id]?.artist.junior.salary || 0\n                        \"\n                      />\n                    </td>\n                  </tr>\n                </template>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport DepartmentName from '@/components/widgets/DepartmentName.vue'\nimport PageLayout from '@/components/layouts/PageLayout.vue'\nimport PageTitle from '@/components/widgets/PageTitle.vue'\nimport Spinner from '@/components/widgets/Spinner.vue'\nimport { mapGetters, mapActions } from 'vuex'\n\nexport default {\n  name: 'salary-scale',\n\n  components: {\n    DepartmentName,\n    PageLayout,\n    PageTitle,\n    Spinner\n  },\n\n  data() {\n    return {\n      isLoading: false,\n      salaryScale: {}\n    }\n  },\n\n  computed: {\n    ...mapGetters(['departments'])\n  },\n\n  mounted() {\n    this.setSalaryScale()\n  },\n\n  methods: {\n    ...mapActions(['loadSalaryScale', 'updateSalaryScale']),\n\n    async setSalaryScale() {\n      this.isLoading = true\n      this.salaryScale = await this.loadSalaryScale()\n      this.isLoading = false\n    },\n\n    modifySalaryScale(departmentId, position, seniority, event) {\n      const salary = Math.trunc(event.target.valueAsNumber || 0)\n      const scaleEntry = this.salaryScale[departmentId][position][seniority]\n      scaleEntry.salary = salary\n      this.updateSalaryScale(scaleEntry)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n</style>\n"],"names":["_sfc_main","DepartmentName","PageLayout","PageTitle","Spinner","mapGetters","mapActions","departmentId","position","seniority","event","salary","scaleEntry","_hoisted_1","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_createBlock","_component_page_layout","_createElementVNode","_createVNode","_component_page_title","$data","_openBlock","_createElementBlock","_hoisted_2","_component_spinner","_hoisted_3","_ctx","_Fragment","_renderList","department","_component_department_name","_toDisplayString","value","$options"],"mappings":"gLA+OA,MAAKA,EAAU,CACb,KAAM,eAEN,WAAY,CACV,eAAAC,EACA,WAAAC,EACA,UAAAC,EACA,QAAAC,GAGF,MAAO,CACL,MAAO,CACL,UAAW,GACX,YAAa,CAAA,CACf,CACF,EAEA,SAAU,CACR,GAAGC,EAAW,CAAC,aAAa,CAAC,GAG/B,SAAU,CACR,KAAK,eAAc,CACrB,EAEA,QAAS,CACP,GAAGC,EAAW,CAAC,kBAAmB,mBAAmB,CAAC,EAEtD,MAAM,gBAAiB,CACrB,KAAK,UAAY,GACjB,KAAK,YAAc,MAAM,KAAK,gBAAe,EAC7C,KAAK,UAAY,EACnB,EAEA,kBAAkBC,EAAcC,EAAUC,EAAWC,EAAO,CAC1D,MAAMC,EAAS,KAAK,MAAMD,EAAM,OAAO,eAAiB,CAAC,EACnDE,EAAa,KAAK,YAAYL,CAAY,EAAEC,CAAQ,EAAEC,CAAS,EACrEG,EAAW,OAASD,EACpB,KAAK,kBAAkBC,CAAU,CACnC,CACF,CACF,EArRWC,EAAA,CAAA,MAAM,iBAAiB,KAHlC,IAAA,EAKa,MAAM,wBALnB,IAAA,EAQa,MAAM,aACJC,EAAA,CAAA,MAAM,mBAAmB,EACrBC,EAAA,CAAA,MAAM,WAAW,EACfC,EAAA,CAAA,MAAM,gBAAgB,EAStBC,EAAA,CAAA,MAAM,gBAAgB,EAKrBC,EAAA,CAAA,MAAM,eAAe,EACnBC,EAAA,CAAA,QAAQ,GAAG,EAGXC,EAAA,CAAA,QAAQ,GAAG,EA7BnCC,EAAA,CAAA,UAAA,OAAA,EAmDsBC,EAAA,CAAA,MAAM,eAAe,EAnD3CC,EAAA,CAAA,UAAA,OAAA,EAwEsBC,EAAA,CAAA,MAAM,eAAe,EAxE3CC,EAAA,CAAA,UAAA,OAAA,EA8FsBC,EAAA,CAAA,MAAM,eAAe,EACnBC,EAAA,CAAA,QAAQ,GAAG,EA/FnCC,EAAA,CAAA,UAAA,OAAA,EAoHsBC,EAAA,CAAA,MAAM,eAAe,EApH3CC,EAAA,CAAA,UAAA,OAAA,EAyIsBC,EAAA,CAAA,MAAM,eAAe,EAzI3CC,EAAA,CAAA,UAAA,OAAA,EA8JsBC,EAAA,CAAA,MAAM,eAAe,EACnBC,EAAA,CAAA,QAAQ,GAAG,EA/JnCC,GAAA,CAAA,UAAA,OAAA,EAoLsBC,GAAA,CAAA,MAAM,eAAe,EApL3CC,GAAA,CAAA,UAAA,OAAA,EAyMsBC,GAAA,CAAA,MAAM,eAAe,EAzM3CC,GAAA,CAAA,UAAA,OAAA,uHACEC,EAoOcC,EAAA,KAAA,CAnOD,OACT,IAgOM,CAhONC,EAgOM,MAhON7B,EAgOM,CA/NJ8B,EAA8CC,EAAA,CAAlC,MAAM,MAAM,KAAK,iBACQC,EAAA,WAArCC,IAAAC,EAEM,MAFNC,EAEM,CADJL,EAAWM,CAAA,MAEbH,IAAAC,EA0NM,MA1NNG,EA0NM,CAzNJR,EAwNM,MAxNN5B,EAwNM,CAvNJ4B,EAsNQ,QAtNR3B,EAsNQ,CArNN2B,EAOQ,QAPR1B,EAOQ,CANN0B,EAKK,KAAA,KAAA,CAJHA,EAA6C,YAAtCS,EAAA,GAAE,0BAAA,CAAA,EAAA,CAAA,EACTT,EAA4C,YAArCS,EAAA,GAAE,yBAAA,CAAA,EAAA,CAAA,EACTT,EAA2C,YAApCS,EAAA,GAAE,wBAAA,CAAA,EAAA,CAAA,EACTT,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,MAIbT,EA2MQ,QA3MRzB,EA2MQ,EA1MN6B,EAAA,EAAA,EAAAC,EAyMWK,EAAA,KA9N3BC,EAuBuCF,EAAA,YAAdG,IAvBzBR,EAAA,EAAAC,EAAAK,EAAA,CAAA,IAsBwBE,EAAW,KAGjBZ,EAyBK,KAzBLxB,EAyBK,CAxBHwB,EAEK,KAFLvB,EAEK,CADHwB,EAA4CY,EAAA,CAA1B,WAAYD,CAAU,EAAA,KAAA,EAAA,CAAA,YAAA,CAAA,IAE1CZ,EAA4D,KAA5DtB,EAA4DoC,EAAzCL,EAAA,GAAE,6BAAA,CAAA,EAAA,CAAA,EACrBT,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAkBK,KAAA,KAAA,CAjBHA,EAgBE,QAAA,CAfA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,yBAAsHG,GASzP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,WAAW,OAAoC,QAAM,CA5C5I,EAAA,KAAA,GAAAjC,CAAA,MAmDkBqB,EAoBK,KApBLpB,EAoBK,CAnBHoB,EAA2C,YAApCS,EAAA,GAAE,wBAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,sBAAmHG,GAStP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,WAAW,IAAI,QAAM,CAlE5G,EAAA,KAAA,GAAA/B,CAAA,MAwEkBmB,EAqBK,KArBLlB,EAqBK,CApBHkB,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAkBK,KAAA,KAAA,CAjBHA,EAgBE,QAAA,CAfA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,yBAAsHG,GASzP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,WAAW,OAAoC,QAAM,CAvF5I,EAAA,KAAA,GAAA7B,CAAA,MA8FkBiB,EAqBK,KArBLhB,EAqBK,CApBHgB,EAAsD,KAAtDf,EAAsD6B,EAAnCL,EAAA,GAAE,uBAAA,CAAA,EAAA,CAAA,EACrBT,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,mBAAgHG,GASnP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,KAAK,OAAO,QAAM,CA9GzG,EAAA,KAAA,GAAA1B,CAAA,MAoHkBc,EAoBK,KApBLb,EAoBK,CAnBHa,EAA2C,YAApCS,EAAA,GAAE,wBAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,gBAA6GG,GAShP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,KAAK,IAAI,QAAM,CAnItG,EAAA,KAAA,GAAAxB,CAAA,MAyIkBY,EAoBK,KApBLX,EAoBK,CAnBHW,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,mBAAgHG,GASnP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,KAAK,OAAO,QAAM,CAxJzG,EAAA,KAAA,GAAAtB,CAAA,MA8JkBU,EAqBK,KArBLT,EAqBK,CApBHS,EAAwD,KAAxDR,EAAwDsB,EAArCL,EAAA,GAAE,yBAAA,CAAA,EAAA,CAAA,EACrBT,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,qBAAkHG,GASrP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,OAAO,OAAO,QAAM,CA9K3G,EAAA,KAAA,GAAAnB,EAAA,MAoLkBO,EAoBK,KApBLN,GAoBK,CAnBHM,EAA2C,YAApCS,EAAA,GAAE,wBAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,kBAA+GG,GASlP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,OAAO,IAAI,QAAM,CAnMxG,EAAA,KAAA,GAAAjB,EAAA,MAyMkBK,EAoBK,KApBLJ,GAoBK,CAnBHI,EAA8C,YAAvCS,EAAA,GAAE,2BAAA,CAAA,EAAA,CAAA,EACTT,EAiBK,KAAA,KAAA,CAhBHA,EAeE,QAAA,CAdA,KAAK,SACL,MAAM,eACL,QAAkCe,GAAqCC,EAAA,kBAAiDJ,EAAW,qBAAkHG,GASrP,MAAkCZ,EAAA,YAAYS,EAAW,EAAE,GAAG,OAAO,OAAO,QAAM,CAxN3G,EAAA,KAAA,GAAAf,EAAA,gCAAA,EAAA"}