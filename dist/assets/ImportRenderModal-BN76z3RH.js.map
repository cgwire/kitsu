{"version":3,"file":"ImportRenderModal-BN76z3RH.js","sources":["../../src/components/modals/ImportModal.vue","../../src/components/modals/ImportRenderModal.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box\">\n        <h1 class=\"title\">\n          {{ $t('main.csv.import_title') }}\n        </h1>\n\n        <div v-if=\"columns.length > 0\" class=\"mb1\">\n          {{ $t('main.csv.required_fields') }}\n          <ul>\n            <li v-for=\"column in columns\" :key=\"column\">\n              {{ column }}\n            </li>\n          </ul>\n        </div>\n        <div v-if=\"optionalColumns.length > 0\" class=\"mb1\">\n          {{ $t('main.csv.optional_fields') }}\n          <ul>\n            <li v-for=\"optionalColumn in optionalColumns\" :key=\"optionalColumn\">\n              {{ optionalColumn }}\n            </li>\n          </ul>\n        </div>\n        <div v-if=\"genericColumns.length > 0\" class=\"mb1\">\n          {{ $t('main.csv.generic_fields') }}\n          <ul>\n            <li v-for=\"genericColumn in genericColumns\" :key=\"genericColumn\">\n              {{ genericColumn }}\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"tabs\">\n          <ul>\n            <li\n              :class=\"{ 'is-active': activeTab === tab.id }\"\n              :key=\"`tab-${tab.id}`\"\n              v-for=\"tab in tabs\"\n            >\n              <a @click=\"activeTab = tab.id\">{{ tab.name }}</a>\n            </li>\n          </ul>\n        </div>\n        <div v-show=\"activeTab === 'file'\">\n          <p>{{ $t('main.csv.select_file') }}</p>\n          <file-upload\n            @fileselected=\"onFileSelected\"\n            :label=\"$t('main.csv.upload_file')\"\n            ref=\"inputFile\"\n          />\n        </div>\n        <div v-show=\"activeTab === 'text'\">\n          <p>{{ $t('main.csv.paste_code') }}</p>\n          <textarea\n            class=\"paste-area\"\n            :placeholder=\"pasteAreaPlaceholder\"\n            v-model.trim=\"pastedCode\"\n          ></textarea>\n        </div>\n\n        <modal-footer\n          :confirm-label=\"$t('main.csv.preview')\"\n          :error-text=\"$t('main.csv.error_upload')\"\n          :is-loading=\"isLoading\"\n          :is-disabled=\"!isValid\"\n          :is-error=\"isError\"\n          @confirm=\"onConfirmClicked\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FileUpload from '@/components/widgets/FileUpload.vue'\nimport { modalMixin } from '@/components/modals/base_modal'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\n\nexport default {\n  name: 'import-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    FileUpload,\n    ModalFooter\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      formData: null,\n      pastedCode: '',\n      activeTab: 'file',\n      tabs: [\n        {\n          id: 'file',\n          name: this.$t('main.csv.tab_select_file')\n        },\n        {\n          id: 'text',\n          name: this.$t('main.csv.tab_paste_code')\n        }\n      ]\n    }\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    optionalColumns: {\n      type: Array,\n      default: () => []\n    },\n    genericColumns: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  computed: {\n    isValid() {\n      return (\n        (this.activeTab === 'file' && this.formData) ||\n        (this.activeTab === 'text' && this.pastedCode)\n      )\n    },\n\n    pasteAreaPlaceholder() {\n      return this.columns.join(';')\n    }\n  },\n\n  methods: {\n    onFileSelected(formData) {\n      this.formData = formData\n      this.onConfirmClicked()\n    },\n\n    onConfirmClicked() {\n      const mode = this.activeTab\n      const data = mode === 'file' ? this.formData : this.pastedCode\n      this.$emit('confirm', data, mode)\n    },\n\n    reset() {\n      this.$refs.inputFile?.reset()\n      this.activeTab = 'file'\n      this.formData = null\n      this.pastedCode = ''\n    }\n  },\n\n  watch: {\n    active() {\n      this.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tabs ul {\n  margin-left: 0;\n}\n\n.paste-area {\n  margin: 0 0 1rem;\n  width: 100%;\n  min-height: 10rem;\n  padding: 0.5rem;\n  resize: vertical;\n}\n</style>\n","<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{ $t('main.csv.preview_title') }}\n        </h1>\n\n        <p>\n          {{ $t('main.csv.preview_required') }}\n        </p>\n        <div class=\"description\">\n          <div v-show=\"!disableUpdate\">\n            <h2 class=\"legend-title\">\n              {{ $t('main.csv.options.title') }}\n            </h2>\n            <checkbox\n              :toggle=\"true\"\n              :label=\"$t('main.csv.options.update')\"\n              v-model=\"updateData\"\n            />\n          </div>\n          <h3 class=\"legend-title\">\n            {{ $t('main.csv.legend') }}\n          </h3>\n          <div class=\"flexrow legends\">\n            <ul class=\"legend flexrow-item\">\n              <li class=\"legend-definition\">\n                <span class=\"legend-term\"></span>\n                {{ $t('main.csv.legend_ok') }}\n              </li>\n              <li class=\"legend-definition\">\n                <span class=\"legend-term ignored\"></span>\n                {{ $t('main.csv.legend_ignored') }}\n              </li>\n              <li class=\"legend-definition\">\n                <span class=\"legend-term missing\"></span>\n                {{ $t('main.csv.legend_missing') }}\n              </li>\n              <li class=\"legend-definition\">\n                <span class=\"legend-term missing-optional\"></span>\n                {{ $t('main.csv.legend_missing_optional') }}\n              </li>\n            </ul>\n            <ul class=\"legend flexrow-item\">\n              <li class=\"legend-definition\">\n                <span class=\"legend-term\"></span>\n                {{ $t('main.csv.legend_line_ok') }}\n              </li>\n              <li class=\"legend-definition\">\n                <span class=\"legend-term disabled\"></span>\n                {{ $t('main.csv.legend_disabled') }}\n              </li>\n              <li v-show=\"!disableUpdate\" class=\"legend-definition\">\n                <span class=\"legend-term overwrite\"></span>\n                {{ $t('main.csv.legend_overwrite') }}\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <div class=\"render-container\">\n          <table class=\"render\">\n            <colgroup>\n              <col\n                :key=\"`col-missing-${item}`\"\n                class=\"missing\"\n                v-for=\"item in columnsRequired\"\n              />\n              <col\n                :key=\"`col-${index}`\"\n                :class=\"stateColumn(cell)\"\n                v-for=\"(cell, index) in parsedCsv[0]\"\n              />\n              <col\n                :key=\"`col-missing-${item}`\"\n                class=\"missing-optional\"\n                v-for=\"item in columnsOptional\"\n              />\n            </colgroup>\n            <thead>\n              <tr class=\"render-headers\">\n                <th\n                  class=\"required-header\"\n                  :key=\"`header-${cell}`\"\n                  v-for=\"cell in columnsRequired\"\n                >\n                  {{ cell }}\n                </th>\n                <th\n                  :key=\"`header-${index}`\"\n                  v-for=\"(cell, index) in parsedCsv[0]\"\n                >\n                  <div class=\"render-select\">\n                    <combobox\n                      :options=\"columnOptions\"\n                      :value=\"cell\"\n                      :error=\"isDuplicated(index)\"\n                      v-model=\"columnSelect[index]\"\n                      @update:model-value=\"checkForDuplicate\"\n                    />\n                  </div>\n                  {{ cell || '-' }}\n                </th>\n                <th\n                  class=\"optional-header\"\n                  :key=\"`header-${cell}`\"\n                  v-for=\"cell in columnsOptional\"\n                >\n                  {{ cell }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                :class=\"{\n                  overwrite: updateData && existingData(index),\n                  disabled: !updateData && existingData(index)\n                }\"\n                :key=\"`line-${index}`\"\n                v-for=\"(line, index) in parsedCsv\n                  .slice(1)\n                  .filter(line => line.length > 1)\"\n              >\n                <td v-for=\"cell in columnsRequired\" :key=\"`cell-${cell}`\">\n                  {{ '-' }}\n                </td>\n                <td v-for=\"(cell, index) in line\" :key=\"`cell-${index}`\">\n                  {{ cell || '-' }}\n                </td>\n                <td v-for=\"cell in columnsOptional\" :key=\"`cell-${cell}`\">\n                  {{ '-' }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"render-footer\">\n          <button-simple\n            :text=\"$t('main.csv.preview_reupload')\"\n            @click=\"onReupload\"\n          />\n          <modal-footer\n            :error-text=\"errorText\"\n            :is-loading=\"isLoading\"\n            :is-disabled=\"formData === undefined\"\n            :is-error=\"isError\"\n            @confirm=\"onConfirmClicked\"\n            @cancel=\"$emit('cancel')\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport Checkbox from '@/components/widgets/Checkbox.vue'\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\n\nexport default {\n  name: 'import-render-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    ButtonSimple,\n    Combobox,\n    Checkbox,\n    ModalFooter\n  },\n\n  emits: ['cancel', 'confirm', 'reupload'],\n\n  data() {\n    return {\n      duplicates: [],\n      formData: null,\n      updateData: false\n    }\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    parsedCsv: {\n      type: Array,\n      default: () => []\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    dataMatchers: {\n      type: Array,\n      default: () => []\n    },\n    database: {\n      type: Object,\n      default: () => {}\n    },\n    disableUpdate: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    importError: {\n      type: Error,\n      default: null\n    }\n  },\n\n  mounted() {\n    this.formData = null\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetMetadataDescriptors',\n      'shotMetadataDescriptors',\n      'editMetadataDescriptors'\n    ]),\n\n    columnsRequired() {\n      if (this.parsedCsv.length !== 0) {\n        return this.columns.filter(item => {\n          return (\n            !this.parsedCsv[0].includes(item) &&\n            this.dataMatchers.includes(item)\n          )\n        })\n      } else {\n        return []\n      }\n    },\n\n    columnsOptional() {\n      if (this.parsedCsv.length !== 0) {\n        return this.columns.filter(item => {\n          return (\n            !this.parsedCsv[0].includes(item) &&\n            !this.dataMatchers.includes(item)\n          )\n        })\n      } else {\n        return []\n      }\n    },\n\n    metadataDescriptors() {\n      if (this.$route.path.indexOf('assets') > 0) {\n        return this.assetMetadataDescriptors\n      }\n      if (this.$route.path.indexOf('shots') > 0) {\n        return this.shotMetadataDescriptors\n      }\n      if (this.$route.path.indexOf('edits') > 0) {\n        return this.editMetadataDescriptors\n      }\n      return []\n    },\n\n    columnsAllowed() {\n      const list = [...this.columns]\n      this.metadataDescriptors.forEach(item => {\n        if (!list.includes(item.name)) {\n          list.push(item.name)\n        }\n      })\n      return list\n    },\n\n    columnOptions() {\n      const options = [\n        {\n          label: this.$t('main.csv.choose'),\n          value: this.$t('main.csv.unknown')\n        }\n      ]\n      this.columnsAllowed.forEach(item => {\n        options.push({ label: item, value: item })\n      })\n      return options\n    },\n\n    columnSelect() {\n      return this.parsedCsv[0]\n    },\n\n    indexMatchers() {\n      const indexes = []\n      this.dataMatchers.forEach(item => {\n        indexes.push(this.parsedCsv[0].indexOf(item))\n      })\n      return indexes\n    },\n\n    errorText() {\n      let text = this.$t('main.csv.error_upload')\n      if (this.importError && this.importError.status === 400) {\n        const res = this.importError.response\n        text += ` (line: ${res.body.line_number}) ${res.body.message}`\n      }\n      return text\n    }\n  },\n\n  methods: {\n    onConfirmClicked() {\n      this.$emit('confirm', this.parsedCsv, this.updateData)\n    },\n\n    onReupload() {\n      this.$emit('reupload')\n    },\n\n    stateColumn(data) {\n      if (!this.columnsAllowed.includes(data)) {\n        return 'ignored'\n      }\n    },\n\n    checkForDuplicate() {\n      const ignoredItem = this.$t('main.csv.unknown')\n      this.duplicates = this.columnSelect\n        .filter((item, index) => this.columnSelect.indexOf(item) !== index)\n        .filter(item => item !== ignoredItem)\n    },\n\n    isDuplicated(index) {\n      if (this.duplicates.includes(this.columnSelect[index])) {\n        return true\n      }\n    },\n\n    existingData(index) {\n      const csv = this.parsedCsv[index + 1]\n      const db = this.database\n      const columns = this.indexMatchers\n      let itemName = ''\n      columns.forEach(col => {\n        itemName += csv[col]\n      })\n      return db[itemName]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .render-container {\n    .render {\n      th,\n      td {\n        border: 1px solid $dark-grey-lightest;\n        color: $white;\n      }\n      tr:not(.render-headers):hover {\n        background-color: $dark-grey-lightmore;\n      }\n    }\n  }\n  .render-select {\n    border-color: $dark-grey-lightest;\n  }\n  .legend-term {\n    border: 1px solid $dark-grey-lightest;\n  }\n  .ignored {\n    background-color: $dark-grey;\n  }\n  .disabled {\n    background: repeating-linear-gradient(\n      -45deg,\n      rgba($dark-grey, 0.6),\n      rgba($dark-grey, 0.6) 2px,\n      transparent 2px,\n      transparent 10px\n    );\n  }\n}\n.modal-content {\n  margin: 6rem auto 1.4rem;\n  max-width: calc(100vw - 4rem);\n  max-height: calc(100% - 6rem);\n  width: auto;\n}\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n.error {\n  margin-top: 1em;\n}\n.description {\n  margin-bottom: 1em;\n  margin-top: 2em;\n  .flex-item {\n    flex: 1 1 50%;\n  }\n}\n.render-container {\n  max-height: 300px;\n  overflow: auto;\n  .render-headers {\n    .field {\n      margin: 0;\n    }\n  }\n  .render {\n    width: 100%;\n    border: 1px solid $light-grey-light;\n    th,\n    td {\n      color: $dark-grey;\n      border: 1px solid $light-grey-light;\n      padding: 0.75rem;\n    }\n    tr:hover {\n      background: none;\n    }\n    tr:not(.render-headers):hover {\n      background-color: $white-grey-light;\n    }\n  }\n}\n\n.render-select {\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 1px solid $light-grey-light;\n}\n\n.render-footer {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 2rem;\n}\n\n.modal-content .box h1.title {\n  margin-bottom: 0;\n}\n\n.legend-title {\n  color: var(--text);\n  font-size: 1em;\n  font-weight: bold;\n  margin-bottom: 1.5em;\n  margin-top: 0;\n  text-transform: uppercase;\n}\n\n.legends {\n  align-items: flex-start;\n}\n\n.legend {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.legend-term {\n  display: inline-block;\n  margin-right: 0.5rem;\n  width: 1.5rem;\n  height: 1.5rem;\n  border: 1px solid $light-grey-light;\n}\n.legend-definition {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0 1rem 0.5rem 0;\n}\n\n.ignored {\n  background-color: rgba($light-grey-light, 0.6);\n}\n\n.missing {\n  background-color: rgba($red, 0.6);\n}\n\n.missing-optional {\n  background-color: rgba($red, 0.2);\n}\n\n.optional-header,\n.required-header {\n  vertical-align: bottom;\n}\n\ncol.missing-optional,\ncol.missing {\n  min-width: 150px;\n\n  th {\n    vertical-align: bottom;\n  }\n}\n\n.disabled {\n  opacity: 0.4;\n  background: repeating-linear-gradient(\n    -45deg,\n    rgba($light-grey-light, 0.7),\n    rgba($light-grey-light, 0.7) 2px,\n    transparent 2px,\n    transparent 10px\n  );\n}\n.overwrite {\n  background-color: rgba($blue, 0.2);\n\n  &:hover td {\n    background-color: rgba($blue, 0.3);\n  }\n}\n</style>\n"],"names":["_sfc_main","modalMixin","FileUpload","ModalFooter","formData","mode","data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","_normalizeClass","$props","_createElementVNode","_ctx","_toDisplayString","_openBlock","_hoisted_4","_createTextVNode","_Fragment","_renderList","column","_createCommentVNode","_hoisted_5","optionalColumn","_hoisted_6","genericColumn","$data","tab","$event","_createVNode","_component_file_upload","$options","_cache","_component_modal_footer","ButtonSimple","Combobox","Checkbox","mapGetters","item","list","options","indexes","text","res","ignoredItem","index","csv","db","columns","itemName","col","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_component_checkbox","_withDirectives","cell","_component_combobox","line","_component_button_simple"],"mappings":"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"}