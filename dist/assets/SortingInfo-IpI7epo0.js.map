{"version":3,"file":"SortingInfo-IpI7epo0.js","sources":["../../src/components/mixins/entities.js","../../src/components/cells/MetadataInput.vue","../../src/components/widgets/TableHeaderMenu.vue","../../src/components/widgets/TableMetadataHeaderMenu.vue","../../src/components/cells/ValidationHeader.vue","../../src/components/modals/AddMetadataModal.vue","../../src/assets/icons/movie-thumbnail.png","../../src/components/modals/AddThumbnailsModal.vue","../../src/components/widgets/ComboboxDisplayOptions.vue","../../src/components/modals/CreateTasksModal.vue","../../src/components/widgets/SortingInfo.vue"],"sourcesContent":["import { mapGetters, mapActions } from 'vuex'\n\nimport stringHelpers from '@/lib/string'\nimport func from '@/lib/func'\nimport preferences from '@/lib/preferences'\n\n/*\n * Common functions to shots and assets pages.\n */\nexport const entitiesMixin = {\n  data() {\n    return {\n      displaySettings: {\n        bigThumbnails: false,\n        contactSheetMode: false,\n        showAssignations: true,\n        showInfos: true\n      },\n      keepTaskPanelOpen: false\n    }\n  },\n\n  mounted() {\n    const departmentId = preferences.getPreference(\n      `${this.pageName}:department`\n    )\n    const selectableDepartments = this.selectableDepartments(\n      stringHelpers.capitalize(this.type)\n    ).map(department => department.id)\n\n    if (\n      departmentId &&\n      !this.isCurrentUserClient &&\n      (!this.user.departments.length ||\n        selectableDepartments.includes(departmentId) ||\n        departmentId === 'ALL')\n    ) {\n      this.selectedDepartment = departmentId\n    } else if (!this.isCurrentUserManager && this.user.departments.length) {\n      this.selectedDepartment = 'MY_DEPARTMENTS'\n    }\n    this.onSelectedDepartmentChanged()\n\n    this.displaySettings =\n      preferences.getObjectPreference(`${this.type}s:display_settings`) ||\n      this.displaySettings\n  },\n\n  computed: {\n    ...mapGetters([\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'nbSelectedTasks',\n      'selectedTasks',\n      'nbSelectedValidations'\n    ]),\n\n    searchField() {\n      return this.$refs[`${this.type}-search-field`]\n    },\n\n    addThumbnailsModal() {\n      return this.$refs['add-thumbnails-modal']\n    },\n\n    dataMatchers() {\n      return ['Name']\n    },\n\n    isTaskSidePanelOpen() {\n      return (\n        this.nbSelectedTasks > 0 ||\n        this.keepTaskPanelOpen ||\n        this.nbSelectedEntities > 0 ||\n        this.nbSelectedValidations > 0\n      )\n    },\n\n    nbSelectedEntities() {\n      return this.selectedEntities.size\n    },\n\n    entityTypeName() {\n      return `${this.type[0].toUpperCase()}${this.type.slice(1)}`\n    },\n\n    selectedEntities() {\n      if (['Episode', 'Sequence'].includes(this.entityTypeName)) return []\n      return this[`selected${this.entityTypeName}s`]\n    }\n  },\n\n  methods: {\n    ...mapActions(['clearSelectedTasks']),\n\n    showImportModal() {\n      this.modals.isImportDisplayed = true\n    },\n\n    hideImportModal() {\n      this.modals.isImportDisplayed = false\n    },\n\n    showImportRenderModal() {\n      this.modals.isImportRenderDisplayed = true\n    },\n\n    hideImportRenderModal() {\n      this.modals.isImportRenderDisplayed = false\n    },\n\n    showCreateTasksModal() {\n      this.modals.isCreateTasksDisplayed = true\n    },\n\n    hideCreateTasksModal() {\n      this.modals.isCreateTasksDisplayed = false\n    },\n\n    showAddThumbnailsModal() {\n      this.modals.isAddThumbnailsDisplayed = true\n    },\n\n    hideAddThumbnailsModal() {\n      this.modals.isAddThumbnailsDisplayed = false\n    },\n\n    onSelectedDepartmentChanged() {\n      const departmentId = this.selectedDepartment\n      if (departmentId === 'ALL') {\n        this.departmentFilter = []\n      } else if (departmentId === 'MY_DEPARTMENTS') {\n        this.departmentFilter = this.user.departments\n      } else {\n        this.departmentFilter = [departmentId]\n      }\n      preferences.setPreference(`${this.pageName}:department`, departmentId)\n    },\n\n    selectableDepartments(forEntity) {\n      if (!this.currentProduction) {\n        return []\n      }\n      return this.currentProduction.task_types\n        .map(taskTypeId => {\n          const taskType = this.taskTypeMap.get(taskTypeId)\n          return taskType && taskType.for_entity === forEntity\n            ? this.departmentMap.get(taskType.department_id)\n            : false\n        })\n        .filter(\n          (department, index, self) =>\n            department && self.indexOf(department) === index\n        )\n    },\n\n    onEntityThumbnailClicked(entityId) {\n      if (!entityId) return\n      this.previvewFileIdToShow = entityId\n      this.modals.isPreviewDisplayed = true\n    },\n\n    closeMetadataModal() {\n      this.modals.isAddMetadataDisplayed = false\n    },\n\n    confirmDeleteMetadata() {\n      this.errors.deleteMetadata = false\n      this.loading.deleteMetadata = true\n      this.deleteMetadataDescriptor(this.descriptorIdToDelete)\n        .then(() => {\n          this.errors.deleteMetadata = false\n          this.loading.deleteMetadata = false\n          this.modals.isDeleteMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.deleteMetadata = true\n          this.loading.deleteMetadata = false\n        })\n    },\n\n    onAddMetadataClicked() {\n      this.descriptorToEdit = {}\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    onDeleteMetadataClicked(descriptorId) {\n      this.descriptorIdToDelete = descriptorId\n      this.modals.isDeleteMetadataDisplayed = true\n    },\n\n    onEditMetadataClicked(descriptorId) {\n      this.descriptorToEdit = this.currentProduction.descriptors.find(\n        d => d.id === descriptorId\n      )\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    confirmDeleteAllTasks(selectionOnly) {\n      const taskTypeId = this.taskTypeForTaskDeletion.id\n      const projectId = this.currentProduction.id\n      this.errors.deleteAllTasks = false\n      this.loading.deleteAllTasks = true\n      this.deleteAllTasks({ projectId, taskTypeId, selectionOnly })\n        .then(() => {\n          this.loading.deleteAllTasks = false\n          this.modals.isDeleteAllTasksDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.deleteAllTasks = false\n          this.errors.deleteAllTasks = true\n        })\n    },\n\n    confirmAddThumbnails(forms) {\n      const addPreview = form => {\n        this.addThumbnailsModal?.markLoading(form.task.entity_id)\n        return this.commentTaskWithPreview({\n          taskId: form.task.id,\n          commentText: '',\n          taskStatusId: form.task.task_status_id,\n          form\n        })\n          .then(({ newComment, preview }) => {\n            return this.setPreview({\n              taskId: form.task.id,\n              entityId: form.task.entity_id,\n              previewId: preview.id\n            })\n          })\n          .then(() => {\n            this.addThumbnailsModal?.markUploaded(form.task.entity_id)\n          })\n      }\n      this.loading.addThumbnails = true\n      func.runPromiseMapAsSeries(forms, addPreview).then(() => {\n        this.loading.addThumbnails = false\n        this.modals.isAddThumbnailsDisplayed = false\n      })\n    },\n\n    confirmCreateTasks({ form, selectionOnly }) {\n      this.loading.creatingTasks = true\n      this.runTasksCreation(form, selectionOnly)\n        .then(() => {\n          this.reset()\n          this.hideCreateTasksModal()\n          this.loading.creatingTasks = false\n        })\n        .catch(err => {\n          this.errors.creatingTasks = true\n          console.error(err)\n        })\n    },\n\n    confirmCreateTasksAndStay({ form, selectionOnly }) {\n      this.loading.creatingTasksStay = true\n      this.runTasksCreation(form, selectionOnly)\n        .then(() => {\n          this.reset()\n          this.loading.creatingTasksStay = false\n        })\n        .catch(err => {\n          this.errors.creatingTasks = true\n          console.error(err)\n        })\n    },\n\n    deleteAllTasksText() {\n      const taskType = this.taskTypeForTaskDeletion\n      if (taskType) {\n        return this.$t('tasks.delete_all_text', { name: taskType.name })\n      } else {\n        return ''\n      }\n    },\n\n    onDeleteAllTasksClicked(taskTypeId) {\n      const taskType = this.taskTypeMap.get(taskTypeId)\n      this.taskTypeForTaskDeletion = taskType\n      this.deleteAllTasksLockText = taskType.name\n      this.modals.isDeleteAllTasksDisplayed = true\n    },\n\n    saveScrollPosition(scrollPosition) {\n      this.$store.commit('SET_EDIT_LIST_SCROLL_POSITION', scrollPosition)\n    },\n\n    onChangeSortClicked(sortInfo) {\n      this[`change${this.type[0].toUpperCase()}${this.type.slice(1)}Sort`](\n        sortInfo\n      )\n    },\n\n    onKeepTaskPanelOpenChanged(keepOpen) {\n      this.keepTaskPanelOpen = keepOpen\n    },\n\n    clearSelection() {\n      this[`clearSelected${this.entityTypeName}s`]()\n      this.clearSelectedTasks()\n    }\n  },\n\n  watch: {\n    selectedDepartment() {\n      this.onSelectedDepartmentChanged()\n    },\n\n    displaySettings: {\n      deep: true,\n      handler(newSettings) {\n        preferences.setObjectPreference(\n          `${this.type}s:display_settings`,\n          newSettings\n        )\n      }\n    }\n  }\n}\n","<template>\n  <!-- text input -->\n  <input\n    class=\"input-editor\"\n    :readonly=\"!isEditable\"\n    @input=\"event => onMetadataFieldChanged(entity, descriptor, event)\"\n    @keyup.ctrl=\"event => onInputKeyUp(event, indexes.i, indexes.j)\"\n    :value=\"getMetadataFieldValue(descriptor, entity)\"\n    v-if=\"!descriptor.data_type || descriptor.data_type === 'string'\"\n  />\n  <!-- number input -->\n  <input\n    class=\"input-editor\"\n    :readonly=\"!isEditable\"\n    type=\"number\"\n    step=\"any\"\n    @keydown=\"onNumberFieldKeyDown\"\n    @input=\"event => onMetadataFieldChanged(entity, descriptor, event)\"\n    @keyup.ctrl=\"event => onInputKeyUp(event, indexes.i, indexes.j)\"\n    :value=\"getMetadataFieldValue(descriptor, entity)\"\n    v-else-if=\"descriptor.data_type === 'number'\"\n  />\n  <!-- boolean input -->\n  <input\n    class=\"input-editor\"\n    :disabled=\"!isEditable\"\n    @input=\"event => onMetadataFieldChanged(entity, descriptor, event)\"\n    @keyup.ctrl=\"event => onInputKeyUp(event, indexes.i, indexes.j)\"\n    type=\"checkbox\"\n    :checked=\"getMetadataFieldValue(descriptor, entity) === 'true'\"\n    v-else-if=\"descriptor.data_type === 'boolean'\"\n  />\n  <!-- checklist input -->\n  <div\n    class=\"metadata-value selectable\"\n    v-else-if=\"\n      descriptor.data_type === 'checklist' &&\n      getDescriptorChecklistValues(descriptor).length\n    \"\n  >\n    <p\n      :key=\"`${entity.id}-${descriptor.id}-${i}-${option.text}-div`\"\n      v-for=\"(option, i) in getDescriptorChecklistValues(descriptor)\"\n    >\n      <input\n        type=\"checkbox\"\n        @change=\"\n          event =>\n            onMetadataChecklistChanged(entity, descriptor, option.text, event)\n        \"\n        :id=\"`${entity.id}-${descriptor.id}-${i}-${option.text}-input`\"\n        :checked=\"getMetadataChecklistValues(descriptor, entity)[option.text]\"\n        :disabled=\"!isEditable\"\n        :style=\"[isEditable ? { cursor: 'pointer' } : { cursor: 'auto' }]\"\n      />\n      <label\n        :for=\"`${entity.id}-${descriptor.id}-${i}-${option.text}-input`\"\n        :style=\"[isEditable ? { cursor: 'pointer' } : { cursor: 'auto' }]\"\n        class=\"ml05\"\n      >\n        {{ option.text }}\n      </label>\n    </p>\n  </div>\n  <!-- list input -->\n  <span class=\"select\" v-else-if=\"descriptor.data_type === 'list'\">\n    <select\n      class=\"select-input\"\n      @keyup.ctrl=\"event => onInputKeyUp(event, indexes.i, indexes.j)\"\n      @change=\"event => onMetadataFieldChanged(entity, descriptor, event)\"\n    >\n      <option\n        :disabled=\"!isEditable\"\n        :key=\"`desc-value-${entity.id}-${descriptor.id}-${i}-${option.label}-${option.value}`\"\n        :value=\"option.value\"\n        :selected=\"getMetadataFieldValue(descriptor, entity) === option.value\"\n        v-for=\"(option, i) in getDescriptorChoicesOptions(descriptor)\"\n      >\n        {{ option.label }}\n      </option>\n    </select>\n  </span>\n  <!-- tag list input -->\n  <combobox-tag\n    :disabled=\"!isEditable\"\n    :options=\"getDescriptorChoicesOptions(descriptor, false)\"\n    :shy=\"true\"\n    :model-value=\"getMetadataFieldValue(descriptor, entity)\"\n    :with-margin=\"false\"\n    @update:model-value=\"\n      value => onMetadataFieldChanged(entity, descriptor, value)\n    \"\n    v-else-if=\"descriptor.data_type === 'taglist'\"\n  />\n  <!-- default -->\n  <div class=\"metadata-value selectable\" v-else>\n    {{ getMetadataFieldValue(descriptor, entity) }}\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { descriptorMixin } from '@/components/mixins/descriptors'\nimport { domMixin } from '@/components/mixins/dom'\nimport { entityListMixin } from '@/components/mixins/entity_list'\n\nimport ComboboxTag from '@/components/widgets/ComboboxTag.vue'\n\nexport default {\n  name: 'metadata-input',\n\n  mixins: [descriptorMixin, domMixin, entityListMixin],\n\n  components: {\n    ComboboxTag\n  },\n\n  props: {\n    entity: {\n      type: Object,\n      required: true\n    },\n    descriptor: {\n      type: Object,\n      required: true\n    },\n    indexes: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    ...mapGetters(['isCurrentUserManager', 'isCurrentUserSupervisor', 'user']),\n\n    isEditable() {\n      return (\n        this.isCurrentUserManager ||\n        this.isSupervisorInDepartments(this.descriptor.departments)\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .select select,\n  .input-editor {\n    color: $white;\n\n    option {\n      background: $dark-grey-light;\n      color: $white;\n    }\n\n    &:focus,\n    &:active,\n    &:hover {\n      background: $dark-grey-light;\n    }\n  }\n}\n\n.input-editor {\n  color: $grey-strong;\n  height: 100%;\n  padding: 0.5rem;\n  width: 100%;\n  background: transparent;\n  border: 1px solid transparent;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  z-index: 100;\n\n  &[type='checkbox'] {\n    display: block;\n    width: initial;\n    height: initial;\n    margin: auto;\n  }\n\n  &:active,\n  &:focus,\n  &:hover {\n    background: transparent;\n    background: white;\n  }\n\n  &:active,\n  &:focus {\n    border: 1px solid $green;\n  }\n\n  &:hover {\n    border: 1px solid $light-green;\n  }\n\n  &:invalid {\n    color: $red;\n  }\n}\n\n.select {\n  color: $grey-strong;\n  margin: 0;\n  height: 100%;\n  width: 100%;\n  border: 1px solid transparent;\n\n  &::after {\n    border-color: transparent;\n  }\n\n  &:active,\n  &:focus,\n  &:hover {\n    &::after {\n      border-color: $green;\n    }\n  }\n\n  select {\n    color: $grey-strong;\n    height: 100%;\n    width: 100%;\n    background: transparent;\n    border-radius: 0;\n    border: 1px solid transparent;\n\n    &:focus {\n      border: 1px solid $green;\n      background: white;\n    }\n\n    &:hover {\n      background: transparent;\n      background: white;\n      border: 1px solid $light-green;\n    }\n  }\n}\n\n.metadata-value {\n  max-width: 100%;\n  padding: 0.5rem 0.75rem;\n  overflow: auto;\n  white-space: nowrap;\n}\n</style>\n","<template>\n  <div class=\"header-menu hidden\">\n    <div @click=\"$emit('minimize-clicked')\">\n      <span v-if=\"isMinimized\">\n        {{ $t('main.maximize') }}\n      </span>\n      <span v-else>{{ $t('main.minimize') }}</span>\n    </div>\n    <div @click=\"$emit('sort-by-clicked')\">\n      {{ $t('main.sort_by') }}\n    </div>\n    <div @click=\"$emit('select-column')\">\n      {{ $t('main.select_column') }}\n    </div>\n    <div @click=\"$emit('toggle-stick')\">\n      <template v-if=\"isSticked\">\n        {{ $t('main.unstick') }}\n      </template>\n      <template v-else>\n        {{ $t('main.stick') }}\n      </template>\n    </div>\n    <div\n      class=\"error\"\n      @click=\"$emit('delete-all-clicked')\"\n      v-if=\"isEditAllowed\"\n    >\n      {{ $t('main.delete_all') }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'table-header-menu',\n\n  props: {\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    isEditAllowed: {\n      type: Boolean,\n      default: false\n    },\n    isSticked: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: [\n    'delete-all-clicked',\n    'minimize-clicked',\n    'select-column',\n    'sort-by-clicked',\n    'toggle-stick'\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .header-menu {\n  background-color: $dark-grey-light;\n  box-shadow: 0 2px 6px $dark-grey-light;\n}\n\n.header-menu {\n  position: absolute;\n  background: white;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  box-shadow: 0 2px 6px $light-grey;\n  top: 90px;\n  width: 118px;\n  z-index: 100;\n}\n\n.header-menu div {\n  cursor: pointer;\n}\n\n.header-menu div {\n  padding: 0.5em;\n}\n</style>\n","<template>\n  <div class=\"header-menu hidden\">\n    <div @click=\"$emit('edit-clicked')\" v-if=\"isEditAllowed\">\n      {{ $t('main.edit') }}\n    </div>\n    <div @click=\"$emit('sort-by-clicked')\">\n      {{ $t('main.sort_by') }}\n    </div>\n    <div @click=\"$emit('toggle-stick')\">\n      <template v-if=\"isSticked\">\n        {{ $t('main.unstick') }}\n      </template>\n      <template v-else>\n        {{ $t('main.stick') }}\n      </template>\n    </div>\n    <div class=\"error\" @click=\"$emit('delete-clicked')\" v-if=\"isEditAllowed\">\n      {{ $t('main.delete') }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'table-metadata-header-menu',\n\n  props: {\n    isEditAllowed: {\n      type: Boolean,\n      default: false\n    },\n    isSticked: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['delete-clicked', 'edit-clicked', 'sort-by-clicked', 'toggle-stick']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .header-menu {\n  background-color: $dark-grey-light;\n  box-shadow: 0 2px 6px $dark-grey-light;\n}\n\n.header-menu {\n  position: absolute;\n  background: white;\n  width: 128px;\n  box-shadow: 0 2px 6px $light-grey;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  top: 90px;\n  z-index: 1001; // Needed to be above the sticky cells\n}\n\n.header-menu div {\n  cursor: pointer;\n}\n\n.header-menu div {\n  padding: 0.5em;\n}\n</style>\n","<template>\n  <th\n    scope=\"col\"\n    :class=\"{\n      'validation-cell': !isHiddenColumn,\n      'hidden-validation-cell': isHiddenColumn,\n      'datatable-row-header': isStick\n    }\"\n    :style=\"{ left }\"\n  >\n    <div class=\"flexrow validation-content\" :style=\"validationStyle\">\n      <department-name\n        class=\"department-dot\"\n        :department=\"currentDepartment\"\n        no-padding\n        only-dot\n        v-if=\"currentDepartment\"\n      />\n      <router-link\n        class=\"flexrow-item datatable-dropdown ellipsis task-type-name\"\n        :title=\"!isHiddenColumn ? currentTaskType.name : null\"\n        :to=\"taskTypePath(columnId)\"\n        v-if=\"!isCurrentUserClient\"\n      >\n        {{ !isHiddenColumn ? currentTaskType.name : '' }}\n      </router-link>\n      <span\n        class=\"flexrow-item datatable-dropdown ellipsis task-type-name\"\n        :title=\"!isHiddenColumn ? currentTaskType.name : null\"\n        v-else\n      >\n        {{ !isHiddenColumn ? currentTaskType.name : '' }}\n      </span>\n      <span\n        class=\"metadata-menu-button header-icon pointer\"\n        @click=\"$emit('show-header-menu', $event)\"\n      >\n        <chevron-down-icon :size=\"14\" />\n      </span>\n    </div>\n  </th>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { ChevronDownIcon } from 'lucide-vue-next'\n\nimport DepartmentName from '@/components/widgets/DepartmentName.vue'\n\nexport default {\n  name: 'validation-header',\n\n  components: {\n    ChevronDownIcon,\n    DepartmentName\n  },\n\n  props: {\n    hiddenColumns: Object,\n    columnId: String,\n    validationStyle: Object,\n    isStick: {\n      type: Boolean,\n      default: false\n    },\n    left: {\n      type: String\n    },\n    type: {\n      type: String,\n      default: 'assets'\n    }\n  },\n\n  emits: ['show-header-menu'],\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'isCurrentUserClient',\n      'isTVShow',\n      'departmentMap',\n      'taskTypeMap'\n    ]),\n\n    currentDepartment() {\n      return this.departmentMap.get(this.currentTaskType.department_id)\n    },\n\n    currentTaskType() {\n      return this.taskTypeMap.get(this.columnId) ?? {}\n    },\n\n    isHiddenColumn() {\n      return this.hiddenColumns[this.columnId]\n    }\n  },\n  methods: {\n    taskTypePath(taskTypeId) {\n      if (this.currentTaskType.for_entity === 'Episode') {\n        const route = {\n          name: 'episodes-task-type',\n          params: {\n            production_id: this.currentProduction.id,\n            task_type_id: taskTypeId\n          }\n        }\n        return route\n      } else {\n        const route = {\n          name: 'task-type',\n          params: {\n            production_id: this.currentProduction.id,\n            task_type_id: taskTypeId,\n            type: this.type\n          }\n        }\n\n        if (this.isTVShow && this.currentEpisode) {\n          route.name = 'episode-task-type'\n          route.params.episode_id = this.currentEpisode.id\n        }\n        return route\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nth.metadata-descriptor {\n  min-width: 120px;\n  max-width: 120px;\n  width: 120px;\n  overflow-wrap: break-word;\n  hyphens: auto;\n}\n\n.task-type-name {\n  font-size: 1.1em;\n  max-width: 95%;\n  text-transform: none;\n  margin-right: 0;\n}\n\n.metadata-menu-button {\n  background: var(--background);\n  border-radius: 50%;\n  height: 16px;\n  width: 16px;\n  padding: 1px;\n  position: absolute;\n  right: 5px;\n}\n</style>\n","<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{\n            isEditing\n              ? $t('productions.metadata.edit_title')\n              : $t('productions.metadata.title')\n          }}\n        </h1>\n\n        <text-field\n          ref=\"nameField\"\n          :label=\"$t('assets.fields.name')\"\n          v-model.trim=\"form.name\"\n          @enter=\"confirm\"\n        />\n\n        <combobox\n          :label=\"$t('assets.fields.type')\"\n          v-model=\"form.data_type\"\n          :options=\"typeOptions\"\n          @enter=\"confirm\"\n        />\n\n        <div v-if=\"['list', 'taglist'].includes(form.data_type)\">\n          <p class=\"strong\">\n            {{ $t('productions.metadata.available_values') }}\n          </p>\n\n          <div\n            ref=\"valueList\"\n            class=\"choice-value-wrapper mb1\"\n            v-if=\"form.values.length\"\n          >\n            <p class=\"choice-value\" :key=\"value\" v-for=\"value in form.values\">\n              <span>{{ value }}</span>\n              <span\n                class=\"remove-button pull-right\"\n                @click=\"removeValue(value)\"\n              >\n                x\n              </span>\n            </p>\n          </div>\n          <div v-else>\n            {{ $t('productions.metadata.add_new_values') }}\n          </div>\n\n          <text-field\n            v-model.trim=\"valueToAdd\"\n            :button-label=\"$t('main.add')\"\n            @enter=\"addValue\"\n          />\n        </div>\n\n        <div v-if=\"form.data_type === 'checklist'\">\n          <p class=\"strong\">\n            {{ $t('productions.metadata.checklist') }}\n          </p>\n          <div class=\"checklist-wrapper\">\n            <checklist\n              :checklist=\"checklist\"\n              @add-item=\"onAddChecklistItem\"\n              @remove-task=\"removeTask\"\n              v-if=\"checklist.length\"\n            />\n            <button-simple\n              :class=\"{\n                button: true,\n                active: checklist.length !== 0\n              }\"\n              icon=\"plus\"\n              :title=\"$t('comments.add_checklist')\"\n              @click=\"addChecklistEntry(-1)\"\n            />\n          </div>\n        </div>\n\n        <div\n          class=\"departments mb2\"\n          v-if=\"form.departments.length || selectableDepartments.length\"\n        >\n          <label class=\"label\">\n            {{ $t('people.fields.departments') }}\n          </label>\n          <div\n            class=\"department-element mb1\"\n            :key=\"departmentId\"\n            @click=\"removeDepartment(departmentId)\"\n            v-for=\"departmentId in form.departments\"\n          >\n            <department-name :department=\"departmentMap.get(departmentId)\" />\n          </div>\n          <div class=\"flexrow\" v-if=\"selectableDepartments.length\">\n            <combobox-department\n              class=\"flexrow-item\"\n              :selectable-departments=\"selectableDepartments\"\n              :max-height-select-input=\"160\"\n              v-model=\"selectedDepartment\"\n            />\n            <button\n              class=\"button is-success flexrow-item\"\n              :class=\"{\n                'is-disabled': selectedDepartment === null\n              }\"\n              @click=\"addDepartment\"\n            >\n              {{ $t('main.add') }}\n            </button>\n          </div>\n        </div>\n\n        <combobox-boolean\n          ref=\"hiddenField\"\n          :label=\"$t('assets.fields.hidden_from_client')\"\n          v-model=\"form.for_client\"\n          @enter=\"confirm\"\n        />\n\n        <modal-footer\n          :error-text=\"$t('productions.metadata.error')\"\n          :is-error=\"isError\"\n          :is-loading=\"isLoading\"\n          :is-disabled=\"!isFormFilled\"\n          @confirm=\"confirm\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\nimport { descriptorMixin } from '@/components/mixins/descriptors'\n\nimport { remove } from '@/lib/models'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport Checklist from '@/components/widgets/Checklist.vue'\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport ComboboxBoolean from '@/components/widgets/ComboboxBoolean.vue'\nimport ComboboxDepartment from '@/components/widgets/ComboboxDepartment.vue'\nimport DepartmentName from '@/components/widgets/DepartmentName.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\nimport TextField from '@/components/widgets/TextField.vue'\n\nexport default {\n  name: 'add-metadata-modal',\n\n  mixins: [descriptorMixin, modalMixin],\n\n  components: {\n    ButtonSimple,\n    Checklist,\n    Combobox,\n    ComboboxBoolean,\n    ComboboxDepartment,\n    DepartmentName,\n    ModalFooter,\n    TextField\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    descriptorToEdit: {\n      type: Object,\n      default: () => {}\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    entityType: {\n      type: String,\n      default: 'Asset'\n    }\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      form: {\n        name: '',\n        data_type: 'string',\n        for_client: 'false',\n        values: [],\n        departments: []\n      },\n      valueToAdd: '',\n      checklist: [],\n      typeOptions: [\n        {\n          label: this.$t('productions.metadata.string'),\n          value: 'string'\n        },\n        {\n          label: this.$t('productions.metadata.number'),\n          value: 'number'\n        },\n        {\n          label: this.$t('productions.metadata.boolean'),\n          value: 'boolean'\n        },\n        {\n          label: this.$t('productions.metadata.choices'),\n          value: 'list'\n        },\n        {\n          label: this.$t('productions.metadata.tags'),\n          value: 'taglist'\n        },\n        {\n          label: this.$t('productions.metadata.checklist'),\n          value: 'checklist'\n        }\n      ],\n      selectedDepartment: null\n    }\n  },\n\n  mounted() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'departmentMap',\n      'isCurrentUserSupervisor',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    isEditing() {\n      return Boolean(this.descriptorToEdit.id)\n    },\n\n    selectableDepartments() {\n      if (!this.currentProduction) return []\n\n      let departments = this.currentProduction.task_types\n        .map(taskTypeId => {\n          const taskType = this.taskTypeMap.get(taskTypeId)\n          return taskType && taskType.for_entity === this.entityType\n            ? this.departmentMap.get(taskType.department_id)\n            : false\n        })\n        .filter(\n          (department, index, self) =>\n            department &&\n            self.indexOf(department) === index &&\n            this.form.departments.findIndex(\n              selectedDepartment => selectedDepartment === department.id\n            ) === -1\n        )\n      if (this.isCurrentUserSupervisor && this.user.departments.length > 0) {\n        departments = departments.filter(\n          department => this.user.departments.indexOf(department.id) >= 0\n        )\n      }\n      return departments\n    },\n\n    isFormFilled() {\n      return (\n        this.form.name.length &&\n        (['string', 'number', 'boolean'].includes(this.form.data_type) ||\n          (['list', 'taglist'].includes(this.form.data_type) &&\n            this.form.values.length) ||\n          (this.form.data_type === 'checklist' &&\n            this.checklist?.[0]?.text.length)) &&\n        (!this.isCurrentUserSupervisor ||\n          !this.user.departments.length ||\n          this.form.departments.length)\n      )\n    },\n\n    valueList() {\n      return this.$refs.valueList\n    }\n  },\n\n  methods: {\n    addValue(value) {\n      const newValue = value\n      if (!this.form.values.find(v => v === newValue) && newValue) {\n        this.form.values.push(newValue)\n        if (this.form.data_type === 'taglist') {\n          this.form.values.sort()\n        }\n        this.valueToAdd = ''\n        this.$nextTick(() => {\n          const newValueIndex = this.form.values.findIndex(v => v === newValue)\n          const newValuePosition =\n            (this.valueList.scrollHeight / this.form.values.length) *\n            newValueIndex\n          this.valueList.scrollTop = newValuePosition\n        })\n      }\n      return newValue\n    },\n\n    confirm() {\n      if (['string', 'number', 'boolean'].includes(this.form.data_type)) {\n        this.form.values = []\n      } else if (this.form.data_type === 'checklist') {\n        this.form.values = this.checklist\n          .filter(Boolean)\n          .map(x => (x.checked ? '[x] ' : '[ ] ') + x.text)\n      }\n      return this.$emit('confirm', this.form)\n    },\n\n    removeValue(valueToRemove) {\n      this.form.values = remove(this.form.values, valueToRemove)\n    },\n\n    addDepartment() {\n      this.form.departments.push(this.selectedDepartment)\n      this.selectedDepartment = null\n    },\n\n    removeDepartment(idToRemove) {\n      const departmentIndex = this.form.departments.indexOf(idToRemove)\n      if (departmentIndex >= 0) {\n        this.form.departments.splice(departmentIndex, 1)\n      }\n    },\n\n    addChecklistEntry(index) {\n      if (index === -1 || index === this.checklist.length - 1) {\n        this.checklist.push({\n          text: '',\n          checked: false\n        })\n      }\n    },\n\n    onAddChecklistItem(item) {\n      delete item.index\n      this.checklist.push(item)\n    },\n\n    removeTask(entry) {\n      this.checklist = remove(this.checklist, entry)\n    },\n\n    reset() {\n      if (this.isEditing) {\n        this.form = {\n          id: this.descriptorToEdit.id,\n          name: this.descriptorToEdit.name,\n          data_type: this.descriptorToEdit.data_type,\n          for_client: this.descriptorToEdit.for_client ? 'true' : 'false',\n          values: [...this.descriptorToEdit.choices],\n          departments: [...this.descriptorToEdit.departments]\n        }\n        this.checklist = this.getDescriptorChecklistValues(\n          this.descriptorToEdit\n        )\n        if (this.form.data_type === 'taglist') {\n          this.form.values.sort()\n        }\n      } else {\n        this.form = {\n          name: '',\n          data_type: 'string',\n          for_client: 'false',\n          values: [],\n          departments: []\n        }\n        this.checklist = []\n      }\n      this.valueToAdd = ''\n    }\n  },\n\n  watch: {\n    active() {\n      if (this.active) {\n        this.reset()\n        this.$nextTick(() => {\n          this.$refs.nameField.focus()\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .remove-button:hover {\n  background: $grey-strong;\n}\n\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n\n.error {\n  margin-top: 1em;\n}\n\n.description {\n  margin-bottom: 1em;\n}\n\n.choice-value-wrapper {\n  max-height: 120px;\n  overflow-y: auto;\n}\n\n.content .choice-value {\n  border: 1px solid var(--border);\n  border-bottom: 0;\n  margin: 0;\n  padding: 0.5em;\n}\n\n.content .choice-value:last-child {\n  border-bottom: 1px solid var(--border);\n}\n\n.remove-button {\n  color: $grey;\n  width: 20px;\n  text-align: center;\n  padding: 0;\n  cursor: pointer;\n}\n\n.remove-button:hover {\n  background: $white-grey;\n  border-radius: 50%;\n}\n\n.department-element {\n  display: inline-block;\n  margin-right: 0.2em;\n  cursor: pointer;\n}\n\n.checklist-wrapper {\n  margin-bottom: 1em;\n}\n\n.checklist-wrapper .button {\n  margin: 0.5em 0.2em;\n}\n</style>\n","export default \"data:image/png;base64,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\"","<template>\n  <div\n    class=\"modal\"\n    :class=\"{\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <h1 class=\"title\">\n          {{ $t('entities.thumbnails.title') }}\n        </h1>\n\n        <p>\n          {{ $t('entities.thumbnails.explanation') }}\n        </p>\n\n        <combobox-task-type\n          :label=\"$t('entities.thumbnails.select_task_type')\"\n          :task-type-list=\"taskTypeList\"\n          v-model=\"taskTypeId\"\n        />\n\n        <p>\n          {{ $t('entities.thumbnails.explanation_two') }}\n          {{ $t(`entities.thumbnails.${parent}_pattern`) }}\n        </p>\n\n        <label class=\"label\">\n          {{ $t('entities.thumbnails.select_files') }}\n        </label>\n\n        <file-upload\n          ref=\"preview-field\"\n          :label=\"$t('main.csv.upload_file')\"\n          :accept=\"extensions\"\n          @fileselected=\"onFileSelected\"\n          :multiple=\"true\"\n        />\n\n        <div class=\"warning\" v-if=\"invalidForms.length\">\n          <label class=\"label mt2\">\n            {{ $t('entities.thumbnails.invalid_files') }}\n          </label>\n          <ul class=\"invalid-files\">\n            <li v-for=\"(form, index) in invalidForms\" :key=\"index\">\n              {{ form.get('file').name }}\n            </li>\n          </ul>\n        </div>\n\n        <label class=\"label mt2\" v-if=\"thumbnailList.length\">\n          {{ $t('entities.thumbnails.selected_files') }}\n        </label>\n        <div\n          class=\"thumbnail-line flexrow\"\n          :key=\"thumbnailInfo.id\"\n          v-for=\"thumbnailInfo in thumbnailList\"\n        >\n          <img\n            class=\"flexrow-item\"\n            src=\"@/assets/icons/movie-thumbnail.png\"\n            width=\"150\"\n            height=\"100\"\n            v-if=\"!thumbnailInfo.src\"\n          />\n          <img\n            class=\"flexrow-item\"\n            :src=\"thumbnailInfo.src\"\n            width=\"150\"\n            height=\"100\"\n            v-if=\"thumbnailInfo.src\"\n          />\n          <span class=\"flexrow-item\">\n            <template v-if=\"thumbnailInfo.parentName\">\n              {{ thumbnailInfo.parentName }} /\n            </template>\n            {{ thumbnailInfo.name }}\n          </span>\n          <spinner v-if=\"loading[thumbnailInfo.id]\" :size=\"10\" />\n          <check-icon v-if=\"uploaded[thumbnailInfo.id]\" />\n        </div>\n\n        <modal-footer\n          :error-text=\"$t('entities.thumbnails.error')\"\n          :is-error=\"isError\"\n          :is-loading=\"isLoading\"\n          :is-disabled=\"!isFormFilled\"\n          @confirm=\"confirm\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { CheckIcon } from 'lucide-vue-next'\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport stringHelpers from '@/lib/string'\nimport assetStore from '@/store/modules/assets'\nimport editStore from '@/store/modules/edits'\nimport shotStore from '@/store/modules/shots'\n\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport FileUpload from '@/components/widgets/FileUpload.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\nimport Spinner from '@/components/widgets/Spinner.vue'\n\nexport default {\n  name: 'add-thumbnails-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    CheckIcon,\n    ComboboxTaskType,\n    FileUpload,\n    ModalFooter,\n    Spinner\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    entityType: {\n      type: String,\n      required: true,\n      validator: value => ['Asset', 'Edit', 'Shot'].includes(value)\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    parent: {\n      type: String,\n      required: true\n    }\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      extensions: '.png,.jpg,.jpeg,.mp4,.mov',\n      forms: [],\n      loading: {},\n      taskTypeId: null,\n      uploaded: {}\n    }\n  },\n\n  mounted() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetValidationColumns',\n      'editValidationColumns',\n      'shotValidationColumns',\n      'taskTypeMap',\n      'taskMap'\n    ]),\n\n    isFormFilled() {\n      return this.thumbnailList.length > 0\n    },\n\n    taskTypeList() {\n      let validationColumns = []\n      if (this.isAssets) {\n        validationColumns = this.assetValidationColumns || []\n      } else if (this.isEdits) {\n        validationColumns = this.editValidationColumns || []\n      } else if (this.isShots) {\n        validationColumns = this.shotValidationColumns || []\n      }\n      return validationColumns.map(taskTypeId =>\n        this.taskTypeMap.get(taskTypeId)\n      )\n    },\n\n    isAssets() {\n      return this.entityType === 'Asset'\n    },\n    isEdits() {\n      return this.entityType === 'Edit'\n    },\n    isShots() {\n      return this.entityType === 'Shot'\n    },\n\n    validForms() {\n      return this.forms.filter(form => {\n        const filename = this.slugifyFilename(form)\n        const asset = this.entityMap[filename]\n        return asset && asset.validations.get(this.taskTypeId)\n      })\n    },\n\n    invalidForms() {\n      return this.forms.filter(form => !this.validForms.includes(form))\n    },\n\n    thumbnailList() {\n      return this.validForms.map(form => {\n        const asset = this.entityMap[this.slugifyFilename(form)]\n        const url = this.prepareImagePreview(form)\n        let parentName = ''\n        if (this.isAssets) {\n          parentName = asset.asset_type_name\n        } else if (this.isEdits) {\n          parentName = asset.episode_name\n        } else if (this.isShots) {\n          parentName = asset.sequence_name\n        }\n        form.asset = asset\n        return {\n          parentName,\n          name: asset.name,\n          id: asset.id,\n          src: url\n        }\n      })\n    }\n  },\n\n  methods: {\n    reset() {\n      if (this.taskTypeList.length > 0) {\n        this.taskTypeId = this.taskTypeList[0].id\n      }\n      this.$refs['preview-field'].reset()\n      this.forms = []\n      this.loading = {}\n      this.uploaded = {}\n    },\n\n    confirm() {\n      return this.$emit('confirm', this.validForms.map(this.addTaskInformation))\n    },\n\n    addEntityToEntityMap(entity) {\n      let fullName = ''\n      if (this.isAssets) {\n        fullName = stringHelpers.slugify(\n          `${entity.asset_type_name}_${entity.name}`\n        )\n      } else if (this.isEdits) {\n        fullName = stringHelpers.slugify(\n          entity.episode_name\n            ? `${entity.episode_name}_${entity.name}`\n            : entity.name\n        )\n      } else if (this.isShots) {\n        fullName = stringHelpers.slugify(\n          `${entity.sequence_name}_${entity.name}`\n        )\n      }\n      this.entityMap[fullName] = entity\n    },\n\n    addTaskInformation(form) {\n      const filename = this.slugifyFilename(form)\n      const entity = this.entityMap[filename]\n      const task = this.taskMap.get(entity.validations.get(this.taskTypeId))\n      form.task = task\n      return form\n    },\n\n    onFileSelected(forms) {\n      this.entityMap = {}\n      this.uploaded = {}\n      let cachedEntities = []\n      if (this.isAssets) {\n        cachedEntities = assetStore.cache.assets\n      } else if (this.isEdits) {\n        cachedEntities = editStore.cache.edits\n      } else if (this.isShots) {\n        cachedEntities = shotStore.cache.shots\n      }\n      cachedEntities.forEach(this.addEntityToEntityMap)\n      this.forms = forms\n    },\n\n    slugifyFilename(form) {\n      const filename = form.get('file').name\n      return stringHelpers.slugify(\n        stringHelpers.filenameWithoutExtension(filename)\n      )\n    },\n\n    prepareImagePreview(form) {\n      if (form.get('file').type.startsWith('image')) {\n        return window.URL.createObjectURL(form.get('file'))\n      }\n      return ''\n    },\n\n    markLoading(assetId) {\n      this.loading = {\n        [assetId]: true\n      }\n    },\n\n    markUploaded(assetId) {\n      this.uploaded[assetId] = true\n    }\n  },\n\n  watch: {\n    active() {\n      if (this.active) {\n        this.reset()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.invalid-files {\n  margin-left: 1.5em;\n}\n\n.thumbnail-line {\n  margin-top: 1em;\n  img {\n    max-height: 33px;\n    max-width: 50px;\n  }\n}\n\n.modal-content {\n  max-height: calc(100vh - 7rem);\n  margin-top: 3rem;\n}\n</style>\n","<template>\n  <combobox-options\n    :options=\"options\"\n    thin\n    :title=\"$t('entities.display_options')\"\n  />\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\nimport ComboboxOptions from '@/components/widgets/ComboboxOptions.vue'\n\nconst props = defineProps({\n  type: {\n    type: String,\n    required: true\n  }\n})\n\nconst { t } = useI18n()\n\nconst options = computed(() => {\n  const opts = [\n    {\n      label: t('tasks.show_assignations'),\n      value: 'showAssignations'\n    },\n    {\n      label: t('tasks.show_infos'),\n      value: 'showInfos'\n    },\n    {\n      label: t('tasks.big_thumbnails'),\n      value: 'bigThumbnails'\n    },\n    {\n      label: t('tasks.show_contact_sheet'),\n      value: 'contactSheetMode'\n    }\n  ]\n  if (props.type === 'shot') {\n    opts.push({\n      label: t('shots.show_timecode'),\n      value: 'inOutTimecode'\n    })\n  } else if (props.type === 'asset') {\n    opts.push({\n      label: t('breakdown.show_library'),\n      value: 'showSharedAssets'\n    })\n  }\n  return opts\n})\n</script>\n","<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n    <div class=\"modal-content\">\n      <div class=\"box content\">\n        <page-title :text=\"title\" />\n        <p>{{ text }}</p>\n        <form @submit.prevent class=\"widden\">\n          <combobox-task-type\n            class=\"mb1\"\n            :task-type-list=\"getApplicableTaskTypes()\"\n            v-model=\"form.task_type_id\"\n          />\n          <div class=\"disclaimer\">\n            <router-link\n              :to=\"{\n                name: 'production-settings',\n                params: {\n                  production_id: currentProduction?.id\n                },\n                query: {\n                  tab: 'taskTypes'\n                }\n              }\"\n              target=\"_blank\"\n            >\n              {{ $t('tasks.create_tasks_disclaimer') }}\n            </router-link>\n          </div>\n        </form>\n        <div class=\"flexrow\">\n          <div class=\"filler\"></div>\n          <combobox\n            class=\"flexrow-item\"\n            :options=\"selectionOptions\"\n            :with-margin=\"false\"\n            v-model=\"selectionOnly\"\n          />\n          <a\n            :class=\"{\n              button: true,\n              'flexrow-item': true,\n              'is-primary': true,\n              'is-loading': isLoadingStay\n            }\"\n            @click=\"confirmAndStayClicked\"\n          >\n            {{ $t('main.confirmation_and_stay') }}\n          </a>\n          <a\n            :class=\"{\n              button: true,\n              'flexrow-item': true,\n              'is-primary': true,\n              'is-loading': isLoading\n            }\"\n            @click=\"confirmClicked\"\n          >\n            {{ $t('main.confirmation') }}\n          </a>\n          <button @click=\"$emit('cancel')\" class=\"button is-link\">\n            {{ $t('main.cancel') }}\n          </button>\n        </div>\n        <p class=\"error has-text-right info-message\" v-if=\"isError\">\n          {{ errorText }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport PageTitle from '@/components/widgets/PageTitle.vue'\n\nexport default {\n  name: 'create-tasks-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    Combobox,\n    ComboboxTaskType,\n    PageTitle\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    errorText: {\n      type: String,\n      default: ''\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingStay: {\n      type: Boolean,\n      default: false\n    },\n    text: {\n      type: String,\n      default: ''\n    },\n    title: {\n      type: String,\n      default: ''\n    }\n  },\n\n  emits: ['cancel', 'confirm', 'confirm-and-stay'],\n\n  data() {\n    return {\n      form: {\n        task_type_id: ''\n      },\n      selectionOnly: 'true',\n      selectionOptions: [\n        { label: this.$t('tasks.for_selection'), value: 'true' },\n        { label: this.$t('tasks.for_project'), value: 'false' }\n      ]\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'productionAssetTaskTypes',\n      'productionEditTaskTypes',\n      'productionEpisodeTaskTypes',\n      'productionShotTaskTypes',\n      'productionSequenceTaskTypes'\n    ]),\n\n    isAssetTasks() {\n      return this.$route.path.includes('assets')\n    },\n    isShotsTasks() {\n      return this.$route.path.includes('shots')\n    },\n    isSequencesTasks() {\n      return this.$route.path.includes('sequences')\n    },\n    isEditsTasks() {\n      return this.$route.path.includes('edits')\n    },\n    isEpisodesTasks() {\n      return this.$route.path.includes('episodes')\n    }\n  },\n\n  methods: {\n    getApplicableTaskTypes() {\n      if (this.isAssetTasks) {\n        return this.productionAssetTaskTypes\n      }\n      if (this.isShotsTasks) {\n        return this.productionShotTaskTypes\n      }\n      if (this.isSequencesTasks) {\n        return this.productionSequenceTaskTypes\n      }\n      if (this.isEditsTasks) {\n        return this.productionEditTaskTypes\n      }\n      if (this.isEpisodesTasks) {\n        return this.productionEpisodeTaskTypes\n      }\n      return []\n    },\n\n    confirmClicked() {\n      this.$emit('confirm', {\n        form: this.form,\n        selectionOnly: this.selectionOnly === 'true'\n      })\n    },\n\n    confirmAndStayClicked() {\n      this.$emit('confirm-and-stay', {\n        form: this.form,\n        selectionOnly: this.selectionOnly === 'true'\n      })\n    }\n  },\n\n  mounted() {\n    const taskTypes = this.getApplicableTaskTypes()\n\n    if (taskTypes.length > 0) {\n      this.form.task_type_id = taskTypes[0].id\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.info-message {\n  margin-top: 1em;\n}\n\n.widden {\n  margin-bottom: 12em;\n}\n\n.flexrow-item {\n  margin-right: 0;\n}\n\n.disclaimer {\n  font-size: 0.8em;\n  font-style: italic;\n}\n</style>\n","<template>\n  <button-simple\n    class=\"sorting-info mb05 is-small\"\n    icon=\"remove\"\n    :text=\"text\"\n    :title=\"$t('main.clear_sorting')\"\n    @click=\"$emit('clear-sorting')\"\n  />\n</template>\n\n<script>\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\n\nexport default {\n  name: 'sorting-info',\n\n  components: {\n    ButtonSimple\n  },\n\n  props: {\n    sorting: {\n      type: Array,\n      required: true\n    }\n  },\n\n  emits: ['clear-sorting'],\n\n  computed: {\n    text() {\n      return `${this.$t('main.sorted_by')} ${this.sorting[0]?.name}`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sorting-info {\n  align-self: end;\n}\n</style>\n"],"names":["entitiesMixin","departmentId","preferences","selectableDepartments","stringHelpers","department","mapGetters","mapActions","forEntity","taskTypeId","taskType","index","self","entityId","err","descriptorId","d","selectionOnly","projectId","forms","addPreview","form","newComment","preview","func","scrollPosition","sortInfo","keepOpen","newSettings","_sfc_main","descriptorMixin","domMixin","entityListMixin","ComboboxTag","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_8","$props","_createElementBlock","$options","_cache","event","_ctx","_withModifiers","args","_openBlock","_hoisted_4","_Fragment","_renderList","option","i","_createElementVNode","_normalizeStyle","_hoisted_7","_createBlock","_component_combobox_tag","value","_hoisted_9","_toDisplayString","_createTextVNode","_createCommentVNode","ChevronDownIcon","DepartmentName","route","_normalizeClass","_component_department_name","_component_router_link","_withCtx","$event","_createVNode","_component_chevron_down_icon","modalMixin","ButtonSimple","Checklist","Combobox","ComboboxBoolean","ComboboxDepartment","ModalFooter","TextField","departments","selectedDepartment","newValue","v","newValueIndex","newValuePosition","x","valueToRemove","remove","idToRemove","departmentIndex","item","entry","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_component_text_field","$data","_component_combobox","_component_checklist","_component_button_simple","_hoisted_12","_hoisted_15","_component_combobox_department","_component_combobox_boolean","_component_modal_footer","_imports_0","CheckIcon","ComboboxTaskType","FileUpload","Spinner","validationColumns","filename","asset","url","parentName","entity","fullName","task","cachedEntities","assetStore","editStore","shotStore","assetId","_component_combobox_task_type","_component_file_upload","thumbnailInfo","_component_spinner","_component_check_icon","props","__props","t","useI18n","options","computed","opts","PageTitle","taskTypes","_component_page_title"],"mappings":"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"}