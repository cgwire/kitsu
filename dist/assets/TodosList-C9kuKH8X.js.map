{"version":3,"file":"TodosList-C9kuKH8X.js","sources":["../../src/components/cells/LastCommentCell.vue","../../src/assets/illustrations/empty_todo.png","../../src/components/lists/TodosList.vue"],"sourcesContent":["<template>\n  <td @click=\"$emit('click')\">\n    <div class=\"flexrow\">\n      <people-avatar\n        class=\"flexrow-item avatar-wrapper\"\n        :size=\"25\"\n        :font-size=\"14\"\n        :person=\"task.last_comment.person\"\n        :is-link=\"false\"\n        v-if=\"task.last_comment.person\"\n      >\n      </people-avatar>\n\n      <span\n        class=\"flexrow-item last-comment pointer\"\n        v-if=\"commentText && commentText.length > 0\"\n        v-html=\"renderMarkdown(commentText)\"\n      >\n      </span>\n      <span\n        class=\"flexrow-item last-comment no-comment\"\n        v-else-if=\"task.last_comment.person\"\n      >\n        {{ $t('main.empty_comment') }}\n      </span>\n    </div>\n  </td>\n</template>\n\n<script>\nimport { renderMarkdown } from '@/lib/render'\n\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar.vue'\n\nexport default {\n  name: 'last-comment-cell',\n\n  emits: ['click'],\n\n  components: {\n    PeopleAvatar\n  },\n\n  data() {\n    return {\n      timeout: null\n    }\n  },\n\n  props: {\n    task: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    commentText() {\n      const text = this.task.last_comment.text\n      const maxLength = 140\n      let result = text || ''\n      if (text !== undefined && text.length > maxLength) {\n        result = text.slice(0, maxLength) + '...'\n      }\n      return result\n    }\n  },\n\n  methods: {\n    renderMarkdown\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.no-avatar {\n  width: 30px;\n}\n\n.last-comment {\n  margin-left: 0.6em;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.no-comment {\n  font-style: italic;\n}\n\n.tooltip {\n  width: 500px;\n}\n</style>\n","export default \"__VITE_ASSET__8f0t32qh__\"","<template>\n  <div class=\"data-list task-list\">\n    <div class=\"datatable-wrapper\" ref=\"body\" @scroll.passive=\"onBodyScroll\">\n      <table class=\"datatable\" v-if=\"!isLoading\">\n        <thead class=\"datatable-head\">\n          <tr>\n            <th\n              scope=\"col\"\n              class=\"production datatable-row-header datatable-row-header--nobd\"\n              ref=\"th-prod\"\n            >\n              {{ $t('tasks.fields.production') }}\n            </th>\n            <th\n              scope=\"col\"\n              class=\"type datatable-row-header datatable-row-header--nobd\"\n              ref=\"th-type\"\n              :style=\"{ left: colTypePosX }\"\n            >\n              {{ $t('tasks.fields.task_type') }}\n            </th>\n            <th\n              scope=\"col\"\n              class=\"name datatable-row-header\"\n              ref=\"th-name\"\n              :style=\"{ left: colNamePosX }\"\n            >\n              {{ $t('tasks.fields.entity') }}\n            </th>\n            <th scope=\"col\" class=\"episode\" v-if=\"isEpisodeVisible\">\n              {{ $t('assets.fields.episode') }}\n            </th>\n\n            <th class=\"assignees\" ref=\"th-assignees\" v-if=\"isToCheck\">\n              {{ $t('tasks.fields.assignees') }}\n            </th>\n            <th\n              class=\"description\"\n              scope=\"col\"\n              v-if=\"isDescriptionPresent && !isToCheck\"\n            >\n              {{ $t('assets.fields.description') }}\n            </th>\n            <th scope=\"col\" class=\"estimation\" :title=\"$t('main.estimation')\">\n              {{ $t('main.estimation_short') }}\n            </th>\n            <th scope=\"col\" class=\"duration number-cell\">\n              {{ $t('tasks.fields.duration').substring(0, 3) }}.\n            </th>\n            <th scope=\"col\" class=\"start-date\" v-if=\"!isToCheck\">\n              {{ $t('tasks.fields.start_date_short') }}\n            </th>\n            <th scope=\"col\" class=\"due-date\">\n              {{ $t('tasks.fields.due_date') }}\n            </th>\n            <metadata-header\n              :key=\"'desc-header' + field_name\"\n              :descriptor=\"\n                mergeMetadataDescriptors(metadataDescriptorsMap[field_name])\n              \"\n              :no-menu=\"true\"\n              v-for=\"field_name in Object.keys(metadataDescriptorsMap)\"\n            />\n            <th scope=\"col\" class=\"status\">\n              {{ $t('tasks.fields.task_status') }}\n            </th>\n            <template v-if=\"!isToCheck\">\n              <th scope=\"col\" class=\"last-comment\" v-if=\"!done\">\n                {{ $t('tasks.fields.last_comment') }}\n              </th>\n              <th scope=\"col\" class=\"end-date\" v-else>\n                {{ $t('tasks.fields.end_date') }}\n              </th>\n            </template>\n            <th class=\"actions\" v-else></th>\n          </tr>\n        </thead>\n        <tbody class=\"datatable-body\" v-if=\"tasks.length > 0\">\n          <tr\n            :key=\"entry + '-' + i\"\n            class=\"datatable-row datatable-row--selectable\"\n            :class=\"{\n              selected: selectionGrid[entry.id]\n            }\"\n            @click=\"selectTask($event, i, entry)\"\n            v-for=\"(entry, i) in displayedTasks\"\n          >\n            <td\n              class=\"production datatable-row-header datatable-row-header--nobd\"\n              scope=\"row\"\n            >\n              <production-name-cell\n                :is-tooltip=\"true\"\n                :entry=\"productionMap.get(entry.project_id)\"\n                :only-avatar=\"true\"\n                :is-link=\"false\"\n              />\n            </td>\n            <task-type-cell\n              class=\"type datatable-row-header datatable-row-header--nobd\"\n              :production-id=\"entry.project_id\"\n              :task-type=\"getTaskType(entry)\"\n              :style=\"{ left: colTypePosX }\"\n              :is-link=\"false\"\n            />\n            <td\n              class=\"name datatable-row-header\"\n              :style=\"{ left: colNamePosX }\"\n            >\n              <div class=\"flexrow\">\n                <entity-thumbnail\n                  :empty-width=\"60\"\n                  :empty-height=\"40\"\n                  :entity=\"{ preview_file_id: entry.entity_preview_file_id }\"\n                />\n                <router-link class=\"entity-name\" :to=\"entityPath(entry)\">\n                  {{ entry.full_entity_name }}\n                </router-link>\n              </div>\n            </td>\n\n            <td class=\"episode\" v-if=\"isEpisodeVisible\">\n              <div class=\"flexrow\" :title=\"assetEpisodes(entry, true)\">\n                {{ assetEpisodes(entry, false) }}\n              </div>\n            </td>\n\n            <description-cell\n              class=\"description\"\n              :entry=\"{ description: entry.entity_description }\"\n              v-if=\"isDescriptionPresent && !isToCheck\"\n            />\n            <td class=\"assignees\" v-if=\"isToCheck\">\n              <div class=\"avatars\">\n                <people-avatar\n                  :key=\"`${entry.id}-${person.id}`\"\n                  :person=\"person\"\n                  :size=\"30\"\n                  :font-size=\"16\"\n                  v-for=\"person in getSortedPeople(entry.assignees)\"\n                />\n              </div>\n            </td>\n            <td class=\"estimation number-cell\">\n              <input\n                class=\"input\"\n                min=\"0\"\n                step=\"any\"\n                type=\"number\"\n                :value=\"formatDuration(entry.estimation, false)\"\n                @change=\"updateEstimation($event.target.value)\"\n                v-if=\"isEditable && selectionGrid[entry.id]\"\n              />\n              <template v-else>\n                {{ formatDuration(entry.estimation) }}\n              </template>\n            </td>\n            <td\n              class=\"duration number-cell\"\n              :class=\"{\n                error: isEstimationBurned(entry)\n              }\"\n            >\n              {{ formatDuration(entry.duration) }}\n            </td>\n            <td class=\"start-date\" v-if=\"!isToCheck\">\n              <date-field\n                class=\"flexrow-item\"\n                :min-date=\"disabledDates\"\n                :model-value=\"getDate(entry.start_date)\"\n                :with-margin=\"false\"\n                @update:model-value=\"updateStartDate\"\n                v-if=\"isEditable && selectionGrid[entry.id]\"\n              />\n              <template v-else>\n                {{ formatDate(entry.start_date) }}\n              </template>\n            </td>\n            <td class=\"due-date\">\n              <date-field\n                class=\"flexrow-item\"\n                :min-date=\"disabledDates\"\n                :model-value=\"getDate(entry.due_date)\"\n                :with-margin=\"false\"\n                @update:model-value=\"updateDueDate\"\n                v-if=\"isEditable && selectionGrid[entry.id]\"\n              />\n              <template v-else>\n                {{ formatDate(entry.due_date) }}\n              </template>\n            </td>\n            <td\n              class=\"metadata-descriptor\"\n              :key=\"'desc-' + entry.id + '-' + fieldName\"\n              v-for=\"fieldName in Object.keys(metadataDescriptorsMap)\"\n            >\n              <div\n                v-if=\"\n                  entry.entity_data && getMetadataDescriptor(fieldName, entry)\n                \"\n              >\n                <div\n                  v-if=\"\n                    getDescriptorChecklistValues(\n                      getMetadataDescriptor(fieldName, entry)\n                    ).length > 0\n                  \"\n                >\n                  <p\n                    :key=\"`${entry.id}-\n                    ${getMetadataDescriptor(fieldName, entry).id}\n                    -${i}-${option.text}-div`\"\n                    v-for=\"(option, i) in getDescriptorChecklistValues(\n                      getMetadataDescriptor(fieldName, entry)\n                    )\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      disabled\n                      :id=\"`${entry.id}\n                      -${getMetadataDescriptor(fieldName, entry).id}\n                      -${i}-${option.text}-input`\"\n                      :checked=\"\n                        getMetadataChecklistValues(\n                          getMetadataDescriptor(fieldName, entry),\n                          entry\n                        )[option.text]\n                      \"\n                    />\n                    <label\n                      style=\"cursor: pointer\"\n                      :for=\"`${entry.id}\n                      -${getMetadataDescriptor(fieldName, entry).id}\n                      -${i}-${option.text}-input`\"\n                    >\n                      {{ option.text }}\n                    </label>\n                  </p>\n                </div>\n                <p v-else>\n                  {{\n                    getMetadataFieldValue(\n                      getMetadataDescriptor(fieldName, entry),\n                      entry\n                    )\n                  }}\n                </p>\n              </div>\n            </td>\n            <validation-cell\n              class=\"status unselectable\"\n              :ref=\"'validation-' + i + '-0'\"\n              :clickable=\"false\"\n              :column=\"entry.taskStatus\"\n              :column-y=\"0\"\n              :is-assignees=\"false\"\n              :is-border=\"false\"\n              :row-x=\"i\"\n              :selected=\"selectionGrid[entry.id]\"\n              :task-test=\"entry\"\n            />\n            <template v-if=\"!isToCheck\">\n              <last-comment-cell\n                class=\"last-comment\"\n                :task=\"entry\"\n                v-if=\"!done\"\n              />\n              <td class=\"end-date\" v-else>\n                {{ formatDate(entry.end_date) }}\n              </td>\n            </template>\n            <th class=\"actions\" v-else></th>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <div\n      class=\"has-text-centered empty-list\"\n      v-if=\"tasks.length === 0 && !isLoading\"\n    >\n      <p>\n        <img src=\"../../assets/illustrations/empty_todo.png\" />\n      </p>\n      <p>\n        {{ emptyText }}\n      </p>\n    </div>\n\n    <p class=\"has-text-centered footer-info\" v-if=\"tasks.length && !isLoading\">\n      {{ tasks.length }}\n      {{ $tc('tasks.tasks', tasks.length) }}\n      ({{ formatDuration(timeSpent) }}\n      {{\n        isDurationInHours\n          ? $tc('main.hours_spent', formatDuration(timeSpent, false))\n          : $tc('main.days_spent', formatDuration(timeSpent, false))\n      }}\n      /\n      {{ formatDuration(timeEstimated) }}\n      {{\n        isDurationInHours\n          ? $tc('main.hours_estimated', formatDuration(timeEstimated, false))\n          : $tc('main.days_estimated', formatDuration(timeEstimated, false))\n      }}\n      )\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nimport { domMixin } from '@/components/mixins/dom'\nimport { descriptorMixin } from '@/components/mixins/descriptors'\nimport { formatListMixin } from '@/components/mixins/format'\nimport { selectionListMixin } from '@/components/mixins/selection'\n\nimport { sortPeople } from '@/lib/sorting'\nimport {\n  daysToMinutes,\n  formatSimpleDate,\n  getDatesFromEndDate,\n  getDatesFromStartDate,\n  minutesToDays,\n  parseSimpleDate,\n  range\n} from '@/lib/time'\n\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail.vue'\nimport DescriptionCell from '@/components/cells/DescriptionCell.vue'\nimport LastCommentCell from '@/components/cells/LastCommentCell.vue'\nimport ProductionNameCell from '@/components/cells/ProductionNameCell.vue'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar.vue'\nimport TaskTypeCell from '@/components/cells/TaskTypeCell.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport ValidationCell from '@/components/cells/ValidationCell.vue'\nimport MetadataHeader from '@/components/cells/MetadataHeader.vue'\nimport moment from 'moment-timezone'\nimport DateField from '@/components/widgets/DateField.vue'\n\nexport default {\n  name: 'todos-list',\n\n  mixins: [domMixin, formatListMixin, selectionListMixin, descriptorMixin],\n\n  components: {\n    EntityThumbnail,\n    DateField,\n    DescriptionCell,\n    LastCommentCell,\n    MetadataHeader,\n    PeopleAvatar,\n    ProductionNameCell,\n    TableInfo,\n    TaskTypeCell,\n    ValidationCell\n  },\n\n  props: {\n    done: {\n      type: Boolean,\n      default: false\n    },\n    tasks: {\n      type: Array,\n      default: () => []\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isToCheck: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: ''\n    },\n    disabledDates: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  emits: ['scroll', 'task-selected'],\n\n  data() {\n    return {\n      colTypePosX: '',\n      colNamePosX: '',\n      lastSelection: null,\n      selectionGrid: {},\n      selectedDate: moment().toDate() // By default current day.\n    }\n  },\n\n  mounted() {\n    this.resizeHeaders()\n    window.addEventListener('keydown', this.onKeyDown, false)\n    if (this.$refs['th-prod']) {\n      this.colTypePosX = this.$refs['th-prod'].offsetWidth + 'px'\n      this.colNamePosX =\n        this.$refs['th-prod'].offsetWidth +\n        this.$refs['th-type'].offsetWidth +\n        'px'\n    }\n  },\n\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown)\n  },\n\n  computed: {\n    ...mapGetters([\n      'nbSelectedTasks',\n      'selectedTasks',\n      'openProductions',\n      'personMap',\n      'productionMap',\n      'taskMap',\n      'taskTypeMap',\n      'user',\n      'isCurrentUserManager',\n      'isCurrentUserSupervisor'\n    ]),\n\n    displayedTasks() {\n      return this.tasks\n    },\n\n    isEditable() {\n      return this.isCurrentUserManager || this.isCurrentUserSupervisor\n    },\n\n    isDescriptionPresent() {\n      return this.tasks.some(task => {\n        return task.entity_description && task.entity_description.length > 0\n      })\n    },\n\n    metadataDescriptorsMap() {\n      const metadataDescriptorsMap = {}\n      if (!this.isToCheck) {\n        this.openProductions.forEach(project => {\n          project.descriptors.forEach(descriptor => {\n            const isUserDepartment = this.user.departments.some(department =>\n              descriptor.departments.includes(department)\n            )\n            if (isUserDepartment) {\n              // group them by field_name if they have the same field_name\n              if (!(descriptor.field_name in metadataDescriptorsMap)) {\n                metadataDescriptorsMap[descriptor.field_name] = {}\n              }\n              const descriptorFieldNameEntry =\n                metadataDescriptorsMap[descriptor.field_name]\n              // group them by entity_type if the have the same entity_type\n              if (!(descriptor.entity_type in descriptorFieldNameEntry)) {\n                descriptorFieldNameEntry[descriptor.entity_type] = {}\n              }\n              descriptorFieldNameEntry[descriptor.entity_type][project.id] =\n                descriptor\n            }\n          })\n        })\n      }\n      return metadataDescriptorsMap\n    },\n\n    timeSpent() {\n      return this.displayedTasks.reduce((acc, task) => acc + task.duration, 0)\n    },\n\n    timeEstimated() {\n      return this.displayedTasks.reduce((acc, task) => acc + task.estimation, 0)\n    },\n\n    isEpisodeVisible() {\n      return this.displayedTasks.some(\n        task =>\n          task.source_id ||\n          task.episode_names?.length > 0 ||\n          (!['Shot', 'Sequence', 'Edit'].includes(task.entity_type_name) &&\n            task.episode_id)\n      )\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addSelectedTask',\n      'addSelectedTasks',\n      'clearSelectedTasks',\n      'removeSelectedTask',\n      'updateTask'\n    ]),\n\n    assetEpisodes(entry, full) {\n      if (\n        ['Episode', 'Sequence', 'Shot', 'Edit'].includes(entry.entity_type_name)\n      )\n        return ''\n      const mainEpisodeName = entry.episode_name || 'MP'\n      const episodeNames = (entry.episode_names || []).filter(\n        name => name !== mainEpisodeName\n      )\n      let episodeNameString = ''\n      if (episodeNames.length > 2) {\n        if (full) {\n          episodeNameString = episodeNames.join(', ')\n        } else {\n          episodeNameString = episodeNames.slice(0, 2).join(', ') + ', ...'\n        }\n      } else if (episodeNames.length > 0) {\n        episodeNameString = episodeNames.join(', ')\n      }\n      return episodeNames.length > 0\n        ? mainEpisodeName + ', ' + episodeNameString\n        : mainEpisodeName\n    },\n\n    getSortedPeople(personIds) {\n      const people = personIds.map(id => this.personMap.get(id))\n      return sortPeople(people)\n    },\n\n    setScrollPosition(scrollPosition) {\n      if (this.$refs.body) {\n        this.$refs.body.scrollTop = scrollPosition\n      }\n    },\n\n    getDate(date) {\n      return date ? moment(date, 'YYYY-MM-DD').toDate() : null\n    },\n\n    formatDate(date) {\n      return date ? formatSimpleDate(date) : ''\n    },\n\n    onBodyScroll(event) {\n      if (!this.$refs.body) return\n      const position = event.target\n      this.$emit('scroll', position.scrollTop)\n    },\n\n    getTaskType(entry) {\n      const taskType = { ...this.taskTypeMap.get(entry.task_type_id) }\n      const production = this.productionMap.get(entry.project_id)\n      taskType.episode_id = entry.episode_id\n      if (\n        production &&\n        production.production_type === 'tvshow' &&\n        !entry.episode_id\n      ) {\n        taskType.episode_id = production.first_episode_id\n      }\n      return taskType\n    },\n\n    entityPath(entity) {\n      const entityType = entity.sequence_name ? 'shot' : 'asset'\n      const route = {\n        name: entityType,\n        params: {\n          production_id: entity.project_id\n        }\n      }\n\n      if (entityType === 'asset') {\n        route.params.asset_id = entity.entity_id\n      } else {\n        route.params.shot_id = entity.entity_id\n      }\n\n      const production = this.productionMap.get(entity.project_id)\n      let episodeId = entity.episode_id\n      if (production && production.production_type === 'tvshow' && !episodeId) {\n        if (entityType === 'shot') {\n          episodeId = production.first_episode_id\n        } else {\n          episodeId = 'main'\n        }\n      }\n\n      if (episodeId) {\n        route.name = `episode-${entityType}`\n        route.params.episode_id = episodeId\n      }\n\n      return route\n    },\n\n    onKeyDown(event) {\n      if (this.tasks.length > 0 && event.altKey) {\n        let index = this.lastSelection ? this.lastSelection : 0\n        if ([37, 38].includes(event.keyCode)) {\n          index = index - 1 < 0 ? this.tasks.length - 1 : index - 1\n          this.selectTask({}, index, this.tasks[index])\n          this.pauseEvent(event)\n        } else if ([39, 40].includes(event.keyCode)) {\n          index = index + 1 >= this.tasks.length ? 0 : index + 1\n          this.selectTask({}, index, this.tasks[index])\n          this.pauseEvent(event)\n        }\n      }\n    },\n\n    scrollToValidationCell(validationCell) {\n      if (validationCell) {\n        const margin = 20\n        const rect = validationCell.$el.getBoundingClientRect()\n        const listRect = this.$refs.body.getBoundingClientRect()\n        const isBelow = rect.bottom > listRect.bottom - margin\n        const isAbove = rect.top < listRect.top + margin\n        const isRight = rect.right > listRect.right - margin\n        const isLeft = rect.left < listRect.left + margin\n\n        if (isBelow) {\n          const scrollingRequired = rect.bottom - listRect.bottom + margin\n          this.setScrollPosition(this.$refs.body.scrollTop + scrollingRequired)\n        } else if (isAbove) {\n          const scrollingRequired = listRect.top - rect.top + margin\n          this.setScrollPosition(this.$refs.body.scrollTop - scrollingRequired)\n        }\n\n        if (isRight) {\n          const scrollingRequired = rect.right - listRect.right + margin\n          this.setScrollLeftPosition(\n            this.$refs.body.scrollLeft + scrollingRequired\n          )\n        } else if (isLeft) {\n          const scrollingRequired = listRect.left - rect.left + margin\n          this.setScrollLeftPosition(\n            this.$refs.body.scrollLeft - scrollingRequired\n          )\n        }\n      }\n    },\n\n    select(i, j) {\n      const ref = 'validation-' + i + '-' + j\n      const validationCell = this.$refs[ref]\n      if (validationCell) validationCell[0].$el.click()\n      return validationCell ? validationCell[0] : 0\n    },\n\n    resizeHeaders() {\n      const tableBody = this.$refs['body-tbody']\n      const isTableBodyContainLines = tableBody && tableBody.children\n      if (isTableBodyContainLines) {\n        const bodyElement = tableBody.children[0]\n        const columnDescriptors = [\n          { index: 1, name: 'type' },\n          { index: 3, name: 'name' }\n        ]\n        columnDescriptors.forEach(desc => {\n          const width = Math.max(\n            bodyElement.children[desc.index].offsetWidth,\n            100\n          )\n          this.$refs['th-' + desc.name].style['min-width'] = `${width}px`\n        })\n      }\n    },\n\n    mergeMetadataDescriptors(descriptors) {\n      const firstKeyEntityType = Object.keys(descriptors)[0]\n      const firstKeyProjectId = Object.keys(descriptors[firstKeyEntityType])[0]\n      const mergedDescriptors = {\n        departments: [],\n        field_name:\n          descriptors[firstKeyEntityType][firstKeyProjectId].field_name,\n        name: descriptors[firstKeyEntityType][firstKeyProjectId].name\n      }\n      // merge departments\n      Object.keys(descriptors).forEach(entityType =>\n        Object.keys(descriptors[entityType]).forEach(projectId => {\n          mergedDescriptors.departments = [\n            ...new Set([\n              ...descriptors[entityType][projectId].departments,\n              ...mergedDescriptors.departments\n            ])\n          ]\n        })\n      )\n      return mergedDescriptors\n    },\n\n    getMetadataDescriptor(fieldName, entry) {\n      const entityType = entry.task_type_for_entity\n      const projectId = entry.project_id\n      return this.metadataDescriptorsMap[fieldName] &&\n        this.metadataDescriptorsMap[fieldName][entityType] &&\n        this.metadataDescriptorsMap[fieldName][entityType][projectId]\n        ? this.metadataDescriptorsMap[fieldName][entityType][projectId]\n        : null\n    },\n\n    isTaskChanged(task, data) {\n      const taskStart = task.start_date ? task.start_date.substring(0, 10) : ''\n      const taskDue = task.due_date ? task.due_date.substring(0, 10) : ''\n      return (\n        (data.start_date !== undefined && taskStart !== data.start_date) ||\n        (data.due_date !== undefined && taskDue !== data.due_date) ||\n        (data.estimation !== undefined && task.estimation !== data.estimation)\n      )\n    },\n\n    isEstimationBurned(task) {\n      return (\n        this.isToCheck && task.estimation > 0 && task.duration > task.estimation\n      )\n    },\n\n    updateEstimation(duration) {\n      const estimation = this.organisation.format_duration_in_hours\n        ? duration * 60\n        : daysToMinutes(this.organisation, duration)\n\n      this.updateTasksEstimation({ estimation })\n    },\n\n    updateTasksEstimation({ estimation }) {\n      Object.keys(this.selectionGrid).forEach(taskId => {\n        const task = this.taskMap.get(taskId)\n        let data = { estimation }\n        if (task.start_date) {\n          const startDate = moment(task.start_date)\n          const dueDate = task.due_date ? moment(task.due_date) : null\n          data = getDatesFromStartDate(\n            this.organisation,\n            startDate,\n            dueDate,\n            minutesToDays(this.organisation, estimation)\n          )\n          data.estimation = estimation\n        }\n        if (this.isTaskChanged(task, data)) {\n          this.updateTask({ taskId, data }).catch(console.error)\n        }\n      })\n    },\n\n    updateStartDate(date) {\n      Object.keys(this.selectionGrid).forEach(taskId => {\n        const task = this.taskMap.get(taskId)\n        const dueDate = task.due_date ? parseSimpleDate(task.due_date) : null\n        let data\n        if (date) {\n          const startDate = moment(date)\n          if (\n            task.start_date &&\n            task.start_date.substring(0, 10) === formatSimpleDate(startDate)\n          )\n            return\n          data = getDatesFromStartDate(\n            this.organisation,\n            startDate,\n            dueDate,\n            minutesToDays(this.organisation, task.estimation)\n          )\n        } else {\n          data = {\n            start_date: null,\n            due_date: task.due_date\n          }\n        }\n        if (this.isTaskChanged(task, data)) {\n          this.updateTask({ taskId, data }).catch(console.error)\n        }\n      })\n    },\n\n    updateDueDate(date) {\n      Object.keys(this.selectionGrid).forEach(taskId => {\n        const task = this.taskMap.get(taskId)\n        const startDate = task.start_date\n          ? parseSimpleDate(task.start_date)\n          : null\n        let data\n        if (date) {\n          const dueDate = moment(date)\n          if (\n            task.due_date &&\n            task.due_date.substring(0, 10) === formatSimpleDate(dueDate)\n          )\n            return\n          data = getDatesFromEndDate(\n            this.organisation,\n            startDate,\n            dueDate,\n            minutesToDays(this.organisation, task.estimation)\n          )\n        } else {\n          data = {\n            start_date: task.start_date,\n            due_date: null\n          }\n        }\n        if (this.isTaskChanged(task, data)) {\n          this.updateTask({ taskId, data }).catch(console.error)\n        }\n      })\n    },\n\n    selectTask(event, index, task) {\n      if (\n        event &&\n        event.target &&\n        // Dirty hack needed to make date picker and inputs work properly\n        (['INPUT'].includes(event.target.nodeName) ||\n          // Combo box should not trigger selection\n          event.target.className.indexOf('selected-line') >= 0 ||\n          event.target.className.indexOf('down-icon') >= 0 ||\n          event.target.className.indexOf('c-mask') >= 0 ||\n          event.target.className.indexOf('option-line') >= 0 ||\n          event.target.className.indexOf('combobox') >= 0 ||\n          (event.target.parentNode &&\n            ['HEADER'].includes(event.target.parentNode.nodeName)) ||\n          ['cell day selected'].includes(event.target.className))\n      )\n        return\n      const isSelected = this.selectionGrid[task.id]\n      const isManySelection = Object.keys(this.selectionGrid).length > 1\n      if (event && !(event.ctrlKey || event.metaKey) && !event.shiftKey) {\n        this.clearSelectedTasks()\n        this.resetSelection()\n      }\n\n      if (event && !event.shiftKey) {\n        if (isSelected && !isManySelection) {\n          this.removeSelectedTask({ task })\n          this.selectionGrid[task.id] = undefined\n        } else if (!isSelected || isManySelection) {\n          this.addSelectedTask({ task })\n          this.$emit('task-selected', task)\n          this.selectionGrid[task.id] = true\n          this.lastSelection = index\n        }\n      } else {\n        this.selectionGrid = {}\n        const taskIndices =\n          this.lastSelection > index\n            ? range(index, this.lastSelection)\n            : range(this.lastSelection, index)\n        const selection = taskIndices.map(i => ({ task: this.tasks[i] }))\n        selection.forEach(task => {\n          this.selectionGrid[task.task.id] = true\n        })\n        this.addSelectedTasks(selection)\n      }\n      this.scrollToLine(task.id)\n    },\n\n    resetSelection() {\n      this.selectionGrid = {}\n      this.lastSelection = null\n    },\n\n    scrollToLine(taskId) {\n      const taskLine = this.$refs[`task-${taskId}`]\n      if (taskLine && this.$refs.body) {\n        const margin = 30\n        const rect = taskLine[0].getBoundingClientRect()\n        const listRect = this.$refs.body.getBoundingClientRect()\n        const isBelow = rect.bottom > listRect.bottom - margin\n        const isAbove = rect.top < listRect.top + margin\n\n        if (isBelow) {\n          const scrollingRequired = rect.bottom - listRect.bottom + margin\n          this.setScrollPosition(this.$refs.body.scrollTop + scrollingRequired)\n        } else if (isAbove) {\n          const scrollingRequired = listRect.top - rect.top + margin\n          this.setScrollPosition(this.$refs.body.scrollTop - scrollingRequired)\n        }\n      }\n    }\n  },\n\n  watch: {\n    tasks() {\n      this.resetSelection()\n    },\n\n    nbSelectedTasks() {\n      if (this.nbSelectedTasks === 0) this.resetSelection()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.datatable-body tr:first-child th,\n.datatable-body tr:first-child td {\n  border-top: 0;\n}\n\n.datatable .datatable-row {\n  cursor: pointer;\n}\n\n.name {\n  width: 300px;\n  min-width: 300px;\n}\n\n.description {\n  width: 200px;\n  min-width: 200px;\n}\n\n.description li {\n  list-style-type: disc;\n  margin-left: 2em;\n}\n\n.name a {\n  color: inherit;\n}\n\n.production {\n  width: 70px;\n  min-width: 70px;\n  max-width: 70px;\n}\n\n.type {\n  width: 130px;\n  min-width: 130px;\n}\n\n.assignees {\n  width: 140px;\n  max-width: 140px;\n\n  .avatars {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n  }\n}\n\n.status {\n  width: 130px;\n  min-width: 130px;\n}\n\n.duration,\n.estimation {\n  width: 60px;\n  min-width: 60px;\n}\n\n.selected {\n  .estimation {\n    padding: 0;\n  }\n}\n\ntd.estimation {\n  text-align: right;\n}\n\n.start-date,\n.due-date {\n  min-width: 110px;\n  text-align: center;\n  width: 110px;\n}\n\ntd.due-date {\n  border-right: 1px solid var(--border);\n}\n\nth.last-comment {\n  max-width: 100%;\n  width: 100%;\n}\n\ntd.last-comment {\n  min-width: 450px;\n}\n\ntd.end-date {\n  width: 100%;\n  min-width: 150px;\n  color: $grey;\n}\n\n.thumbnail {\n  min-width: 60px;\n  max-width: 60px;\n  width: 60px;\n  padding: 0;\n}\n\n.empty-list img {\n  max-width: 80vh;\n  -webkit-filter: brightness(103%);\n}\n\n.entity-name {\n  color: var(--text);\n  font-weight: bold;\n}\n\n.episode {\n  min-width: 130px;\n  width: 130px;\n}\n\n.input {\n  padding: 0.5em;\n}\n\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n\n.error {\n  color: $red;\n}\n</style>\n"],"names":["_sfc_main","PeopleAvatar","text","maxLength","result","renderMarkdown","_hoisted_1","_hoisted_2","_createElementBlock","_ctx","_createElementVNode","$props","_createBlock","_component_people_avatar","_createCommentVNode","$options","_hoisted_3","_toDisplayString","_imports_0","domMixin","formatListMixin","selectionListMixin","descriptorMixin","EntityThumbnail","DateField","DescriptionCell","LastCommentCell","MetadataHeader","ProductionNameCell","TableInfo","TaskTypeCell","ValidationCell","moment","mapGetters","task","metadataDescriptorsMap","project","descriptor","department","descriptorFieldNameEntry","acc","mapActions","entry","full","mainEpisodeName","episodeNames","name","episodeNameString","personIds","people","id","sortPeople","scrollPosition","date","formatSimpleDate","event","position","taskType","production","entity","entityType","route","episodeId","index","validationCell","rect","listRect","isBelow","isAbove","isRight","isLeft","scrollingRequired","i","j","ref","tableBody","bodyElement","desc","width","descriptors","firstKeyEntityType","firstKeyProjectId","mergedDescriptors","projectId","fieldName","data","taskStart","taskDue","duration","estimation","daysToMinutes","taskId","startDate","dueDate","getDatesFromStartDate","minutesToDays","parseSimpleDate","getDatesFromEndDate","isSelected","isManySelection","selection","range","taskLine","_hoisted_6","_hoisted_15","_hoisted_17","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_28","_hoisted_29","_openBlock","_cache","args","_normalizeStyle","$data","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","field_name","_component_metadata_header","_hoisted_10","_hoisted_13","_hoisted_12","_hoisted_11","_hoisted_14","_normalizeClass","$event","_hoisted_16","_createVNode","_component_production_name_cell","_component_task_type_cell","_component_entity_thumbnail","_component_router_link","_withCtx","_createTextVNode","_hoisted_18","_component_description_cell","_hoisted_20","person","_hoisted_24","_component_date_field","_hoisted_26","_hoisted_27","option","_hoisted_30","_component_validation_cell","_hoisted_32","_hoisted_31","_component_last_comment_cell","_component_table_info","_hoisted_33","_hoisted_34"],"mappings":"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"}