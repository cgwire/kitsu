{"version":3,"file":"NewProduction-FTE2nOxJ.js","sources":["../../src/components/pages/production/TimelineItem.vue","../../src/components/pages/production/NewProduction.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"timeline\">\n      <check-icon class=\"check\" v-if=\"isCompleted\" />\n      <span\n        :class=\"{\n          step: true,\n          optional\n        }\"\n        v-else\n      >\n        {{ step }}\n      </span>\n      <div v-if=\"!isLast\" class=\"dots\"></div>\n    </div>\n    <div class=\"timeline-content\">\n      <h3 class=\"title\" :class=\"{ 'is-completed': isCompleted, optional }\">\n        {{ title }}\n      </h3>\n      <p class=\"subtitle\">{{ subtitle }}</p>\n      <slot></slot>\n      <hr v-if=\"!isLast\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { CheckIcon } from 'lucide-vue-next'\n\nexport default {\n  name: 'timeline-item',\n\n  components: {\n    CheckIcon\n  },\n\n  props: {\n    title: String,\n    subtitle: String,\n    isLast: {\n      type: Boolean,\n      default: false\n    },\n    step: Number,\n    isCompleted: {\n      type: Boolean,\n      default: false\n    },\n    optional: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .timeline-content {\n    p.subtitle {\n      color: $white;\n    }\n  }\n  hr {\n    background-color: $grey-strong;\n  }\n}\n\n.wrapper {\n  display: flex;\n}\n\n.check {\n  color: $white;\n  background-color: $green;\n  border-radius: 50%;\n  height: 36px;\n  width: 36px;\n  padding: 9px;\n  stroke-width: 4;\n}\n\n.step {\n  border-radius: 50%;\n  border: 3px solid $green;\n  color: $green;\n  height: 36px;\n  font-size: 16px;\n  font-weight: bold;\n  padding-top: 0.2rem;\n  text-align: center;\n  width: 36px;\n\n  &.optional {\n    border: 3px solid var(--text);\n    color: var(--text);\n  }\n}\n\n.timeline {\n  margin-right: 2rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.dots {\n  border-right: 2px dotted $light-grey;\n  width: 0;\n  margin: 3px auto;\n  display: flex;\n  flex: 1;\n}\n\n.timeline-content {\n  padding-top: 3px;\n  flex: 1;\n\n  h3.title {\n    color: $green;\n    font-size: 22px;\n    font-family: Lato;\n    font-weight: 600;\n    line-height: 1.125;\n    padding-top: 0.2em;\n\n    &.optional {\n      color: var(--text);\n    }\n  }\n\n  h3.title.is-completed {\n    color: $green;\n  }\n\n  p.subtitle {\n    color: $dark-grey;\n    font-size: 14px;\n    font-weight: 400;\n    font-variant: normal;\n    letter-spacing: 0;\n    text-transform: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"new-production page\">\n    <div class=\"columns\">\n      <div class=\"column is-offset-one-quarter is-half\">\n        <section class=\"hero\">\n          <div class=\"hero-body\">\n            <h2 class=\"subtitle\">\n              {{ $t('productions.creation.new_project') }}\n            </h2>\n            <h1 class=\"title\">\n              {{ $t('productions.creation.create_production') }}\n            </h1>\n          </div>\n        </section>\n        <timeline-item\n          :title=\"$t('productions.creation.give_a_name')\"\n          :subtitle=\"$t('productions.creation.give_a_name_description')\"\n          :step=\"1\"\n          :is-completed=\"hasValidName\"\n        >\n          <text-field\n            ref=\"nameField\"\n            input-class=\" is-inline\"\n            :placeholder=\"$t('productions.creation.placeholder_name')\"\n            v-model=\"productionToCreate.name\"\n          />\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.production_settings')\"\n          :subtitle=\"$t('productions.creation.production_settings_description')\"\n          :step=\"2\"\n          :is-completed=\"hasValidSettings\"\n        >\n          <div class=\"flexrow\">\n            <combobox-styled\n              class=\"flexrow-item\"\n              :options=\"productionTypeOptions\"\n              :label=\"$t('productions.fields.type')\"\n              locale-key-prefix=\"productions.type.\"\n              v-model=\"productionToCreate.settings.type\"\n              thin\n              is-inline\n            />\n            <combobox-styled\n              class=\"flexrow-item\"\n              :options=\"productionStyleOptions\"\n              :label=\"$t('productions.fields.style')\"\n              locale-key-prefix=\"productions.style.\"\n              v-model=\"productionToCreate.settings.style\"\n              thin\n              is-inline\n            />\n          </div>\n          <div class=\"mb1 explaination\">\n            {{ $t('productions.creation.explaination_type') }}\n          </div>\n          <div class=\"flexrow\">\n            <text-field\n              class=\"flexrow-item\"\n              input-class=\" is-small is-size-4\"\n              :label=\"$t('productions.fields.fps')\"\n              type=\"number\"\n              :max=\"60\"\n              :step=\"0.001\"\n              :placeholder=\"$t('productions.creation.placeholder_fps')\"\n              :errored=\"!hasValidFPS\"\n              v-model=\"productionToCreate.settings.fps\"\n              thin\n            />\n            <span class=\"input-separator flexrow-item mr1\"></span>\n            <text-field\n              class=\"flexrow-item mr0\"\n              input-class=\" is-small is-size-3\"\n              :label=\"$t('productions.fields.ratio')\"\n              type=\"number\"\n              :step=\"0.01\"\n              :placeholder=\"$t('productions.creation.placeholder_ratio1')\"\n              v-model=\"productionToCreate.settings.ratio[0]\"\n              thin\n            />\n            <span class=\"input-separator flexrow-item mt15 mr0\">:</span>\n            <text-field\n              class=\"flexrow-item\"\n              input-class=\" is-small is-size-2\"\n              type=\"number\"\n              :step=\"1\"\n              :placeholder=\"$t('productions.creation.placeholder_ratio2')\"\n              :empty-label=\"true\"\n              v-model=\"productionToCreate.settings.ratio[1]\"\n              thin\n            />\n            <span class=\"input-separator flexrow-item mr1\"></span>\n            <text-field\n              class=\"flexrow-item mr0 ml2\"\n              input-class=\" is-small is-size-4\"\n              :label=\"$t('productions.fields.resolution')\"\n              type=\"number\"\n              :step=\"1\"\n              :placeholder=\"$t('productions.creation.placeholder_resolution1')\"\n              v-model=\"productionToCreate.settings.resolution[0]\"\n              thin\n            />\n            <span class=\"input-separator flexrow-item mt15 mr05\">x</span>\n            <text-field\n              class=\"flexrow-item\"\n              input-class=\" is-small is-size-4\"\n              type=\"number\"\n              :placeholder=\"$t('productions.creation.placeholder_resolution2')\"\n              :step=\"1\"\n              :empty-label=\"true\"\n              v-model=\"productionToCreate.settings.resolution[1]\"\n              thin\n            />\n          </div>\n          <div class=\"mb1 explaination\">\n            {{ $t('productions.creation.explaination_video') }}\n          </div>\n          <div>\n            <label class=\"label\">\n              {{ $t('productions.creation.start_and_end_dates') }}\n            </label>\n            <div class=\"date-picker-wrapper\">\n              <date-field\n                :can-delete=\"false\"\n                :label=\"$t('main.start_date')\"\n                :max-date=\"productionToCreate.settings.dateEnd\"\n                :placeholder=\"startDatePlaceholder\"\n                v-model=\"productionToCreate.settings.dateStart\"\n              />\n              <span class=\"input-separator\">-</span>\n              <date-field\n                :can-delete=\"false\"\n                :label=\"$t('main.end_date')\"\n                :min-date=\"productionToCreate.settings.dateStart\"\n                :placeholder=\"endDatePlaceholder\"\n                v-model=\"productionToCreate.settings.dateEnd\"\n              />\n            </div>\n          </div>\n          <div class=\"mb1 explaination\">\n            {{ $t('productions.creation.explaination_date') }}\n          </div>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.select_asset_task_type')\"\n          :subtitle=\"\n            $t('productions.creation.select_asset_task_type_description')\n          \"\n          :step=\"3\"\n          :is-completed=\"hasValidAssetTaskTypes\"\n          v-if=\"!isShotsOnly\"\n        >\n          <draggable item-key=\"id\" v-model=\"productionToCreate.assetTaskTypes\">\n            <template #item=\"{ element: taskType }\">\n              <task-type-name\n                class=\"task-type\"\n                deletable\n                :task-type=\"taskType\"\n                @delete=\"deleteFromList(taskType, 'assetTaskTypes')\"\n              />\n            </template>\n            <template #header>\n              <div class=\"flexrow mb1\">\n                <combobox-task-type\n                  class=\"is-inline inline-task-type-combo flexrow-item mb0\"\n                  :task-type-list=\"availableAssetTaskTypes\"\n                  add-placeholder\n                  @update:model-value=\"\n                    id =>\n                      productionToCreate.assetTaskTypes.push(\n                        taskTypeMap.get(id)\n                      )\n                  \"\n                  v-if=\"availableAssetTaskTypes.length\"\n                />\n                <button\n                  class=\"button is-link flexrow-item\"\n                  @click=\"onAddLibraryAssetTaskTypeClicked\"\n                >\n                  {{ $t('task_types.add_task_type_to_library') }}\n                </button>\n              </div>\n            </template>\n          </draggable>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.select_shot_task_type')\"\n          :subtitle=\"\n            $t('productions.creation.select_shot_task_type_description')\n          \"\n          :step=\"isShotsOnly ? 3 : 4\"\n          :is-completed=\"hasValidShotTaskTypes\"\n          v-if=\"!isAssetsOnly\"\n        >\n          <draggable item-key=\"id\" v-model=\"productionToCreate.shotTaskTypes\">\n            <template #item=\"{ element: taskType }\">\n              <task-type-name\n                class=\"task-type\"\n                deletable\n                :task-type=\"taskType\"\n                @delete=\"deleteFromList(taskType, 'shotTaskTypes')\"\n              />\n            </template>\n            <template #header>\n              <div class=\"flexrow mb1\">\n                <combobox-task-type\n                  class=\"is-inline inline-task-type-combo flexrow-item mb0\"\n                  :task-type-list=\"availableShotTaskTypes\"\n                  add-placeholder\n                  @update:model-value=\"\n                    id =>\n                      productionToCreate.shotTaskTypes.push(taskTypeMap.get(id))\n                  \"\n                  v-if=\"availableShotTaskTypes.length\"\n                />\n                <button\n                  class=\"button is-link flexrow-item\"\n                  @click=\"onAddLibraryShotTaskTypeClicked\"\n                >\n                  {{ $t('task_types.add_task_type_to_library') }}\n                </button>\n              </div>\n            </template>\n          </draggable>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.select_task_status')\"\n          :subtitle=\"$t('productions.creation.select_task_status_description')\"\n          :step=\"isShotsOnly || isAssetsOnly ? 4 : 5\"\n          :is-completed=\"hasValidTaskStatuses\"\n        >\n          <div class=\"flexrow\">\n            <combobox-status\n              class=\"flexrow-item\"\n              :task-status-list=\"availableTaskStatuses\"\n              :with-margin=\"false\"\n              big\n              add-placeholder\n              @update:model-value=\"\n                id =>\n                  productionToCreate.taskStatuses.push(taskStatusMap.get(id))\n              \"\n              v-if=\"availableTaskStatuses.length > 0\"\n            />\n            <button\n              class=\"button is-link flexrow-item\"\n              @click=\"modals.isAddTaskStatusDisplayed = true\"\n            >\n              {{ $t('task_status.add_task_status_to_library') }}\n            </button>\n          </div>\n          <div class=\"flexrow mt1\">\n            <validation-tag\n              class=\"task-status flexrow-item\"\n              :task=\"{ task_status_id: taskStatus.id }\"\n              :key=\"taskStatus.id\"\n              pointer\n              is-static\n              @click=\"deleteFromList(taskStatus, 'taskStatuses')\"\n              v-for=\"taskStatus in productionToCreate.taskStatuses\"\n            />\n          </div>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.add_asset_types')\"\n          :subtitle=\"$t('productions.creation.add_asset_types_description')\"\n          :step=\"isAssetsOnly ? 5 : 6\"\n          :is-completed=\"hasValidAssetTypes\"\n          v-if=\"!isShotsOnly\"\n        >\n          <div class=\"flexrow asset-types mb1\">\n            <combobox\n              class=\"flexrow-item\"\n              :options=\"availableAssetTypes\"\n              :with-margin=\"false\"\n              @update:model-value=\"\n                id => {\n                  assetTypeMap.get(id) &&\n                    productionToCreate.assetTypes.push(assetTypeMap.get(id))\n                }\n              \"\n              v-if=\"availableAssetTypes.length > 1\"\n            />\n            <button\n              class=\"button is-link flexrow-item\"\n              @click=\"modals.isAddAssetTypeDisplayed = true\"\n            >\n              {{ $t('asset_types.add_asset_type_to_library') }}\n            </button>\n          </div>\n          <div class=\"flexrow mt1\">\n            <span\n              :key=\"assetType.id\"\n              class=\"asset-type-name flexrow-item\"\n              @click=\"deleteFromList(assetType, 'assetTypes')\"\n              v-for=\"assetType in productionToCreate.assetTypes\"\n            >\n              {{ assetType.name }}\n            </span>\n          </div>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.add_assets')\"\n          :subtitle=\"$t('productions.creation.add_assets_description')\"\n          :step=\"isAssetsOnly ? 6 : 7\"\n          :is-completed=\"hasValidAssets\"\n          :optional=\"true\"\n          :is-last=\"isAssetsOnly\"\n          v-if=\"!isShotsOnly\"\n        >\n          <div class=\"import-content\">\n            <span class=\"tag mr1\" v-if=\"nbAssetsToImport > 0\">\n              {{ nbAssetsToImport }}\n              {{ $t('productions.creation.assets_to_import') }}\n            </span>\n            <button\n              class=\"button import-button\"\n              @click=\"toggleModal('isAssetsImportDisplayed')\"\n            >\n              {{ $t('productions.creation.import_assets_button') }}\n            </button>\n          </div>\n        </timeline-item>\n        <timeline-item\n          :title=\"$t('productions.creation.add_shots')\"\n          :subtitle=\"$t('productions.creation.add_shots_description')\"\n          :step=\"isShotsOnly ? 5 : 8\"\n          :is-completed=\"hasValidShots\"\n          :optional=\"true\"\n          is-last\n          v-if=\"!isAssetsOnly\"\n        >\n          <div class=\"import-content\">\n            <span class=\"tag mr1\" v-if=\"nbShotsToImport > 0\">\n              {{ nbShotsToImport }}\n              {{ $t('productions.creation.shots_to_import') }}\n            </span>\n            <button\n              class=\"button import-button\"\n              @click=\"toggleModal('isShotsImportDisplayed')\"\n            >\n              {{ $t('productions.creation.import_shots_button') }}\n            </button>\n          </div>\n        </timeline-item>\n        <section class=\"has-text-centered mt2\">\n          <p v-if=\"errors.importingAssets\" class=\"error\">\n            {{ $t('productions.creation.errorImportingAssets') }}\n            <br />\n            {{ errors.importingAssetsError }}\n          </p>\n          <p v-if=\"errors.importingShots\" class=\"error\">\n            {{ $t('productions.creation.errorImportingShots') }}\n            <br />\n            {{ errors.importingShotsError }}\n          </p>\n          <p v-if=\"errors.creatingProduction\" class=\"error\">\n            {{ $t('productions.creation.error') }}\n            {{ errors.creatingProductionError }}\n          </p>\n          <button\n            class=\"button big-button\"\n            v-if=\"hasAllDataCorrect\"\n            @click=\"createProduction\"\n          >\n            <spinner\n              class=\"mr05 mt05\"\n              :size=\"20\"\n              is-white\n              v-if=\"loading.createProduction\"\n            />\n            {{ $t('productions.creation.create_button') }}\n          </button>\n          <button class=\"button big-button\" v-else>\n            {{ $t('productions.creation.create_button_disabled') }}\n          </button>\n        </section>\n      </div>\n    </div>\n\n    <edit-task-type-modal\n      :active=\"modals.isAddTaskTypeDisplayed\"\n      :is-loading=\"loading.creatingTaskType\"\n      :is-error=\"errors.creatingTaskType\"\n      :for-entity=\"taskTypeForEntity\"\n      @cancel=\"modals.isAddTaskTypeDisplayed = false\"\n      @confirm=\"createTaskType\"\n    />\n\n    <edit-task-status-modal\n      :active=\"modals.isAddTaskStatusDisplayed\"\n      :is-loading=\"loading.creatingTaskStatus\"\n      :is-error=\"errors.creatingTaskStatus\"\n      @cancel=\"modals.isAddTaskStatusDisplayed = false\"\n      @confirm=\"createTaskStatus\"\n    />\n\n    <edit-asset-type-modal\n      :active=\"modals.isAddAssetTypeDisplayed\"\n      :is-loading=\"loading.creatingAssetType\"\n      :is-error=\"errors.creatingAssetType\"\n      @cancel=\"modals.isAddAssetTypeDisplayed = false\"\n      @confirm=\"createAssetType\"\n    />\n\n    <import-render-modal\n      :active=\"modals.isAssetsImportRenderDisplayed\"\n      :is-loading=\"loading.importingAssets\"\n      :is-error=\"errors.importingAssets\"\n      :import-error=\"errors.importingAssetsError\"\n      :parsed-csv=\"parsedAssetsCSV\"\n      :form-data=\"assetsCsvFormData\"\n      :columns=\"assetsRenderColumns\"\n      :data-matchers=\"assetsDataMatchers\"\n      :database=\"{}\"\n      :disable-update=\"true\"\n      @reupload=\"resetAssetsImport\"\n      @confirm=\"uploadAssetsImportFile\"\n      @cancel=\"toggleModal('isAssetsImportRenderDisplayed')\"\n    />\n\n    <import-modal\n      ref=\"import-assets-modal\"\n      :active=\"modals.isAssetsImportDisplayed\"\n      :is-loading=\"loading.importingAssets\"\n      :is-error=\"errors.importingAssets\"\n      :form-data=\"assetsCsvFormData\"\n      :columns=\"assetsDataMatchers\"\n      :optional-columns=\"assetsOptionalColumns\"\n      :generic-columns=\"genericColumns\"\n      @confirm=\"renderAssetsImport\"\n      @cancel=\"toggleModal('isAssetsImportDisplayed')\"\n    />\n\n    <import-render-modal\n      :active=\"modals.isShotsImportRenderDisplayed\"\n      :is-loading=\"loading.importingShots\"\n      :is-error=\"errors.importingShots\"\n      :import-error=\"errors.importingShotsError\"\n      :parsed-csv=\"parsedShotsCSV\"\n      :form-data=\"shotsCsvFormData\"\n      :columns=\"shotsRenderColumns\"\n      :data-matchers=\"shotsDataMatchers\"\n      :database=\"{}\"\n      :disable-update=\"true\"\n      @reupload=\"resetShotsImport\"\n      @confirm=\"uploadShotsImportFile\"\n      @cancel=\"toggleModal('isShotsImportRenderDisplayed')\"\n    />\n\n    <import-modal\n      ref=\"import-shots-modal\"\n      :active=\"modals.isShotsImportDisplayed\"\n      :is-loading=\"loading.importingShots\"\n      :is-error=\"errors.importingShots\"\n      :form-data=\"shotsCsvFormData\"\n      :columns=\"shotsDataMatchers\"\n      :optional-columns=\"shotsOptionalColumns\"\n      :generic-columns=\"genericColumns\"\n      @confirm=\"renderShotsImport\"\n      @cancel=\"toggleModal('isShotsImportDisplayed')\"\n    />\n\n    <manage-shots-modal\n      :active=\"modals.isAddShotsDisplayed\"\n      @add-episode=\"addEpisode\"\n      @add-sequence=\"addSequence\"\n      @add-shot=\"addShot\"\n      @cancel=\"toggleModal('isAddShotsDisplayed')\"\n    />\n  </div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable'\nimport moment from 'moment'\nimport { mapActions, mapGetters } from 'vuex'\n\nimport csv from '@/lib/csv'\nimport func from '@/lib/func'\nimport { removeModelFromList } from '@/lib/models'\nimport { formatSimpleDate } from '@/lib/time'\nimport { sortByName } from '@/lib/sorting'\nimport {\n  PRODUCTION_STYLE_OPTIONS,\n  PRODUCTION_TYPE_OPTIONS\n} from '@/lib/productions'\n\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport ComboboxStyled from '@/components/widgets/ComboboxStyled.vue'\nimport ComboboxStatus from '@/components/widgets/ComboboxStatus.vue'\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport DateField from '@/components/widgets/DateField.vue'\nimport EditAssetTypeModal from '@/components/modals/EditAssetTypeModal.vue'\nimport EditTaskStatusModal from '@/components/modals/EditTaskStatusModal.vue'\nimport EditTaskTypeModal from '@/components/modals/EditTaskTypeModal.vue'\nimport ImportModal from '@/components/modals/ImportModal.vue'\nimport ImportRenderModal from '@/components/modals/ImportRenderModal.vue'\nimport ManageShotsModal from '@/components/modals/ManageShotsModal.vue'\nimport Spinner from '@/components/widgets/Spinner.vue'\nimport TaskTypeName from '@/components/widgets/TaskTypeName.vue'\nimport TextField from '@/components/widgets/TextField.vue'\nimport TimelineItem from '@/components/pages/production/TimelineItem.vue'\nimport ValidationTag from '@/components/widgets/ValidationTag.vue'\n\nimport assetTypeStore from '@/store/modules/assettypes'\nimport taskStatusStore from '@/store/modules/taskstatus.js'\nimport taskTypeStore from '@/store/modules/tasktypes'\n\nexport default {\n  name: 'new-production',\n\n  components: {\n    draggable,\n    Combobox,\n    ComboboxStyled,\n    ComboboxTaskType,\n    ComboboxStatus,\n    DateField,\n    EditAssetTypeModal,\n    EditTaskStatusModal,\n    EditTaskTypeModal,\n    ImportModal,\n    ImportRenderModal,\n    ManageShotsModal,\n    Spinner,\n    TaskTypeName,\n    TextField,\n    TimelineItem,\n    ValidationTag\n  },\n\n  data() {\n    return {\n      errors: {\n        creatingProduction: false,\n        creatingProductionError: '',\n        creatingTaskType: false,\n        importingAssets: false,\n        importingAssetsError: null,\n        importingShots: false,\n        importingShotsError: null\n      },\n      loading: {\n        createProduction: false,\n        importingAssets: false,\n        importingShots: false,\n        creatingTaskType: false\n      },\n      modals: {\n        isAddAssetsDisplayed: false,\n        isAddAssetTypeDisplayed: false,\n        isAddShotsDisplayed: false,\n        isAddTaskStatusDisplayed: false,\n        isAddTaskTypeDisplayed: false,\n        isAssetsImportDisplayed: false,\n        isAssetsImportRenderDisplayed: false,\n        isShotsImportDisplayed: false,\n        isShotsImportRenderDisplayed: false\n      },\n      parsedAssetsCSV: [],\n      parsedShotsCSV: [],\n      productionToCreate: {\n        assetsToAdd: null,\n        assetTypes: [],\n        assetTaskTypes: [],\n        episodesToCreate: [],\n        name: null,\n        sequencesToCreate: [],\n        settings: {\n          dateStart: null,\n          dateEnd: null,\n          fps: 25,\n          ratio: [16, 9],\n          resolution: [1920, 1080],\n          style: PRODUCTION_STYLE_OPTIONS[0].value,\n          type: PRODUCTION_TYPE_OPTIONS[0].value\n        },\n        shotsToAdd: null,\n        shotTaskTypes: [],\n        shotsToCreate: [],\n        taskStatuses: []\n      },\n      assetsOptionalColumns: ['Description', 'Ready for', 'Resolution'],\n      shotsOptionalColumns: [\n        'Description',\n        'Nb Frames',\n        'Frame In',\n        'Frame Out',\n        'FPS',\n        'Resolution'\n      ],\n      taskTypeForEntity: 'Asset',\n      genericColumns: [\n        'metadata_column_name => text value',\n        'task_type_name => task_status_name',\n        'task_type_name comment => comment text'\n      ],\n      productionStyleOptions: PRODUCTION_STYLE_OPTIONS,\n      productionTypeOptions: PRODUCTION_TYPE_OPTIONS\n    }\n  },\n\n  mounted() {\n    this.$refs.nameField.focus()\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetsCsvFormData',\n      'assetTaskTypes',\n      'assetTypes',\n      'productionStatus',\n      'shotsCsvFormData',\n      'shotTaskTypes',\n      'taskStatus'\n    ]),\n\n    assetTypeMap() {\n      return assetTypeStore.cache.assetTypeMap\n    },\n\n    taskStatusMap() {\n      return taskStatusStore.cache.taskStatusMap\n    },\n\n    taskTypeMap() {\n      return taskTypeStore.cache.taskTypeMap\n    },\n\n    isTVShow() {\n      return this.productionToCreate.settings.type === 'tvshow'\n    },\n\n    isAssetsOnly() {\n      return this.productionToCreate.settings.type === 'assets'\n    },\n\n    isShotsOnly() {\n      return this.productionToCreate.settings.type === 'shots'\n    },\n\n    assetsDataMatchers() {\n      return this.isTVShow ? ['Episode', 'Type', 'Name'] : ['Type', 'Name']\n    },\n\n    assetsRenderColumns() {\n      const collection = [\n        ...this.assetsDataMatchers,\n        ...this.assetsOptionalColumns\n      ]\n\n      this.productionToCreate.assetTaskTypes.forEach(item => {\n        collection.push(item.name)\n        collection.push(item.name + ' comment')\n      })\n\n      return collection\n    },\n\n    shotsRenderColumns() {\n      const collection = [\n        ...this.shotsDataMatchers,\n        ...this.shotsOptionalColumns\n      ]\n\n      this.productionToCreate.shotTaskTypes.forEach(item => {\n        collection.push(item.name)\n        collection.push(item.name + ' comment')\n      })\n\n      return collection\n    },\n\n    shotsDataMatchers() {\n      return this.isTVShow\n        ? ['Episode', 'Sequence', 'Name']\n        : ['Sequence', 'Name']\n    },\n\n    allowedProductionTypes() {\n      return PRODUCTION_TYPE_OPTIONS.map(option => option.value)\n    },\n\n    hasValidName() {\n      return !this.isEmpty(this.productionToCreate.name)\n    },\n\n    hasValidStartDate() {\n      return !this.isEmpty(this.productionToCreate.settings.dateStart)\n    },\n\n    hasValidEndDate() {\n      return !this.isEmpty(this.productionToCreate.settings.dateEnd)\n    },\n\n    hasValidAssets() {\n      return this.nbAssetsToImport > 0\n    },\n\n    hasValidAssetTypes() {\n      return this.productionToCreate.assetTypes.length > 0\n    },\n\n    hasValidShots() {\n      return this.nbShotsToImport > 0\n    },\n\n    hasValidSettings() {\n      return (\n        this.hasValidType &&\n        this.hasValidFPS &&\n        this.hasValidRatio &&\n        this.hasValidResolution &&\n        this.hasValidStartDate &&\n        this.hasValidEndDate\n      )\n    },\n\n    hasValidFPS() {\n      const fps = parseInt(this.productionToCreate.settings.fps)\n      return fps > 0 && fps <= 60\n    },\n\n    hasValidRatio() {\n      if (this.isEmpty(this.productionToCreate.settings.ratio)) {\n        return false\n      }\n      return (\n        this.productionToCreate.settings.ratio.length === 2 &&\n        this.isFloat(this.productionToCreate.settings.ratio[0]) &&\n        this.isInteger(this.productionToCreate.settings.ratio[1])\n      )\n    },\n\n    hasValidResolution() {\n      if (this.isEmpty(this.productionToCreate.settings.resolution)) {\n        return false\n      }\n      return (\n        this.productionToCreate.settings.resolution.length === 2 &&\n        this.isInteger(this.productionToCreate.settings.resolution[0]) &&\n        this.isInteger(this.productionToCreate.settings.resolution[1])\n      )\n    },\n\n    hasValidType() {\n      return this.allowedProductionTypes.includes(\n        this.productionToCreate.settings.type\n      )\n    },\n\n    hasValidAssetTaskTypes() {\n      return this.productionToCreate.assetTaskTypes.length > 0\n    },\n\n    hasValidShotTaskTypes() {\n      return this.productionToCreate.shotTaskTypes.length > 0\n    },\n\n    hasValidTaskStatuses() {\n      return this.productionToCreate.taskStatuses.length > 0\n    },\n\n    hasAllDataCorrect() {\n      return (\n        this.hasValidName &&\n        this.hasValidSettings &&\n        (this.hasValidAssetTaskTypes || this.isShotsOnly) &&\n        (this.hasValidShotTaskTypes || this.isAssetsOnly) &&\n        this.hasValidTaskStatuses &&\n        (this.hasValidAssetTypes || this.isShotsOnly)\n      )\n    },\n\n    availableAssetTaskTypes() {\n      return this.assetTaskTypes.filter(\n        assetTaskType =>\n          !this.productionToCreate.assetTaskTypes.includes(assetTaskType) &&\n          !assetTaskType.archived\n      )\n    },\n\n    availableAssetTypes() {\n      const assetTypes = sortByName(\n        this.assetTypes.filter(\n          assetType => !this.productionToCreate.assetTypes.includes(assetType)\n        )\n      )\n      return [\n        {\n          name: '+ Add Asset Type',\n          id: '-'\n        },\n        ...assetTypes\n      ].map(assetType => {\n        return {\n          label: assetType.name,\n          value: assetType.id\n        }\n      })\n    },\n\n    availableShotTaskTypes() {\n      return this.shotTaskTypes.filter(\n        shotTaskType =>\n          !this.productionToCreate.shotTaskTypes.includes(shotTaskType) &&\n          !shotTaskType.archived\n      )\n    },\n\n    availableTaskStatuses() {\n      return this.taskStatus.filter(\n        status =>\n          !this.productionToCreate.taskStatuses.includes(status) &&\n          !status.is_default &&\n          !status.for_concept\n      )\n    },\n\n    nbAssetsToImport() {\n      if (this.productionToCreate.assetsToAdd) {\n        const assetsLines = this.productionToCreate.assetsToAdd.filter(\n          assetLine => assetLine.length > 1\n        )\n        return assetsLines.length - 1\n      }\n      return 0\n    },\n\n    nbShotsToImport() {\n      let nbShots = this.productionToCreate.shotsToCreate.length\n      if (this.productionToCreate.shotsToAdd) {\n        const shotsLines = this.productionToCreate.shotsToAdd.filter(\n          shotLine => shotLine.length > 1\n        )\n        nbShots += shotsLines.length - 1\n      }\n      return nbShots\n    },\n\n    startDatePlaceholder() {\n      return formatSimpleDate(moment())\n    },\n\n    endDatePlaceholder() {\n      return formatSimpleDate(moment().add(3, 'month'))\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addAssetTypeToProduction',\n      'addTaskStatusToProduction',\n      'addTaskTypeToProduction',\n      'loadContext',\n      'newAssetType',\n      'newProduction',\n      'newTaskStatus',\n      'newTaskType',\n      'setProduction',\n      'uploadAssetFile',\n      'uploadShotFile'\n    ]),\n\n    removeModelFromList,\n\n    deleteFromList(object, listName) {\n      this.productionToCreate[listName] = removeModelFromList(\n        this.productionToCreate[listName],\n        object\n      )\n    },\n\n    isEmpty(value) {\n      return (\n        value === null ||\n        value === undefined ||\n        value === '' ||\n        value === [] ||\n        value === {}\n      )\n    },\n\n    isFloat(value) {\n      return !this.isEmpty(value) && /^[(\\d)*,(\\d)+]|(\\d)+$/.test(value)\n    },\n\n    isInteger(value) {\n      return !this.isEmpty(value) && /^\\d+$/.test(value)\n    },\n\n    async createTaskTypesAndStatuses() {\n      await func.runPromiseAsSeries(\n        this.productionToCreate.assetTaskTypes\n          .concat(this.productionToCreate.shotTaskTypes)\n          .map(async (taskType, index) => {\n            const finalIndex =\n              taskType.for_entity === 'Shot'\n                ? index - this.productionToCreate.assetTaskTypes.length\n                : index\n            return await this.addTaskTypeToProduction({\n              taskTypeId: taskType.id,\n              priority: finalIndex + 1\n            })\n          })\n          .concat(\n            this.productionToCreate.taskStatuses.map(async taskStatus => {\n              return await this.addTaskStatusToProduction(taskStatus.id)\n            })\n          )\n      )\n    },\n\n    async createAssets() {\n      if (this.productionToCreate.assetsToAdd !== null) {\n        this.loading.importingAssets = true\n        this.errors.importingAssets = false\n        await this.uploadAssetFile(false)\n          .then(() => {\n            this.loading.importingAssets = false\n          })\n          .catch(err => {\n            this.loading.importingAssets = false\n            this.errors.importingAssets = true\n            this.errors.importingAssetsError = err\n          })\n      }\n    },\n\n    createAssetTypes() {\n      this.productionToCreate.assetTypes.map(async assetType => {\n        return await this.addAssetTypeToProduction(assetType.id)\n      })\n    },\n\n    async createShots() {\n      if (this.productionToCreate.shotsToAdd !== null) {\n        this.loading.importingShots = true\n        this.errors.importingShots = false\n        await this.uploadShotFile(false)\n          .then(() => {\n            this.loading.importingShots = false\n          })\n          .catch(err => {\n            this.loading.importingShots = false\n            this.errors.importingShots = true\n            this.errors.importingShotsError = err\n          })\n      }\n    },\n\n    createTaskType(taskType) {\n      this.loading.creatingTaskType = true\n      this.errors.creatingTaskType = false\n      this.newTaskType(taskType)\n        .then(() => {\n          this.loading.creatingTaskType = false\n          this.modals.isAddTaskTypeDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.creatingTaskType = false\n          this.errors.creatingTaskType = true\n        })\n    },\n\n    createTaskStatus(taskStatus) {\n      this.loading.creatingTaskStatus = true\n      this.errors.creatingTaskStatus = false\n      this.newTaskStatus(taskStatus)\n        .then(() => {\n          this.loading.creatingTaskStatus = false\n          this.modals.isAddTaskStatusDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.creatingTaskStatus = false\n          this.errors.creatingTaskStatus = true\n        })\n    },\n\n    createAssetType(assetType) {\n      this.loading.creatingAssetType = true\n      this.errors.creatingAssetType = false\n      this.newAssetType(assetType)\n        .then(() => {\n          this.loading.creatingAssetType = false\n          this.modals.isAddAssetTypeDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.creatingAssetType = false\n          this.errors.creatingAssetType = true\n        })\n    },\n\n    createProductionRoute(createdProduction) {\n      const params = {\n        production_id: createdProduction.id\n      }\n      let routeName = 'assets'\n      if (this.isTVShow) {\n        params.episode_id = 'all'\n        routeName = 'episode-assets'\n      } else if (this.isShotsOnly) {\n        routeName = 'shots'\n      }\n      return {\n        name: routeName,\n        params\n      }\n    },\n\n    async createProduction() {\n      if (this.loading.createProduction) return\n      this.loading.createProduction = true\n      this.errors.creatingProduction = false\n      this.errors.creatingProductionError = ''\n      try {\n        const createdProduction = await this.newProduction({\n          name: this.productionToCreate.name,\n          project_status_id: this.productionStatus[0].id,\n          fps: this.productionToCreate.settings.fps,\n          ratio: this.productionToCreate.settings.ratio.join(':'),\n          resolution: this.productionToCreate.settings.resolution.join('x'),\n          production_type: this.productionToCreate.settings.type,\n          production_style: this.productionToCreate.settings.style,\n          start_date: this.productionToCreate.settings.dateStart,\n          end_date: this.productionToCreate.settings.dateEnd\n        })\n        await this.setProduction(createdProduction.id)\n        await this.createTaskTypesAndStatuses()\n        await this.createAssetTypes()\n        await this.createAssets()\n        if (this.productionToCreate.production_type !== 'assets') {\n          await this.createShots()\n        }\n        await this.loadContext()\n        await this.$router.push(this.createProductionRoute(createdProduction))\n      } catch (err) {\n        console.error(err)\n        this.errors.creatingProduction = true\n        this.errors.creatingProductionError =\n          err.body?.message?.substring(0, 165) ?? ''\n      }\n      this.loading.createProduction = false\n    },\n\n    toggleModal(modalName) {\n      this.modals[modalName] = !this.modals[modalName]\n    },\n\n    renderAssetsImport(data, mode) {\n      this.loading.importingAssets = true\n      this.errors.importingAssets = false\n      if (mode === 'file') {\n        data = data.get('file')\n      }\n      csv.processCSV(data).then(results => {\n        this.parsedAssetsCSV = results\n        this.toggleModal('isAssetsImportDisplayed')\n        this.loading.importingAssets = false\n        this.toggleModal('isAssetsImportRenderDisplayed')\n      })\n    },\n\n    resetAssetsImport() {\n      this.errors.importingAssets = false\n      this.toggleModal('isAssetsImportRenderDisplayed')\n      this.$store.commit('ASSET_CSV_FILE_SELECTED', null)\n      this.productionToCreate.assetsToAdd = null\n      this.$refs['import-assets-modal'].reset()\n      this.toggleModal('isAssetsImportDisplayed')\n    },\n\n    uploadAssetsImportFile(data, toUpdate) {\n      const formData = new FormData()\n      const filename = 'import.csv'\n      const csvContent = csv.turnEntriesToCsvString(data)\n      const file = new File([csvContent], filename, { type: 'text/csv' })\n\n      formData.append('file', file)\n\n      this.$store.commit('ASSET_CSV_FILE_SELECTED', formData)\n      this.productionToCreate.assetsToAdd = data\n      this.toggleModal('isAssetsImportRenderDisplayed')\n    },\n\n    renderShotsImport(data, mode) {\n      this.loading.importingShots = true\n      this.errors.importingShots = false\n      if (mode === 'file') {\n        data = data.get('file')\n      }\n      csv.processCSV(data).then(results => {\n        this.parsedShotsCSV = results\n        this.toggleModal('isShotsImportDisplayed')\n        this.loading.importingShots = false\n        this.toggleModal('isShotsImportRenderDisplayed')\n      })\n    },\n\n    resetShotsImport() {\n      this.errors.importingShots = false\n      this.toggleModal('isShotsImportRenderDisplayed')\n      this.$store.commit('SHOT_CSV_FILE_SELECTED', null)\n      this.productionToCreate.shotsToAdd = null\n      this.$refs['import-shots-modal'].reset()\n      this.toggleModal('isShotsImportDisplayed')\n    },\n\n    uploadShotsImportFile(data, toUpdate) {\n      const formData = new FormData()\n      const filename = 'import.csv'\n      const csvContent = csv.turnEntriesToCsvString(data)\n      const file = new File([csvContent], filename, { type: 'text/csv' })\n\n      formData.append('file', file)\n\n      this.$store.commit('SHOT_CSV_FILE_SELECTED', formData)\n      this.productionToCreate.shotsToAdd = data\n      this.toggleModal('isShotsImportRenderDisplayed')\n    },\n\n    addEpisode(episode, callback) {\n      this.productionToCreate.episodesToCreate.push(episode)\n      episode.id = this.productionToCreate.episodesToCreate.length - 1\n      callback(episode)\n    },\n\n    addSequence(sequence, callback) {\n      this.productionToCreate.sequencesToCreate.push(sequence)\n      sequence.id = this.productionToCreate.sequencesToCreate.length - 1\n      callback(sequence)\n    },\n\n    addShot(shot, callback) {\n      this.productionToCreate.shotsToCreate.push(shot)\n      shot.id = this.productionToCreate.shotsToCreate.length - 1\n      callback(shot)\n    },\n\n    onAddLibraryAssetTaskTypeClicked() {\n      this.taskTypeForEntity = 'Asset'\n      this.modals.isAddTaskTypeDisplayed = true\n    },\n\n    onAddLibraryShotTaskTypeClicked() {\n      this.taskTypeForEntity = 'Shot'\n      this.modals.isAddTaskTypeDisplayed = true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.new-production {\n  font-family: Lato;\n}\n\n.hero {\n  background-color: inherit;\n}\n\nh2 {\n  color: var(--text);\n  font-size: 20px;\n  letter-spacing: 5px;\n  line-height: 24px;\n  font-weight: 700;\n  padding-bottom: 0.7em;\n  text-transform: uppercase;\n}\n\nh1.title {\n  color: var(--text);\n  font-weight: 700;\n  font-size: 48px;\n  line-height: 56px;\n  text-transform: capitalize;\n}\n\nh2.subtitle {\n  border-bottom: 0;\n}\n\n.new-production > .columns {\n  padding-bottom: 3rem;\n}\n\nspan.input-separator {\n  display: inline-block;\n  padding: 3px;\n\n  &.mr0 {\n    margin-right: 0;\n  }\n}\n\n.date-picker-wrapper {\n  margin-top: 0.5rem;\n  display: flex;\n  align-items: center;\n}\n\n.task-type {\n  margin-top: 4px;\n}\n\n.task-type.task-type-name:hover {\n  cursor: grab;\n}\n\n.task-type.task-type-name {\n  margin-right: 5px;\n  margin-bottom: 5px;\n  height: 2.3rem;\n}\n\n.inline-task-type-combo {\n  display: inline-flex;\n  width: auto;\n  min-width: auto;\n  border: 0;\n}\n\n.import-content {\n  display: flex;\n  align-items: center;\n}\n\n.w600 {\n  max-width: 600px;\n}\n\n.flexrow-item {\n  margin-right: 1em;\n}\n\n.flexrow-item.mr0 {\n  margin-right: 0;\n}\n\n.flexrow-item.mr05 {\n  margin-right: 0.25em;\n}\n\n.asset-type-name {\n  border: 1px solid var(--text);\n  border-radius: 5px;\n  padding: 10px;\n}\n\n.asset-types {\n  align-items: center;\n}\n\n.explaination {\n  font-style: italic;\n  margin-top: 0.2em;\n}\n\n.big-button {\n  max-width: 100%;\n\n  &:active,\n  &:focus {\n    color: white;\n  }\n}\n</style>\n"],"names":["_sfc_main","CheckIcon","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_openBlock","_createElementBlock","_createElementVNode","$props","_createBlock","_component_check_icon","_normalizeClass","_createCommentVNode","_hoisted_3","_toDisplayString","_renderSlot","_ctx","_hoisted_6","draggable","Combobox","ComboboxStyled","ComboboxTaskType","ComboboxStatus","DateField","EditAssetTypeModal","EditTaskStatusModal","EditTaskTypeModal","ImportModal","ImportRenderModal","ManageShotsModal","Spinner","TaskTypeName","TextField","TimelineItem","ValidationTag","PRODUCTION_STYLE_OPTIONS","PRODUCTION_TYPE_OPTIONS","mapGetters","assetTypeStore","taskStatusStore","taskTypeStore","collection","item","option","fps","assetTaskType","assetTypes","sortByName","assetType","shotTaskType","status","assetLine","nbShots","shotsLines","shotLine","formatSimpleDate","moment","mapActions","removeModelFromList","object","listName","value","func","taskType","index","finalIndex","taskStatus","err","createdProduction","params","routeName","modalName","data","mode","csv","results","toUpdate","formData","filename","csvContent","file","episode","callback","sequence","shot","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_26","_createVNode","_component_timeline_item","$options","_withCtx","_component_text_field","$data","_cache","$event","_component_combobox_styled","_component_date_field","_component_draggable","_component_task_type_name","_component_combobox_task_type","id","args","_component_combobox_status","_Fragment","_renderList","_component_validation_tag","_component_combobox","_hoisted_23","_hoisted_25","_hoisted_27","_createTextVNode","_hoisted_28","_hoisted_29","_component_spinner","_hoisted_30","_component_edit_task_type_modal","_component_edit_task_status_modal","_component_edit_asset_type_modal","_component_import_render_modal","_component_import_modal","_component_manage_shots_modal"],"mappings":"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"}