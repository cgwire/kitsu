import{_ as p,m as f,bA as g,r as c,j as w,c as r,o as n,e,d,t as o,l as v,b7 as y,bv as b,f as _,n as k,w as P,a8 as S}from"./index-DotzFgPW.js";const I={name:"reset-password",components:{MailIcon:g},data(){return{email:"",isLoading:!1,isInactive:!1,isError:!1,isSuccess:!1}},mounted(){this.email=this.$store.state.login.email},methods:{...f(["resetPassword"]),async confirmResetPassword(){this.isLoading=!0,this.isInactive=!1,this.isError=!1,this.isSuccess=!1;try{await this.resetPassword(this.email),this.isSuccess=!0}catch(s){s.body?.message?.includes("inactive")?this.isInactive=!0:this.isError=!0}finally{this.isLoading=!1}}},head(){return{title:this.$t("login.reset_password_title")}}},R={class:"hero is-fullheight"},C={class:"container has-text-centered"},E={class:"box has-text-left"},V={class:"has-text-centered"},L={class:"title"},N={class:"field mt2"},x={class:"control has-icon"},B=["placeholder"],D={class:"icon"},M={key:0,class:"control"},z={key:1,class:"success"},A={key:2,class:"error"},K={key:3,class:"error"},T={class:"has-text-centered"};function $(s,i,j,U,t,l){const h=c("mail-icon"),m=c("router-link"),u=w("focus");return n(),r("div",R,[e("div",C,[e("div",E,[e("div",V,[e("h1",L,o(s.$t("login.reset_password_title")),1)]),e("div",N,[e("p",x,[v(e("input",{class:"input is-medium email",type:"email",placeholder:s.$t("login.fields.email"),onKeyup:i[0]||(i[0]=b((...a)=>l.confirmResetPassword&&l.confirmResetPassword(...a),["enter"])),"onUpdate:modelValue":i[1]||(i[1]=a=>t.email=a)},null,40,B),[[y,t.email,void 0,{trim:!0}],[u]]),e("span",D,[_(h,{size:20})])])]),t.isSuccess?d("",!0):(n(),r("p",M,[e("a",{class:k(["button main-button is-fullwidth",{"is-loading":t.isLoading}]),onClick:i[2]||(i[2]=(...a)=>l.confirmResetPassword&&l.confirmResetPassword(...a))},o(s.$t("login.reset_password")),3)])),t.isSuccess?(n(),r("p",z,o(s.$t("login.reset_password_succeed")),1)):t.isInactive?(n(),r("p",A,o(s.$t("login.reset_password_inactive")),1)):t.isError?(n(),r("p",K,o(s.$t("login.reset_password_failed")),1)):d("",!0),e("p",T,[_(m,{to:{name:"login"}},{default:P(()=>[S(o(t.isSuccess?s.$t("login.back_to_login"):s.$t("login.login_page")),1)]),_:1})])])])])}const F=p(I,[["render",$],["__scopeId","data-v-b535cb8c"]]);export{F as default};
//# sourceMappingURL=ResetPassword-DKb0nBlS.js.map
