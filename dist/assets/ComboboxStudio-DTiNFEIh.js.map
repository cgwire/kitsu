{"version":3,"file":"ComboboxStudio-DTiNFEIh.js","sources":["../../src/components/widgets/StudioName.vue","../../src/components/widgets/ComboboxStudio.vue"],"sourcesContent":["<template>\n  <span class=\"studio-name\" :class=\"{ 'no-padding': noPadding }\">\n    <span\n      class=\"square\"\n      :style=\"{ backgroundColor: studio.color }\"\n      :title=\"onlyDot ? studio.name : undefined\"\n    ></span>\n    <span class=\"name\" v-if=\"!onlyDot\">\n      {{ studio.name }}\n    </span>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: 'studio-name',\n\n  props: {\n    noPadding: {\n      type: Boolean,\n      default: false\n    },\n    onlyDot: {\n      type: Boolean,\n      default: false\n    },\n    studio: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.studio-name {\n  display: inline-block;\n  color: var(--text);\n  padding: 0.2em 0.6em;\n  white-space: nowrap;\n\n  &.no-padding {\n    padding: 0;\n  }\n}\n\n.square {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n}\n\n.name {\n  margin-left: 0.3em;\n}\n</style>\n","<template>\n  <div>\n    <label class=\"label\" v-if=\"label.length\">\n      {{ label }}\n    </label>\n    <div\n      class=\"studio-combo\"\n      :class=\"{\n        opened: showStudioList,\n        rounded\n      }\"\n      :style=\"{ width: `${width}px` }\"\n    >\n      <div class=\"flexrow\" @click=\"toggleStudioList\">\n        <div class=\"selected-studio-line flexrow-item\">\n          <studio-name :studio=\"currentStudio\" v-if=\"currentStudio\" />\n        </div>\n        <chevron-down-icon class=\"down-icon flexrow-item\" />\n      </div>\n      <div\n        class=\"select-input\"\n        :style=\"{\n          'max-height': `${maxHeightSelectInput}px`,\n          width: `${width}px`,\n          top: rounded ? '30px' : '37px'\n        }\"\n        v-if=\"showStudioList\"\n      >\n        <div\n          class=\"studio-line\"\n          :key=\"studio.id\"\n          @click=\"selectStudio(studio)\"\n          v-for=\"studio in studioList\"\n        >\n          <studio-name :studio=\"studio\" />\n        </div>\n      </div>\n    </div>\n    <combobox-mask :displayed=\"showStudioList\" @click=\"toggleStudioList\" />\n  </div>\n</template>\n\n<script>\nimport { ChevronDownIcon } from 'lucide-vue-next'\nimport { mapGetters } from 'vuex'\n\nimport ComboboxMask from '@/components/widgets/ComboboxMask.vue'\nimport StudioName from '@/components/widgets/StudioName.vue'\n\nexport default {\n  name: 'combobox-studio',\n\n  components: {\n    ChevronDownIcon,\n    ComboboxMask,\n    StudioName\n  },\n\n  emits: ['update:modelValue'],\n\n  data() {\n    return {\n      showStudioList: false\n    }\n  },\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    maxHeightSelectInput: {\n      default: 200,\n      type: Number\n    },\n    rounded: {\n      default: false,\n      type: Boolean\n    },\n    modelValue: {\n      default: '',\n      type: String\n    },\n    width: {\n      default: 250,\n      type: Number\n    },\n    withEmptyChoice: {\n      default: true,\n      type: Boolean\n    }\n  },\n\n  computed: {\n    ...mapGetters(['studios', 'studioMap']),\n\n    studioList() {\n      const studios = [...this.studios]\n\n      if (this.withEmptyChoice) {\n        return [\n          {\n            color: '#aaa',\n            id: null,\n            name: this.$t('studios.no_studio')\n          },\n          ...studios\n        ]\n      }\n      return studios\n    },\n\n    currentStudio() {\n      if (!this.modelValue) {\n        return this.studioList[0]\n      }\n      return (\n        this.studioMap.get(this.modelValue) ??\n        this.studioList.find(({ id }) => id === this.modelValue)\n      )\n    }\n  },\n\n  methods: {\n    selectStudio(studio) {\n      this.$emit('update:modelValue', studio.id)\n      this.showStudioList = false\n    },\n\n    toggleStudioList() {\n      this.showStudioList = !this.showStudioList\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .select-input,\n  .selected-studio-line,\n  .studio-line,\n  .studio-combo {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n  }\n\n  .studio-line:hover {\n    background: $dark-purple;\n  }\n}\n\n.studio-combo {\n  background: $white;\n  border: 1px solid $light-grey-light;\n  user-select: none;\n  cursor: pointer;\n  border-radius: 10px;\n  margin: 0;\n  padding: 0.15em;\n  position: relative;\n\n  &:hover {\n    border: 1px solid $green;\n  }\n}\n\n.selected-studio-line {\n  background: $white;\n  padding: 0.2em;\n  flex: 1;\n}\n\n.studio-line {\n  background: $white;\n  cursor: pointer;\n  padding: 0.2em;\n  margin: 0;\n\n  &:hover {\n    background: $purple;\n  }\n}\n\n.down-icon {\n  color: $green;\n  cursor: pointer;\n  width: 15px;\n  min-width: 15px;\n  margin-right: 0.4em;\n}\n\n.select-input {\n  background: $white;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  position: absolute;\n  border: 1px solid $light-grey-light;\n  z-index: 300;\n  margin-left: -1px;\n  max-height: 200px;\n  overflow-y: auto;\n  left: 0;\n}\n\n.field .label {\n  padding-top: 5px;\n}\n\n.rounded {\n  border-radius: 10px;\n\n  &.opened {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  .selected-studio-line {\n    padding-top: 0;\n\n    padding-bottom: 0;\n    border-radius: 50px;\n  }\n}\n</style>\n"],"names":["_sfc_main","_hoisted_1","_createElementBlock","_normalizeClass","$props","_createElementVNode","_normalizeStyle","_createCommentVNode","_openBlock","_hoisted_2","_toDisplayString","ChevronDownIcon","ComboboxMask","StudioName","mapGetters","studios","id","studio","_hoisted_3","$data","$options","args","_createBlock","_component_studio_name","_createVNode","_component_chevron_down_icon","_Fragment","_renderList","$event","_component_combobox_mask"],"mappings":"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"}