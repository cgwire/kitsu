{"version":3,"file":"ResetPassword-DzUXEVhp.js","sources":["../../src/components/pages/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"hero is-fullheight\">\n    <div class=\"container has-text-centered\">\n      <div class=\"box has-text-left\">\n        <div class=\"has-text-centered\">\n          <h1 class=\"title\">\n            {{ $t('login.reset_password_title') }}\n          </h1>\n        </div>\n\n        <div class=\"field mt2\">\n          <p class=\"control has-icon\">\n            <input\n              class=\"input is-medium email\"\n              type=\"email\"\n              :placeholder=\"$t('login.fields.email')\"\n              @keyup.enter=\"confirmResetPassword\"\n              v-model.trim=\"email\"\n              v-focus\n            />\n            <span class=\"icon\">\n              <mail-icon :size=\"20\" />\n            </span>\n          </p>\n        </div>\n\n        <p class=\"control\" v-if=\"!isSuccess\">\n          <a\n            class=\"button main-button is-fullwidth\"\n            :class=\"{\n              'is-loading': isLoading\n            }\"\n            @click=\"confirmResetPassword\"\n          >\n            {{ $t('login.reset_password') }}\n          </a>\n        </p>\n        <p class=\"success\" v-if=\"isSuccess\">\n          {{ $t('login.reset_password_succeed') }}\n        </p>\n        <p class=\"error\" v-else-if=\"isInactive\">\n          {{ $t('login.reset_password_inactive') }}\n        </p>\n        <p class=\"error\" v-else-if=\"isError\">\n          {{ $t('login.reset_password_failed') }}\n        </p>\n        <p class=\"has-text-centered\">\n          <router-link :to=\"{ name: 'login' }\">\n            {{ isSuccess ? $t('login.back_to_login') : $t('login.login_page') }}\n          </router-link>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nimport { MailIcon } from 'lucide-vue-next'\n\nexport default {\n  name: 'reset-password',\n\n  components: {\n    MailIcon\n  },\n\n  data() {\n    return {\n      email: '',\n      isLoading: false,\n      isInactive: false,\n      isError: false,\n      isSuccess: false\n    }\n  },\n\n  mounted() {\n    this.email = this.$store.state.login.email\n  },\n\n  methods: {\n    ...mapActions(['resetPassword']),\n\n    async confirmResetPassword() {\n      this.isLoading = true\n      this.isInactive = false\n      this.isError = false\n      this.isSuccess = false\n      try {\n        await this.resetPassword(this.email)\n        this.isSuccess = true\n      } catch (error) {\n        if (error.body?.message?.includes('inactive')) {\n          this.isInactive = true\n        } else {\n          this.isError = true\n        }\n      } finally {\n        this.isLoading = false\n      }\n    }\n  },\n\n  head() {\n    return {\n      title: this.$t('login.reset_password_title')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.input {\n  height: 3em;\n  padding: 1.5em;\n  border-radius: 4px;\n\n  &::placeholder {\n    color: $grey;\n  }\n\n  &:focus {\n    border: 1px solid $green;\n  }\n}\n\n.icon {\n  padding: 0.25em;\n}\n</style>\n"],"names":["_sfc_main","MailIcon","mapActions","error","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_14","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_ctx","_cache","_withKeys","$options","args","$event","$data","_createVNode","_component_mail_icon","_createCommentVNode","_hoisted_10","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","_component_router_link","_withCtx","_createTextVNode"],"mappings":"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"}