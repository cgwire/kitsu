{"version":3,"file":"ConceptCard-DAC4QC1N.js","sources":["../../src/components/widgets/ConceptCard.vue"],"sourcesContent":["<template>\n  <div class=\"concept-item\" @click=\"$emit('click')\">\n    <entity-preview\n      :entity=\"concept\"\n      :empty-height=\"200\"\n      :empty-width=\"300\"\n      :height=\"200\"\n      :width=\"300\"\n      is-rounded-top-border\n    />\n    <div class=\"description\">\n      <ul class=\"tags\">\n        <li\n          :key=\"entity.id\"\n          class=\"tag\"\n          @click.stop\n          v-for=\"entity in linkedEntities\"\n        >\n          <router-link :to=\"entityPath(entity, 'asset')\">\n            {{ entity.name }}\n          </router-link>\n        </li>\n      </ul>\n      <div class=\"status\" v-if=\"hasTask\">\n        <span\n          class=\"tag\"\n          :style=\"{\n            backgroundColor: taskStatus.color,\n            color: 'white'\n          }\"\n        >\n          {{ taskStatus.short_name }}\n        </span>\n        <people-avatar\n          :font-size=\"14\"\n          :is-link=\"false\"\n          :person=\"personMap.get(concept.created_by)\"\n          :size=\"25\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { getEntityPath } from '@/lib/path'\n\nimport assetsStore from '@/store/modules/assets.js'\nimport EntityPreview from '@/components/widgets/EntityPreview.vue'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar.vue'\n\nexport default {\n  name: 'concept-card',\n\n  components: {\n    EntityPreview,\n    PeopleAvatar\n  },\n\n  props: {\n    concept: {\n      type: Object,\n      required: true\n    }\n  },\n\n  emits: ['click'],\n\n  computed: {\n    ...mapGetters([\n      'assetMap',\n      'currentProduction',\n      'isTVShow',\n      'personMap',\n      'taskStatusMap'\n    ]),\n\n    assetMap() {\n      return assetsStore.cache.assetMap\n    },\n\n    linkedEntities() {\n      return this.concept.entity_concept_links\n        .map(id => this.assetMap.get(id))\n        .filter(Boolean)\n    },\n\n    hasTask() {\n      return this.concept.tasks?.length\n    },\n\n    taskStatus(concept) {\n      return this.taskStatusMap.get(this.concept.tasks[0].task_status_id)\n    }\n  },\n\n  methods: {\n    entityPath(entity, section) {\n      const episodeId = this.isTVShow ? entity.episode_id || 'main' : null\n      return getEntityPath(\n        entity.id,\n        this.currentProduction.id,\n        section,\n        episodeId,\n        { section: 'concepts' }\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.concept-item {\n  border-radius: 1em;\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.1);\n}\n\n.description {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  flex-wrap: wrap;\n  margin: 0;\n  padding: 0.3em;\n  row-gap: 10px;\n  min-height: 70px;\n}\n\n.tags {\n  display: inline-flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  min-height: 20px;\n  margin-left: 0;\n  padding-top: 0.5em;\n  flex: 1;\n\n  .tag {\n    cursor: pointer;\n    transition: transform 0.1s linear;\n\n    &:hover {\n      transform: scale(1.1);\n    }\n  }\n}\n\n.tag {\n  font-weight: 500;\n  letter-spacing: 1px;\n}\n\n.status {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .tag {\n    text-transform: uppercase;\n  }\n}\n</style>\n"],"names":["_sfc_main","EntityPreview","PeopleAvatar","mapGetters","assetsStore","id","concept","entity","section","episodeId","getEntityPath","_hoisted_1","_hoisted_2","_createElementBlock","_ctx","_createVNode","_component_entity_preview","$props","_createElementVNode","_openBlock","_Fragment","_renderList","$options","_cache","_withModifiers","_component_router_link","_withCtx","_createTextVNode","_toDisplayString","_hoisted_3","_normalizeStyle","_component_people_avatar","_createCommentVNode"],"mappings":"2KAoDA,MAAKA,EAAU,CACb,KAAM,eAEN,WAAY,CACV,cAAAC,EACA,aAAAC,GAGF,MAAO,CACL,QAAS,CACP,KAAM,OACN,SAAU,EACZ,GAGF,MAAO,CAAC,OAAO,EAEf,SAAU,CACR,GAAGC,EAAW,CACZ,WACA,oBACA,WACA,YACA,eACF,CAAC,EAED,UAAW,CACT,OAAOC,EAAY,MAAM,QAC3B,EAEA,gBAAiB,CACf,OAAO,KAAK,QAAQ,qBACjB,IAAIC,GAAM,KAAK,SAAS,IAAIA,CAAE,CAAC,EAC/B,OAAO,OAAO,CACnB,EAEA,SAAU,CACR,OAAO,KAAK,QAAQ,OAAO,MAC7B,EAEA,WAAWC,EAAS,CAClB,OAAO,KAAK,cAAc,IAAI,KAAK,QAAQ,MAAM,CAAC,EAAE,cAAc,CACpE,GAGF,QAAS,CACP,WAAWC,EAAQC,EAAS,CAC1B,MAAMC,EAAY,KAAK,SAAWF,EAAO,YAAc,OAAS,KAChE,OAAOG,EACLH,EAAO,GACP,KAAK,kBAAkB,GACvBC,EACAC,EACA,CAAE,QAAS,UAAS,CACtB,CACF,CACF,CACF,EAnGSE,EAAA,CAAA,MAAM,aAAa,EAClBC,EAAA,CAAA,MAAM,MAAM,KAXtB,IAAA,EAuBW,MAAM,iHAtBfC,EAwCM,MAAA,CAxCD,MAAM,eAAgB,uBAAOC,EAAA,MAAK,OAAA,KACrCC,EAOEC,EAAA,CANC,OAAQC,EAAA,QACR,eAAc,IACd,cAAa,IACb,OAAQ,IACR,MAAO,IACR,wBAAA,uBAEFC,EA8BM,MA9BNP,EA8BM,CA7BJO,EAWK,KAXLN,EAWK,EAVHO,EAAA,EAAA,EAAAN,EASKO,EAAA,KArBbC,EAgB2BC,EAAA,eAAVf,QAJTM,EASK,KAAA,CARF,IAAKN,EAAO,GACb,MAAM,MACL,QAAKgB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAfhBC,EAeU,IAAA,CAAA,EAAW,CAAA,MAAA,CAAA,KAGXT,EAEcU,EAAA,CAFA,GAAIH,EAAA,WAAWf,EAAM,OAAA,IAlB7C,QAAAmB,EAmBY,IAAiB,CAnB7BC,EAAAC,EAmBerB,EAAO,IAAI,EAAA,CAAA,IAnB1B,EAAA,4BAuBgCe,EAAA,SAA1BH,IAAAN,EAgBM,MAhBNgB,EAgBM,CAfJX,EAQO,OAAA,CAPL,MAAM,MACL,MA1BXY,EAAA,CA0BiD,gBAAAR,EAAA,WAAW,qBAK/C,EAAAM,EAAAN,EAAA,WAAW,UAAU,EAAA,CAAA,EAE1BP,EAKEgB,EAAA,CAJC,YAAW,GACX,UAAS,GACT,OAAQjB,EAAA,UAAU,IAAIG,EAAA,QAAQ,UAAU,EACxC,KAAM,0BArCjBe,EAAA,GAAA,EAAA"}