{"version":3,"file":"PeopleAvatarWithMenu-D7gU8e0Z.js","sources":["../../src/components/widgets/PeopleAvatarWithMenu.vue"],"sourcesContent":["<template>\n  <div class=\"avatar-wrapper\">\n    <span\n      class=\"avatar has-text-centered\"\n      :class=\"{ bot: person.is_bot }\"\n      :title=\"person.full_name\"\n      :style=\"style\"\n    >\n      <img\n        :loading=\"isLazy ? 'lazy' : undefined\"\n        alt=\"\"\n        :src=\"person.avatarPath\"\n        v-if=\"person.has_avatar\"\n      />\n      <template v-else>{{ person.initials }}</template>\n    </span>\n\n    <div class=\"avatar-menu\">\n      <router-link\n        :to=\"{ name: 'person', params: { person_id: person.id } }\"\n        class=\"menu-button flexrow\"\n      >\n        <user-icon class=\"flexrow-item\" :size=\"16\" />\n        <span class=\"flexrow-item\">\n          {{ $t('main.avatar.open_page', { personName: person.name }) }}\n        </span>\n      </router-link>\n      <div class=\"menu-button flexrow\" @click.stop=\"$emit('unassign', person)\">\n        <user-minus-icon class=\"flexrow-item\" :size=\"16\" />\n        <span class=\"flexrow-item\">\n          {{ $t('main.avatar.unassign', { personName: person.name }) }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { UserIcon, UserMinusIcon } from 'lucide-vue-next'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'people-avatar-with-menu',\n\n  components: {\n    UserIcon,\n    UserMinusIcon\n  },\n\n  props: {\n    person: {\n      type: Object,\n      default: () => ({\n        id: 'empty',\n        color: '#FFF'\n      })\n    },\n    size: {\n      type: Number,\n      default: 40\n    },\n    fontSize: {\n      type: Number,\n      default: 18\n    },\n    isLazy: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  emits: ['unassign'],\n\n  computed: {\n    ...mapGetters(['isDarkTheme']),\n\n    style() {\n      return {\n        color: this.isDarkTheme ? '#333' : '#FFF',\n        'font-weight': this.isDarkTheme ? 'bold' : 'normal',\n        width: `${this.size}px`,\n        height: `${this.size}px`,\n        fontSize: `${this.fontSize}px`,\n        backgroundColor: this.person.color\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.avatar {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  a {\n    padding: 0;\n    margin: 0;\n  }\n\n  img {\n    max-height: 100%;\n    height: 100%;\n    width: 100%;\n  }\n}\n\n.flexrow-item {\n  margin-right: 10px;\n}\n\n.avatar-wrapper {\n  position: relative;\n\n  .avatar-menu {\n    background: var(--background-alt);\n    border-radius: 5px;\n    box-shadow: 0 2px 6px var(--box-shadow);\n    display: none;\n    left: -3px;\n    padding: 0.5em;\n    position: absolute;\n    visibility: hidden;\n    width: 250px;\n    z-index: 3;\n  }\n\n  .menu-button {\n    align-items: center;\n    color: var(--text);\n    border-radius: 5px;\n    padding: 5px;\n\n    &:first-child {\n      color: var(--text);\n      margin-bottom: 0.5em;\n    }\n\n    &:last-child {\n      margin-top: 0.5em;\n    }\n\n    &:hover {\n      background: var(--background-hover);\n    }\n  }\n\n  &:hover {\n    .avatar-menu {\n      display: inline-block;\n      visibility: visible;\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","UserIcon","UserMinusIcon","mapGetters","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","$props","_normalizeStyle","$options","_Fragment","_createTextVNode","_toDisplayString","_createVNode","_component_router_link","_withCtx","_component_user_icon","_ctx","_cache","_withModifiers","$event","_component_user_minus_icon"],"mappings":"kNAyCA,MAAKA,EAAU,CACb,KAAM,0BAEN,WAAY,CACV,SAAAC,gBACAC,GAGF,MAAO,CACL,OAAQ,CACN,KAAM,OACN,QAAS,KAAO,CACd,GAAI,QACJ,MAAO,UAGX,KAAM,CACJ,KAAM,OACN,QAAS,IAEX,SAAU,CACR,KAAM,OACN,QAAS,IAEX,OAAQ,CACN,KAAM,QACN,QAAS,EACX,GAGF,MAAO,CAAC,UAAU,EAElB,SAAU,CACR,GAAGC,EAAW,CAAC,aAAa,CAAC,EAE7B,OAAQ,CACN,MAAO,CACL,MAAO,KAAK,YAAc,OAAS,OACnC,cAAe,KAAK,YAAc,OAAS,SAC3C,MAAO,GAAG,KAAK,IAAI,KACnB,OAAQ,GAAG,KAAK,IAAI,KACpB,SAAU,GAAG,KAAK,QAAQ,KAC1B,gBAAiB,KAAK,OAAO,KAC/B,CACF,CACF,CACF,EAtFOC,EAAA,CAAA,MAAM,gBAAgB,EAD7BC,EAAA,CAAA,OAAA,EAAAC,EAAA,CAAA,UAAA,KAAA,EAiBSC,EAAA,CAAA,MAAM,aAAa,EAMdC,EAAA,CAAA,MAAM,cAAc,EAMpBC,EAAA,CAAA,MAAM,cAAc,2FA5BhC,OAAAC,EAAA,EAAAC,EAiCM,MAjCNP,EAiCM,CAhCJQ,EAaO,OAAA,CAZL,MAHNC,EAAA,CAGY,2BAA0B,CAAA,IACjBC,EAAA,OAAO,MAAM,CAAA,CAAA,EAC3B,MAAOA,EAAA,OAAO,UACd,MANPC,EAMcC,EAAA,KAAK,IAMLF,EAAA,OAAO,gBAJfH,EAKE,MAAA,CAbR,IAAA,EASS,QAASG,EAAA,OAAM,OAAY,OAC5B,IAAI,GACH,IAAKA,EAAA,OAAO,UAXrB,EAAA,KAAA,EAAAR,CAAA,IAcMI,EAAA,EAAAC,EAAiDM,GAdvD,IAAA,CAAA,EAAA,CAAAC,EAAAC,EAc0BL,EAAA,OAAO,QAAQ,EAAA,CAAA,OAdzC,EAAA,GAAAT,CAAA,EAiBIO,EAgBM,MAhBNL,EAgBM,CAfJa,EAQcC,EAAA,CAPX,GAAE,CAAA,KAAA,SAAA,OAAA,CAAA,UAAyCP,EAAA,OAAO,GAAE,EACrD,MAAM,wBApBd,QAAAQ,EAsBQ,IAA6C,CAA7CF,EAA6CG,EAAA,CAAlC,MAAM,eAAgB,KAAM,KACvCX,EAEO,OAFPJ,EAEOW,EADFK,KAAE,wBAAA,CAAA,WAAwCV,EAAA,OAAO,IAAI,CAAA,CAAA,EAAA,CAAA,IAxBlE,EAAA,aA2BMF,EAKM,MAAA,CALD,MAAM,sBAAuB,QAAKa,EAAA,CAAA,IAAAA,EAAA,CAAA,EA3B7CC,EAAAC,GA2BoDH,EAAA,MAAK,WAAaV,EAAA,MAAM,EAAA,CAAA,MAAA,CAAA,KACpEM,EAAmDQ,EAAA,CAAlC,MAAM,eAAgB,KAAM,KAC7ChB,EAEO,OAFPH,EAEOU,EADFK,KAAE,uBAAA,CAAA,WAAuCV,EAAA,OAAO,IAAI,CAAA,CAAA,EAAA,CAAA"}