{"version":3,"file":"FirstConnection-D3x90Oe5.js","sources":["../../src/components/pages/FirstConnection.vue"],"sourcesContent":["<template>\n  <div class=\"hero is-fullheight\">\n    <div class=\"container has-text-centered\">\n      <div class=\"box has-text-left\">\n        <div class=\"has-text-centered login-header\">\n          <img src=\"../../assets/kitsu-text-dark.svg\" v-if=\"isDarkTheme\" />\n          <img src=\"../../assets/kitsu-text.svg\" v-else />\n        </div>\n\n        <div class=\"has-text-centered\">\n          <h1 class=\"title\">\n            {{ $t('login.first_connection_title') }}\n          </h1>\n          <p>\n            {{ $t('login.first_connection') }}\n          </p>\n          <p class=\"mt1\">\n            {{ $t('login.first_connection_2') }}\n          </p>\n        </div>\n\n        <div class=\"field mt2\">\n          <p class=\"control has-icon\">\n            <input\n              class=\"input is-medium email\"\n              type=\"email\"\n              :placeholder=\"$t('login.fields.email')\"\n              @keyup.enter=\"confirmResetPassword\"\n              v-model=\"email\"\n              v-focus\n            />\n            <span class=\"icon\">\n              <mail-icon :size=\"20\" />\n            </span>\n          </p>\n        </div>\n\n        <p class=\"control\">\n          <a\n            class=\"button main-button is-fullwidth\"\n            :class=\"{\n              'is-loading': isLoading\n            }\"\n            @click=\"confirmResetPassword\"\n            v-if=\"!isSuccess\"\n          >\n            {{ $t('login.reset_password') }}\n          </a>\n        </p>\n        <p class=\"error\" v-if=\"isError\">\n          {{ $t('login.reset_password_failed') }}\n        </p>\n        <p class=\"success\" v-if=\"isSuccess\">\n          {{ $t('login.reset_password_succeed') }}\n        </p>\n        <p class=\"has-text-centered\">\n          <router-link :to=\"{ name: 'login' }\">\n            <span v-if=\"isSuccess\">\n              {{ $t('login.back_to_login') }}\n            </span>\n          </router-link>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nimport { MailIcon } from 'lucide-vue-next'\n\nexport default {\n  name: 'first-connection',\n\n  components: {\n    MailIcon\n  },\n\n  data() {\n    return {\n      email: '',\n      isLoading: false,\n      isError: false,\n      isSuccess: false\n    }\n  },\n\n  mounted() {\n    this.email = this.$store.state.login.email\n    this.isLoading = false\n    this.isSuccess = false\n  },\n\n  computed: {\n    ...mapGetters(['isDarkTheme'])\n  },\n\n  methods: {\n    ...mapActions(['resetPassword']),\n\n    confirmResetPassword() {\n      this.isLoading = true\n      this.isError = false\n      this.isSuccess = false\n      this.resetPassword(this.email)\n        .then(() => {\n          this.isLoading = false\n          this.isSuccess = true\n        })\n        .catch(() => {\n          this.isLoading = false\n          this.isError = true\n          this.isSuccess = false\n        })\n    }\n  },\n\n  head() {\n    return {\n      title: this.$t('login.first_connection_title')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.input {\n  height: 3em;\n  padding: 1.5em;\n  border-radius: 1em;\n\n  &::placeholder {\n    color: #999;\n  }\n\n  &:focus {\n    border: 1px solid $green;\n  }\n}\n\n.icon {\n  padding: 0.25em;\n}\n\n.button {\n  border-radius: 1em;\n}\n\n.hero .container .box {\n  border-radius: 2em;\n}\n\nimg {\n  width: 150px;\n}\n</style>\n"],"names":["_sfc_main","MailIcon","mapGetters","mapActions","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_imports_0","_imports_1","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_17","_openBlock","_createElementBlock","_createElementVNode","_ctx","_hoisted_5","_hoisted_6","_toDisplayString","_cache","_withKeys","$options","args","$event","$data","_createVNode","_component_mail_icon","_createCommentVNode","_normalizeClass","_hoisted_15","_hoisted_16","_component_router_link","_withCtx","_hoisted_18"],"mappings":"2KAwEA,MAAKA,EAAU,CACb,KAAM,mBAEN,WAAY,CACVC,SAAAA,CACD,EAED,MAAO,CACL,MAAO,CACL,MAAO,GACP,UAAW,GACX,QAAS,GACT,UAAW,EACb,CACD,EAED,SAAU,CACR,KAAK,MAAQ,KAAK,OAAO,MAAM,MAAM,MACrC,KAAK,UAAY,GACjB,KAAK,UAAY,EAClB,EAED,SAAU,CACR,GAAGC,EAAW,CAAC,aAAa,CAAC,CAC9B,EAED,QAAS,CACP,GAAGC,EAAW,CAAC,eAAe,CAAC,EAE/B,sBAAuB,CACrB,KAAK,UAAY,GACjB,KAAK,QAAU,GACf,KAAK,UAAY,GACjB,KAAK,cAAc,KAAK,KAAK,EAC1B,KAAK,IAAM,CACV,KAAK,UAAY,GACjB,KAAK,UAAY,EAClB,CAAA,EACA,MAAM,IAAM,CACX,KAAK,UAAY,GACjB,KAAK,QAAU,GACf,KAAK,UAAY,EAClB,CAAA,CACL,CACD,EAED,MAAO,CACL,MAAO,CACL,MAAO,KAAK,GAAG,8BAA8B,CAC/C,CACF,CACF,EA1HOC,EAAA,CAAA,MAAM,oBAAoB,EACxBC,EAAA,CAAA,MAAM,6BAA6B,EACjCC,EAAA,CAAA,MAAM,mBAAmB,EACvBC,EAAA,CAAA,MAAM,gCAAgC,KAJnD,IAAA,EAKe,IAAAC,MALf,IAAA,EAMe,IAAAC,GAGFC,EAAA,CAAA,MAAM,mBAAmB,EACxBC,EAAA,CAAA,MAAM,OAAO,EAMdC,EAAA,CAAA,MAAM,KAAK,EAKXC,EAAA,CAAA,MAAM,WAAW,EACjBC,EAAA,CAAA,MAAM,kBAAkB,EAtBrCC,EAAA,CAAA,aAAA,EA+BkBC,EAAA,CAAA,MAAM,MAAM,EAMnBC,EAAA,CAAA,MAAM,SAAS,KArC1B,IAAA,EAiDW,MAAM,YAjDjB,IAAA,EAoDW,MAAM,WAGNC,EAAA,CAAA,MAAM,mBAAmB,KAvDpC,IAAA,CAAA,iFACE,OAAAC,EAAA,EAAAC,EA+DM,MA/DNhB,EA+DM,CA9DJiB,EA6DM,MA7DNhB,EA6DM,CA5DJgB,EA2DM,MA3DNf,EA2DM,CA1DJe,EAGM,MAHNd,EAGM,CAF8Ce,EAAW,aAA7DH,IAAAC,EAAiE,MAAjEG,CAAiE,IACjEJ,IAAAC,EAAgD,MAAhDI,CAAgD,KAGlDH,EAUM,MAVNX,EAUM,CATJW,EAEK,KAFLV,EAEKc,EADAH,EAAE,GAAA,8BAAA,CAAA,EAAA,CAAA,EAEPD,EAEI,WADCC,EAAE,GAAA,wBAAA,CAAA,EAAA,CAAA,EAEPD,EAEI,IAFJT,EAEIa,EADCH,EAAE,GAAA,0BAAA,CAAA,EAAA,CAAA,IAITD,EAcM,MAdNR,EAcM,CAbJQ,EAYI,IAZJP,EAYI,GAXFO,EAOE,QAAA,CANA,MAAM,wBACN,KAAK,QACJ,YAAaC,EAAE,GAAA,oBAAA,EACf,QAAKI,EAAA,CAAA,IAAAA,EAAA,CAAA,EA3BpBC,UA2B4BC,EAAoB,sBAAAA,EAAA,qBAAA,GAAAC,CAAA,EAAA,CAAA,OAAA,CAAA,GA3BhD,sBAAAH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GA4BuBC,EAAK,MAAAD,EA5B5B,EAAA,KAAA,GAAAf,CAAA,EAAA,IA4BuBgB,EAAK,KAAA,QAGhBV,EAEO,OAFPL,EAEO,CADLgB,EAAwBC,EAAA,CAAZ,KAAM,EAAE,CAAA,QAK1BZ,EAWI,IAXJJ,EAWI,CAJOc,EAAS,UA5C5BG,EAAA,GAAA,EAAA,OAsCUd,EASI,IAAA,CA/Cd,IAAA,EAuCY,MAvCZe,GAuCkB,kCAAiC,cACDJ,EAAS,aAG9C,4BAAOH,EAAoB,sBAAAA,EAAA,qBAAA,GAAAC,CAAA,MAGzBP,EAAE,GAAA,sBAAA,CAAA,EAAA,CAAA,KAGcS,EAAO,aAA9BX,EAEI,IAFJgB,EAEIX,EADCH,EAAE,GAAA,6BAAA,CAAA,EAAA,CAAA,GAlDfY,EAAA,GAAA,EAAA,EAoDiCH,EAAS,eAAlCX,EAEI,IAFJiB,EAEIZ,EADCH,EAAE,GAAA,8BAAA,CAAA,EAAA,CAAA,GArDfY,EAAA,GAAA,EAAA,EAuDQb,EAMI,IANJH,EAMI,CALFc,EAIcM,EAAA,CAJA,GAAI,CAAiB,KAAA,OAAA,GAAA,CAxD7C,QAAAC,EAyDY,IAEO,CAFKR,EAAS,eAArBX,EAEO,OA3DnBoB,IA0DiBlB,EAAE,GAAA,qBAAA,CAAA,EAAA,CAAA,GA1DnBY,EAAA,GAAA,EAAA,IAAA,EAAA"}