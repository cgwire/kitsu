import{_ as f,aH as _,W as g,b,r,o as s,c as l,t as w,h as c,d,g as h,f as p,i as L,n as y,F as v,e as C,aI as x}from"./index-C2m_IhNF.js";import{T as B}from"./TaskTypeName-bEgQZfX7.js";const P={name:"combobox-task-type",components:{ChevronDownIcon:g,ComboboxMask:_,TaskTypeName:B},emits:["change","update:modelValue"],data(){return{showTaskTypeList:!1,tooltipPosition:{top:0,left:0}}},props:{disabled:{default:!1,type:Boolean},label:{default:"",type:String},taskTypeList:{default:()=>[],type:Array},modelValue:{default:"",type:String},shy:{default:!1,type:Boolean},addPlaceholder:{default:!1,type:Boolean},placeholder:{type:String},openTop:{default:!1,type:Boolean},withMargin:{default:!0,type:Boolean}},computed:{...b(["taskTypeMap","isDarkTheme"]),currentTaskType(){return this.modelValue?this.taskTypeMap.get(this.modelValue):this.addPlaceholder?{name:this.placeholder??this.defaultPlaceholder,color:"#E5E5E5",id:""}:this.taskTypeList[0]},defaultPlaceholder(){return this.$t("task_types.add_task_type_placeholder")},tooltipStyle(){return{top:this.tooltipPosition.top+"px",left:this.tooltipPosition.left+"px"}}},methods:{selectTaskType(o){this.$emit("update:modelValue",o.id),this.$emit("change",o.id),this.showTaskTypeList=!1},toggleTaskTypeList(o){if(this.disabled||(this.showTaskTypeList=!this.showTaskTypeList,!this.showTaskTypeList))return;const e=o.currentTarget.getBoundingClientRect(),m=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft;this.tooltipPosition={top:e.top+m+35,left:e.left+i}}}},V={key:0,class:"label"},D={class:"selected-task-type-line flexrow-item"},S=["onClick"];function E(o,n,e,m,i,t){const u=r("task-type-name"),k=r("chevron-down-icon"),T=r("combobox-mask");return s(),l("div",{class:y({field:e.withMargin})},[e.label.length>0?(s(),l("label",V,w(e.label),1)):c("",!0),d("div",{class:y(["task-type-combo",{disabled:e.disabled,shy:e.shy}])},[d("div",{class:"flexrow selector",onClick:n[0]||(n[0]=(...a)=>t.toggleTaskTypeList&&t.toggleTaskTypeList(...a))},[d("div",D,[t.currentTaskType?(s(),h(u,{key:0,"task-type":t.currentTaskType},null,8,["task-type"])):c("",!0)]),p(k,{class:"ml05 down-icon flexrow-item"})]),(s(),h(x,{to:"body"},[i.showTaskTypeList?(s(),l("div",{key:0,class:y(["select-input",[{"open-top":e.openTop},{dark:o.isDarkTheme}]]),style:L(t.tooltipStyle)},[(s(!0),l(v,null,C(e.taskTypeList,a=>(s(),l("div",{class:"task-type-line",key:a.id,onClick:M=>!e.disabled&&t.selectTaskType(a)},[p(u,{"task-type":a},null,8,["task-type"])],8,S))),128))],6)):c("",!0)]))],2),p(T,{displayed:i.showTaskTypeList,onClick:t.toggleTaskTypeList},null,8,["displayed","onClick"])],2)}const z=f(P,[["render",E],["__scopeId","data-v-e042e90c"]]);export{z as C};
//# sourceMappingURL=ComboboxTaskType-CiBcPUsC.js.map
