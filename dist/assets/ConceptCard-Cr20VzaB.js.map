{"version":3,"file":"ConceptCard-Cr20VzaB.js","sources":["../../src/components/widgets/ConceptCard.vue"],"sourcesContent":["<template>\n  <div class=\"concept-item\">\n    <entity-preview\n      :entity=\"concept\"\n      :empty-height=\"200\"\n      :empty-width=\"300\"\n      :height=\"200\"\n      :width=\"300\"\n      is-rounded-top-border\n    />\n    <div class=\"description\">\n      <ul class=\"tags\">\n        <li\n          :key=\"entity.id\"\n          class=\"tag\"\n          @click.stop\n          v-for=\"entity in linkedEntities\"\n        >\n          <router-link :to=\"entityPath(entity, 'asset')\">\n            {{ entity.name }}\n          </router-link>\n        </li>\n      </ul>\n      <div class=\"status\" v-if=\"hasTask\">\n        <span\n          class=\"tag\"\n          :style=\"{\n            backgroundColor: taskStatus.color,\n            color: 'white'\n          }\"\n        >\n          {{ taskStatus.short_name }}\n        </span>\n        <people-avatar\n          :font-size=\"14\"\n          :is-link=\"false\"\n          :person=\"personMap.get(concept.created_by)\"\n          :size=\"25\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { getEntityPath } from '@/lib/path'\n\nimport EntityPreview from '@/components/widgets/EntityPreview'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar'\n\nexport default {\n  name: 'concept-card',\n\n  components: {\n    EntityPreview,\n    PeopleAvatar\n  },\n\n  props: {\n    concept: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {}\n  },\n\n  mounted() {},\n\n  computed: {\n    ...mapGetters([\n      'assetMap',\n      'currentProduction',\n      'isTVShow',\n      'personMap',\n      'taskStatusMap'\n    ]),\n\n    linkedEntities() {\n      return this.concept.entity_concept_links\n        .map(id => this.assetMap.get(id))\n        .filter(Boolean)\n    },\n\n    hasTask() {\n      return this.concept.tasks?.length\n    },\n\n    taskStatus(concept) {\n      return this.taskStatusMap.get(this.concept.tasks[0].task_status_id)\n    }\n  },\n\n  methods: {\n    entityPath(entity, section) {\n      const episodeId = this.isTVShow ? entity.episode_id || 'main' : null\n      return getEntityPath(\n        entity.id,\n        this.currentProduction.id,\n        section,\n        episodeId,\n        { section: 'concepts' }\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.concept-item {\n  border-radius: 1em;\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.1);\n}\n\n.description {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  flex-wrap: wrap;\n  margin: 0;\n  padding: 0.3em;\n  row-gap: 10px;\n  min-height: 70px;\n}\n\n.tags {\n  display: inline-flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  min-height: 20px;\n  margin-left: 0;\n  padding-top: 0.5em;\n  flex: 1;\n\n  .tag {\n    cursor: pointer;\n    transition: transform 0.1s linear;\n\n    &:hover {\n      transform: scale(1.1);\n    }\n  }\n}\n\n.tag {\n  font-weight: 500;\n  letter-spacing: 1px;\n}\n\n.status {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .tag {\n    text-transform: uppercase;\n  }\n}\n</style>\n"],"names":["_sfc_main","EntityPreview","PeopleAvatar","mapGetters","id","_a","concept","entity","section","episodeId","getEntityPath"],"mappings":"uEAoDA,MAAAA,EAAA,CACA,KAAA,eAEA,WAAA,CACA,cAAAC,EACA,aAAAC,CACA,EAEA,MAAA,CACA,QAAA,CACA,KAAA,OACA,SAAA,EACA,CACA,EAEA,MAAA,CACA,MAAA,CAAA,CACA,EAEA,SAAA,CAAA,EAEA,SAAA,CACA,GAAAC,EAAA,CACA,WACA,oBACA,WACA,YACA,eACA,CAAA,EAEA,gBAAA,CACA,OAAA,KAAA,QAAA,qBACA,IAAAC,GAAA,KAAA,SAAA,IAAAA,CAAA,CAAA,EACA,OAAA,OAAA,CACA,EAEA,SAAA,OACA,OAAAC,EAAA,KAAA,QAAA,QAAA,YAAAA,EAAA,MACA,EAEA,WAAAC,EAAA,CACA,OAAA,KAAA,cAAA,IAAA,KAAA,QAAA,MAAA,CAAA,EAAA,cAAA,CACA,CACA,EAEA,QAAA,CACA,WAAAC,EAAAC,EAAA,CACA,MAAAC,EAAA,KAAA,SAAAF,EAAA,YAAA,OAAA,KACA,OAAAG,EACAH,EAAA,GACA,KAAA,kBAAA,GACAC,EACAC,EACA,CAAA,QAAA,UAAA,CACA,CACA,CACA,CACA"}