{"version":3,"file":"EditTaskStatusModal-BemNlHXv.js","sources":["../../src/components/modals/EditTaskStatusModal.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"{\n      modal: true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n\n    <div class=\"modal-content\">\n      <div class=\"box\">\n        <h1 class=\"title\" v-if=\"isEditing\">\n          {{ $t('task_status.edit_title') }} {{ taskStatusToEdit.name }}\n        </h1>\n        <h1 class=\"title\" v-else>\n          {{ $t('task_status.new_task_status') }}\n        </h1>\n\n        <form @submit.prevent>\n          <text-field\n            ref=\"nameField\"\n            input-class=\"task-status-name\"\n            :label=\"$t('task_status.fields.name')\"\n            @enter=\"confirmClicked\"\n            v-model.trim=\"form.name\"\n            v-focus\n            v-if=\"taskStatusToEdit?.short_name !== 'todo'\"\n          />\n          <text-field\n            ref=\"shortNameField\"\n            input-class=\"task-status-short-name\"\n            :label=\"$t('task_status.fields.short_name')\"\n            :maxlength=\"8\"\n            @enter=\"confirmClicked\"\n            v-model.trim=\"form.short_name\"\n            v-if=\"taskStatusToEdit?.short_name !== 'todo'\"\n          />\n          <textarea-field\n            input-class=\"task-status-description\"\n            :label=\"$t('task_status.fields.description')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.description\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_default')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_default\"\n            :disabled=\"form.for_concept === 'true'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_wip')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_wip\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_done')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_done\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_retake')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_retake\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_artist_allowed')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_artist_allowed\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_client_allowed')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_client_allowed\"\n            v-if=\"form.for_concept !== 'true'\"\n          />\n          <boolean-field\n            class=\"mr05 mb05\"\n            :label=\"$t('task_status.fields.is_feedback_request')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.is_feedback_request\"\n            v-if=\"form.is_default === 'false'\"\n          />\n          <color-field\n            class=\"mt2\"\n            :colors=\"colors\"\n            :column=\"5\"\n            :label=\"$t('task_status.fields.color')\"\n            v-model=\"form.color\"\n            v-if=\"taskStatusToEdit?.short_name !== 'todo'\"\n          />\n          <combobox-boolean\n            :label=\"$t('main.archived')\"\n            @enter=\"confirmClicked\"\n            v-model=\"form.archived\"\n            v-if=\"isEditing\"\n          />\n        </form>\n\n        <modal-footer\n          :error-text=\"$t('task_status.create_error')\"\n          :is-error=\"isError\"\n          :is-loading=\"isLoading\"\n          @confirm=\"confirmClicked\"\n          @cancel=\"$emit('cancel')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport BooleanField from '@/components/widgets/BooleanField.vue'\nimport ColorField from '@/components/widgets/ColorField.vue'\nimport ComboboxBoolean from '@/components/widgets/ComboboxBoolean.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\nimport TextField from '@/components/widgets/TextField.vue'\nimport TextareaField from '@/components/widgets/TextareaField.vue'\n\nexport default {\n  name: 'edit-task-status-modal',\n\n  mixins: [modalMixin],\n\n  components: {\n    BooleanField,\n    ColorField,\n    ComboboxBoolean,\n    ModalFooter,\n    TextField,\n    TextareaField\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    taskStatusToEdit: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      form: {\n        name: '',\n        short_name: '',\n        description: '',\n        color: '#999999',\n        is_default: 'false',\n        is_wip: 'false',\n        is_done: 'false',\n        is_retake: 'false',\n        is_feedback_request: 'false',\n        archived: 'false'\n      },\n      colors: [\n        '#999999',\n        '#CCCCCC',\n        '#F5F5F5',\n        '#CC9999',\n        '#FF3860',\n        '#E81123',\n        '#E74C3C',\n        '#FF5722',\n        '#FF7043',\n        '#FFA000',\n        '#FBC02D',\n        '#AFB42B',\n        '#8BC34A',\n        '#66BB6A',\n        '#22D160',\n        '#4DB6AC',\n        '#03A9F4',\n        '#3273DC',\n        '#3498DB',\n        '#2980B9',\n        '#607D8B',\n        '#8764B8',\n        '#AB26FF',\n        '#E040FB',\n        '#FF80AB'\n      ]\n    }\n  },\n\n  computed: {\n    isEditing() {\n      return this.taskStatusToEdit && this.taskStatusToEdit.id\n    }\n  },\n\n  methods: {\n    confirmClicked() {\n      if (!this.form.name?.length && this.$refs.nameField) {\n        this.$refs.nameField.focus()\n        return\n      }\n      if (!this.form.short_name?.length && this.$refs.shortNameField) {\n        this.$refs.shortNameField.focus()\n        return\n      }\n      this.$emit('confirm', this.form)\n    },\n\n    resetForm() {\n      if (this.taskStatusToEdit) {\n        this.form = {\n          name: this.taskStatusToEdit.name,\n          short_name: this.taskStatusToEdit.short_name,\n          description: this.taskStatusToEdit.description,\n          color: this.taskStatusToEdit.color,\n          is_default: String(this.taskStatusToEdit.is_default || false),\n          is_wip: String(this.taskStatusToEdit.is_wip || false),\n          is_done: String(this.taskStatusToEdit.is_done || false),\n          is_retake: String(this.taskStatusToEdit.is_retake || false),\n          is_artist_allowed: String(this.taskStatusToEdit.is_artist_allowed),\n          is_client_allowed: String(this.taskStatusToEdit.is_client_allowed),\n          is_feedback_request: String(\n            this.taskStatusToEdit.is_feedback_request || false\n          ),\n          for_concept: String(this.taskStatusToEdit.for_concept || false),\n          archived: String(this.taskStatusToEdit.archived || false)\n        }\n      }\n    }\n  },\n\n  watch: {\n    taskStatusToEdit() {\n      this.resetForm()\n    },\n\n    active() {\n      if (this.active) {\n        this.resetForm()\n        setTimeout(() => {\n          this.$refs.nameField?.focus()\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n</style>\n"],"names":["_sfc_main","modalMixin","BooleanField","ColorField","ComboboxBoolean","ModalFooter","TextField","TextareaField","_hoisted_1","_hoisted_2","_createElementBlock","_normalizeClass","$props","_createElementVNode","_ctx","$options","_hoisted_3","_toDisplayString","_hoisted_4","_cache","_withModifiers","_createBlock","_component_text_field","$data","$event","_createCommentVNode","_createVNode","_component_textarea_field","_component_boolean_field","_component_color_field","_component_combobox_boolean","_component_modal_footer"],"mappings":"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"}