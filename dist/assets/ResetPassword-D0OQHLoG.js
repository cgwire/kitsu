import{_ as p,ag as f,r as c,q as g,o as r,c as n,d as e,t as o,k as w,a4 as v,O as y,f as d,n as k,h as _,w as P,H as b,a as S}from"./index-DF-DoQlt.js";const I={name:"reset-password",components:{MailIcon:f},data(){return{email:"",isLoading:!1,isInactive:!1,isError:!1,isSuccess:!1}},mounted(){this.email=this.$store.state.login.email},methods:{...S(["resetPassword"]),async confirmResetPassword(){this.isLoading=!0,this.isInactive=!1,this.isError=!1,this.isSuccess=!1;try{await this.resetPassword(this.email),this.isSuccess=!0}catch(s){s.body?.message?.includes("inactive")?this.isInactive=!0:this.isError=!0}finally{this.isLoading=!1}}},head(){return{title:this.$t("login.reset_password_title")}}},R={class:"hero is-fullheight"},C={class:"container has-text-centered"},E={class:"box has-text-left"},V={class:"has-text-centered"},L={class:"title"},N={class:"field mt2"},x={class:"control has-icon"},B=["placeholder"],D={class:"icon"},M={key:0,class:"control"},z={key:1,class:"success"},K={key:2,class:"error"},T={key:3,class:"error"},$={class:"has-text-centered"};function q(s,i,A,H,t,l){const h=c("mail-icon"),m=c("router-link"),u=g("focus");return r(),n("div",R,[e("div",C,[e("div",E,[e("div",V,[e("h1",L,o(s.$t("login.reset_password_title")),1)]),e("div",N,[e("p",x,[w(e("input",{class:"input is-medium email",type:"email",placeholder:s.$t("login.fields.email"),onKeyup:i[0]||(i[0]=y((...a)=>l.confirmResetPassword&&l.confirmResetPassword(...a),["enter"])),"onUpdate:modelValue":i[1]||(i[1]=a=>t.email=a)},null,40,B),[[v,t.email,void 0,{trim:!0}],[u]]),e("span",D,[d(h,{size:20})])])]),t.isSuccess?_("",!0):(r(),n("p",M,[e("a",{class:k(["button main-button is-fullwidth",{"is-loading":t.isLoading}]),onClick:i[2]||(i[2]=(...a)=>l.confirmResetPassword&&l.confirmResetPassword(...a))},o(s.$t("login.reset_password")),3)])),t.isSuccess?(r(),n("p",z,o(s.$t("login.reset_password_succeed")),1)):t.isInactive?(r(),n("p",K,o(s.$t("login.reset_password_inactive")),1)):t.isError?(r(),n("p",T,o(s.$t("login.reset_password_failed")),1)):_("",!0),e("p",$,[d(m,{to:{name:"login"}},{default:P(()=>[b(o(t.isSuccess?s.$t("login.back_to_login"):s.$t("login.login_page")),1)]),_:1})])])])])}const U=p(I,[["render",q],["__scopeId","data-v-b535cb8c"]]);export{U as default};
//# sourceMappingURL=ResetPassword-D0OQHLoG.js.map
