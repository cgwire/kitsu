import{_ as g,ao as A,s as f,b as p,r as m,o as s,c as a,i as c,h as n,F as d,d as k,t as u,n as h,e as B,H as b,f as D}from"./index-C2m_IhNF.js";import{f as S}from"./format-CUjWrpVJ.js";import{E as T}from"./eye-CKzk1Q6q.js";const C="data:image/png;base64,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",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAuCAMAAABd9bpjAAABhGlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TRbEtInYQdchQnSyIijhqFYpQodQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxc3NSdJES/5cUWsR4cNyPd/ced+8AoV5mqtkxDqiaZaTiMTGTXRW7XhFAH0IYQkBipj6XTCbgOb7u4ePrXZRneZ/7c4SUnMkAn0g8y3TDIt4gnt60dM77xGFWlBTic+Ixgy5I/Mh12eU3zgWHBZ4ZNtKpeeIwsVhoY7mNWdFQiaeII4qqUb6QcVnhvMVZLVdZ8578hcGctrLMdZrDiGMRS0hChIwqSijDQpRWjRQTKdqPefgHHX+SXDK5SmDkWEAFKiTHD/4Hv7s185MTblIwBnS+2PbHCNC1CzRqtv19bNuNE8D/DFxpLX+lDsx8kl5raZEjoHcbuLhuafIecLkDDDzpkiE5kp+mkM8D72f0TVmg/xboWXN7a+7j9AFIU1eJG+DgEBgtUPa6x7u723v790yzvx8yYXKNeM6c0AAAAAlwSFlzAAAuIwAALiMBeKU/dgAAApRQTFRFAAAAv7+/vr6+y8vLg4ODVFRUjIyMZGRkYWFhwsLCk5OTdnZ2U1NTra2t/Pz8////rq6uoqKihISEUlJSkZGR6enpgICA39/fdnZ2Z2dncHBw0NDQd3d35eXllpaWbW1tV1dXuLi4q6urd3d3UFBQoKCg9vb2oaGheXl50tLSe3t7VFRUg4OD39/ffHx8mZmZXl5eY2NjxsbGxMTEYGBgmJiYmpqab29v/v7++/v7kZGRkZGRgICAUVFRk5OT7u7ukpKS0dHRa2trY2Njc3Nz09PT1NTUY2NjhISE09PTcXFxbGxsWFhYubm5WVlZTU1NTU1NUVFRi4uLb29vaGhoz8/P0tLSaWlpbm5uioqKvLy8vb29UlJS7+/v8/PzmJiYUVFR9PT0+fn5kJCQt7e3urq6VVVV5ubm+Pj429vbZWVleHh42dnZe3t79/f3sbGxpqamqqqq8vLygYGBWlpav7+/x8fH3t7eXFxc5OTk6+vr9fX1s7Ozl5eX7Ozs6OjodHR0ZmZmyMjI2NjYa2tr1dXVw8PDVFRUnZ2dT09PsrKy+vr6lpaWvr6+hoaGcnJy4+PjgICAXl5ey8vLo6Ojm5ubwcHBn5+fqKiopaWlcnJyXFxchYWF8PDwdHR0ra2teXl5eHh4jo6OcnJyc3Nz1NTUg4ODZWVl4eHh19fXfHx8lpaWhYWFV1dXkpKS5+fnl5eXoqKicHBw8fHxj4+PZGRk0dHRZWVl8fHxgICAWVlZfHx8tbW1fX197+/vubm5bGxstLS0bW1tu7u7mpqadHR0cHBwm5ub7e3tfn5+a2trampq2traf39/qqqqfHx8WVlZh4eHj4+PfX19q6urnJycdXV1dnZ2n5+fz8/Pi4uLjIyMqkPrbgAAANx0Uk5TACgnCov0WuX//zDM//////8Spvz//6IGa/j//2sGSdz//ya1/////7URivX//4pm4/////9mNcn//zERqfz//xEFZ/f////2dwU73v///5j/mv///////////////////////////////////////////////////////////////////////////////////////////////1v3//9bIq+vPdnZBGfy//9jDZ79//8NLb//UuD/4AuA8////wskov+iJEDV0UAGY/P//2MOk/3//5MOKL+/KAFRUa2u1+UAAAKTSURBVHicY2CgHmBkIlEDMwsrKwszKTrY2Dk4OTnY2YjWwMXNw8vHz88nwMPNRZQGQSFhEVF+MBAVERYTJKhBXEJSSpofDqSlJGVk8euQk1dQ5EcBigrycng0KCmrqKrxowE1dRUNJRwaNLW0dXTRNYCAro62niY2HfoGhkbYNICAsYmBKYYGM3MeXgtcOvj5LXl5zK1QNFjb2NrZ49YAAvZ2tjYOcA2OTs4urvg1gICbi7uHJ0SHl7ePL2ENIODr5+0F1uIfoEqcDn5+1YBAiJag4JBQYjSEhUdE+kO0RPFHx9jFEtIQF5/gm+gL18KflMyTgl9HalpkekYGkhZ+/sys7BzcGnRzTULzMtC08PPnB6jnYddgWRBQGJuRgamFv6i4pBSbjjKO3PKMDKxa+PlDK4or0TVUBaUZV2fg1MLPrx5QiJrUalRq6zIy8Gnhr29obELwmiNaWjMyCGjh529rT4YmUbWOzq7EDCK08Hf3xNSA6F6/vsqMDKK08POXh/e7TZg4aXJ1BtFagKVEZ+eUWHQN+LXw907F1EBAy7Tp+LTMwKalFJuWvJkQLbNmz5lLnJYJfbPnQXLy/AXtmBZFY2ixn5G2cD68wFi0uKQJTUuUOqqG6ja/JYuQS6Wly5b3r8CnZWX/8lVL0cq+1WvWrstA0pKKrGX9urVrNmAUlwwMGzep1GDVsrkrZtNGLBpAYMtWk20wLYpTYJ6YbLJ9Cw4NQLBj567dVRAte6Bayvfu2rkPtw4g2H8gbTofSMtBsJaqjrRDh/FqAIEjR9tBJUAXUEtRdNqx4wQ1AMGJk6dOnwFqyQs7fersCWJ0AMG58xcuXuqLvHD5CpEaQODqtc7O6zdI0AAEN2/dvolDCgDfq0YjnZ+MiwAAAABJRU5ErkJggg==",U={name:"validation-cell",mixins:[S],data(){return{task:null}},components:{EyeIcon:T},props:{column:{default:null,type:Object},entity:{default:null,type:Object},taskTest:{default:null,type:Object},isCastingReady:{default:!1,type:Boolean},castingTitle:{default:"",type:String},isBorder:{default:!0,type:Boolean},isStatic:{default:!1,type:Boolean},isAssignees:{default:!0,type:Boolean},minimized:{default:!1,type:Boolean},selectable:{default:!0,type:Boolean},clickable:{default:!0,type:Boolean},selected:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},rowX:{default:0,type:Number},columnY:{default:0,type:Number},left:{type:String,default:"0px"},sticked:{default:!1,type:Boolean},canceled:{default:!1,type:Boolean},contactSheet:{default:!1,type:Boolean}},mounted(){this.taskTest?this.task=this.taskTest:this.column&&this.entity?.validations&&(this.task=this.taskMap.get(this.entity.validations.get(this.column.id)))},computed:{...p(["isCurrentUserClient","isDarkTheme","personMap","taskMap","taskStatusMap"]),assignees(){return f(this.task?.assignees.map(t=>this.personMap.get(t)).filter(Boolean)||[])},priority(){return this.formatPrioritySymbol(this.task.priority)},cellStyle(){let t;if(this.isBorder&&!this.sticked){const l=this.isDarkTheme?.15:.08;t=A.hexToRGBa(this.column.color,l)}return{borderLeft:this.isBorder?`1px solid ${this.column.color}`:"none",backgroundColor:t,left:this.left}},tagStyle(){const t=this.taskStatus.name==="Todo";let l;t?l=this.isDarkTheme?"#5F626A":"#ECECEC":this.taskStatus.color?l=this.isDarkTheme?A.darkenColor(this.taskStatus.color):this.taskStatus.color:l="transparent";const e=!t||this.isDarkTheme?"white":"#333";return{backgroundColor:l,color:e}},wrapperStyle(){return!this.task||!this.contactSheet?{}:{"background-image":"url("+("/api/pictures/thumbnails/preview-files/"+this.task.last_preview_file_id+".png")+")","background-color":this.taskStatus.color+"44",height:"100px",width:"150px",display:"flex","flex-direction":this.contactSheet?"column":"row"}},statusWrapperStyle(){return!this.task||!this.contactSheet?{padding:"6px"}:{width:"150px",padding:"6px","text-align:":"right"}},taskStatus(){const t=this.task?.task_status_id;return this.taskStatusMap?.get(t)||{}}},methods:{onClick(t){this.clickable&&this.select(t)},select(t){this.selectable&&this.$emit(this.selected?"unselect":"select",{entity:this.entity,column:this.column,task:this.task,x:this.rowX,y:this.columnY,isCtrlKey:t.ctrlKey||t.metaKey,isShiftKey:t.shiftKey,isUserClick:t.isUserClick!==!1})}},watch:{taskTest(){this.taskTest?this.task=this.taskTest:this.entity?.validations&&(this.task=this.taskMap.get(this.entity.validations.get(this.column.id)))}}},E={key:0,class:"filler"},w=["title"],v={key:0,class:"filler"},F=["title"],Q=["title"],Z={key:0,src:C},x={key:1,src:I},W=["title"],V=["src"],R={key:2,class:"subscribed"},H={key:1,class:"wrapper"};function M(t,l,e,N,o,i){const y=m("eye-icon");return s(),a("td",{class:h({canceled:e.canceled,disabled:e.disabled,selected:e.selectable&e.selected,validation:e.selectable}),style:c(i.cellStyle),onClick:l[0]||(l[0]=(...r)=>i.onClick&&i.onClick(...r))},[e.minimized?(s(),a("div",H,[k("span",{class:"tag",style:c(i.tagStyle)}," Â  ",4)])):(s(),a("div",{key:0,class:"wrapper full-wrapper",style:c(i.wrapperStyle)},[e.contactSheet?(s(),a("div",E)):n("",!0),e.minimized?n("",!0):(s(),a("div",{key:1,class:"wrapper status-wrapper",style:c(i.statusWrapperStyle)},[o.task?(s(),a(d,{key:0},[k("span",{class:"tag",title:i.taskStatus.name,style:c(i.tagStyle)},u(i.taskStatus.short_name),13,w),e.contactSheet?(s(),a("span",v)):n("",!0),!t.isCurrentUserClient&&!e.disabled&&o.task.priority>0?(s(),a("span",{key:1,class:h({priority:!0,high:o.task.priority===1,veryhigh:o.task.priority===2,emergency:o.task.priority===3}),title:t.formatPriority(o.task.priority)},u(i.priority),11,F)):n("",!0),!t.isCurrentUserClient&&e.castingTitle?(s(),a("span",{key:2,class:h(["casting-status",{"casting-status-not-ready":!e.isCastingReady}]),title:e.castingTitle},[e.isCastingReady?(s(),a("img",Z)):(s(),a("img",x))],10,Q)):n("",!0)],64)):n("",!0),e.isAssignees&&!t.isCurrentUserClient&&!e.disabled?(s(!0),a(d,{key:1},B(i.assignees,r=>(s(),a("span",{class:"avatar has-text-centered",title:r.full_name,style:c({backgroundColor:r.color,color:t.isDarkTheme?"#333":"#FFF","font-weight":t.isDarkTheme?"bold":"normal"}),key:`avatar-${r.id}`},[r.has_avatar?(s(),a("img",{key:0,loading:"lazy",alt:"",src:r.avatarPath},null,8,V)):(s(),a(d,{key:1},[b(u(r.initials),1)],64))],12,W))),128)):n("",!0),o.task?.is_subscribed?(s(),a("span",R,[D(y,{size:12})])):n("",!0)],4))],4))],6)}const X=g(U,[["render",M],["__scopeId","data-v-3ae1a21d"]]);export{X as V};
//# sourceMappingURL=ValidationCell-D9FwmVzb.js.map
