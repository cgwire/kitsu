{"version":3,"file":"ProductionNewsFeed-Dlr8YtXj.js","sources":["../../src/components/pages/ProductionNewsFeed.vue"],"sourcesContent":["<template>\n  <div class=\"columns fixed-page\">\n    <div class=\"column main-column\">\n      <div class=\"news page\" ref=\"body\" @scroll.passive=\"onBodyScroll\">\n        <div class=\"timeline-wrapper\">\n          <div class=\"has-text-right filler filter-button\">\n            <button-simple\n              icon=\"filter\"\n              :active=\"isFiltersDisplayed\"\n              :title=\"$t('main.more_filters')\"\n              @click=\"toggleFilters\"\n            />\n          </div>\n\n          <div class=\"filters flexrow\">\n            <combobox\n              class=\"flexrow-item selector\"\n              :label=\"$t('shots.fields.episode')\"\n              :options=\"runningEpisodeOptions\"\n              v-model=\"episodeId\"\n              v-if=\"isTVShow\"\n            />\n            <combobox-status\n              class=\"flexrow-item selector\"\n              :label=\"$t('news.task_status')\"\n              :task-status-list=\"taskStatusList\"\n              v-model=\"taskStatusId\"\n            />\n            <combobox-task-type\n              class=\"flexrow-item selector\"\n              :label=\"$t('news.task_type')\"\n              :task-type-list=\"taskTypeList\"\n              v-model=\"taskTypeId\"\n            />\n            <div class=\"flexrow-item selector\">\n              <label class=\"label person-label\">\n                {{ $t('main.person') }}\n              </label>\n              <people-field\n                class=\"person-field\"\n                :people=\"team\"\n                small\n                v-model=\"person\"\n              />\n            </div>\n          </div>\n\n          <div class=\"filters flexrow mt1\" v-if=\"isFiltersDisplayed\">\n            <date-field\n              class=\"flexrow-item\"\n              :max-date=\"today\"\n              :label=\"$t('main.from')\"\n              :with-margin=\"false\"\n              v-model=\"after\"\n            />\n            <date-field\n              class=\"flexrow-item\"\n              :max-date=\"today\"\n              :label=\"$t('main.to')\"\n              :with-margin=\"false\"\n              v-model=\"before\"\n            />\n            <combobox\n              class=\"flexrow-item selector\"\n              :label=\"$t('news.infos')\"\n              :options=\"previewOptions\"\n              v-model=\"previewMode\"\n            />\n          </div>\n\n          <div class=\"timeline\">\n            <div\n              class=\"empty-list has-text-centered\"\n              v-if=\"!loading.news && (!newsList || newsList.length === 0)\"\n            >\n              {{ $t('news.no_news') }}\n            </div>\n            <div class=\"has-text-centered mt2\" v-if=\"loading.news\">\n              <spinner />\n            </div>\n\n            <template v-if=\"!loading.news\">\n              <div\n                :key=\"dayList.length > 0 ? dayList[0].created_at : ''\"\n                v-for=\"dayList in newsListByDay(timezone)\"\n              >\n                <div class=\"has-text-centered subtitle timeline-entry\">\n                  <span class=\"big-dot\"></span>\n                  {{\n                    dayList.length > 0 ? formatDay(dayList[0].created_at) : ''\n                  }}\n                </div>\n                <div\n                  :key=\"'news-' + news.id\"\n                  :ref=\"'news-' + news.id\"\n                  v-for=\"(news, index) in dayList\"\n                >\n                  <div v-if=\"previewMode === 'comments'\">\n                    <div\n                      :class=\"{\n                        'news-line': true,\n                        'timeline-entry': true,\n                        flexrow: true,\n                        selected: news.id === currentNewsId\n                      }\"\n                      @click.prevent=\"onNewsSelected(news)\"\n                    >\n                      <span\n                        :class=\"{\n                          dot: true,\n                          red: hasRetakeValue(news),\n                          green: hasDoneValue(news)\n                        }\"\n                      ></span>\n                      <span class=\"date flexrow-item\">\n                        {{ formatTime(news.created_at) }}\n                      </span>\n\n                      <div\n                        class=\"flexrow-item production-name-wrapper\"\n                        v-if=\"isStudio\"\n                      >\n                        <production-name\n                          :production=\"productionMap.get(news.project_id)\"\n                          only-avatar\n                        />\n                      </div>\n\n                      <people-avatar\n                        class=\"flexrow-item\"\n                        :person=\"personMap.get(news.author_id)\"\n                        :size=\"30\"\n                        :font-size=\"14\"\n                        :is-link=\"false\"\n                        v-if=\"personMap.get(news.author_id)\"\n                      />\n\n                      <div class=\"flexrow-item task-type-wrapper\">\n                        <task-type-name\n                          class=\"task-type-name\"\n                          :task-type=\"buildTaskTypeFromNews(news)\"\n                          :production-id=\"news.project_id\"\n                          :is-static=\"true\"\n                        />\n                      </div>\n\n                      <div class=\"flexrow-item validation-wrapper\">\n                        <validation-tag\n                          class=\"validation-tag\"\n                          :task=\"buildTaskFromNews(news)\"\n                          :is-static=\"true\"\n                          :thin=\"!news.change\"\n                        />\n                      </div>\n\n                      <div class=\"flexrow-item comment-content\">\n                        <div class=\"news-info flexrow\">\n                          <span class=\"flexrow-item flexrow\">\n                            <entity-thumbnail\n                              class=\"ml1 entity-thumbnail mr1 flexrow-item\"\n                              :entity=\"{\n                                id: news.task_entity_id,\n                                preview_file_id: news.entity_preview_file_id\n                              }\"\n                              :with-link=\"false\"\n                            />\n                            <span class=\"strong ml05\">\n                              {{ news.full_entity_name }}\n                            </span>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div\n                    class=\"preview\"\n                    v-if=\"news.preview_file_id && previewMode === 'previews'\"\n                  >\n                    <div\n                      :class=\"{\n                        'news-line': true,\n                        'timeline-entry': true,\n                        flexrow: true,\n                        selected: news.id === currentNewsId\n                      }\"\n                      @click.prevent=\"onNewsSelected(news)\"\n                    >\n                      <span\n                        :class=\"{\n                          dot: true,\n                          red: hasRetakeValue(news),\n                          green: hasDoneValue(news)\n                        }\"\n                      ></span>\n                      <span class=\"date flexrow-item\">\n                        {{ formatTime(news.created_at) }}\n                      </span>\n\n                      <people-avatar\n                        class=\"flexrow-item\"\n                        :person=\"personMap.get(news.author_id)\"\n                        :size=\"30\"\n                        :no-link=\"true\"\n                        v-if=\"personMap.get(news.author_id)\"\n                      />\n\n                      <div class=\"flexrow-item task-type-wrapper\">\n                        <task-type-name\n                          class=\"task-type-name\"\n                          :task-type=\"buildTaskTypeFromNews(news)\"\n                          :production-id=\"news.project_id\"\n                        />\n                      </div>\n\n                      <div class=\"flexrow-item comment-content\">\n                        <div class=\"news-info flexrow\">\n                          <span class=\"flexrow-item flexrow\">\n                            <entity-thumbnail\n                              class=\"ml1\"\n                              :entity=\"{\n                                id: news.task_entity_id,\n                                preview_file_id: news.entity_preview_file_id\n                              }\"\n                              :with-link=\"false\"\n                              v-if=\"news.entity_preview_file_id\"\n                            />\n                            <span class=\"strong ml05 flexrow-item\">\n                              {{ news.full_entity_name }}\n                            </span>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div\n                      class=\"has-text-centered\"\n                      v-if=\"previewMode === 'previews'\"\n                    >\n                      <preview-player\n                        :canvas-id=\"`annotation-canvas-${dayList[0].created_at.substring(\n                          0,\n                          10\n                        )}-${index}`\"\n                        :previews=\"news.preview_files\"\n                        :task=\"{\n                          id: news.task_id,\n                          project_id: news.project_id,\n                          task_type_id: news.task_type_id,\n                          assignees: []\n                        }\"\n                        :read-only=\"true\"\n                        :light=\"true\"\n                        :big=\"true\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"side-column\" class=\"column side-column\">\n      <task-info\n        :task=\"currentTask\"\n        :is-loading=\"loading.currentTask\"\n        with-actions\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * This modules aims at displaying what happened on the production during the\n * last few days.\n * News entry are fetched by page of 50. Loading of older news is done via\n * infinite scrolling.\n */\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\n\nimport { sortByName, sortPeople } from '@/lib/sorting'\nimport { formatFullDateWithRevertedTimezone } from '@/lib/time'\nimport { timeMixin } from '@/components/mixins/time'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport ComboboxStatus from '@/components/widgets/ComboboxStatus.vue'\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport DateField from '@/components/widgets/DateField.vue'\nimport PeopleField from '@/components/widgets/PeopleField.vue'\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail.vue'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar.vue'\nimport PreviewPlayer from '@/components/previews/PreviewPlayer.vue'\nimport ProductionName from '@/components/widgets/ProductionName.vue'\nimport TaskInfo from '@/components/sides/TaskInfo.vue'\nimport TaskTypeName from '@/components/widgets/TaskTypeName.vue'\nimport Spinner from '@/components/widgets/Spinner.vue'\nimport ValidationTag from '@/components/widgets/ValidationTag.vue'\n\nexport default {\n  name: 'production-news-feed',\n\n  mixins: [timeMixin],\n\n  components: {\n    ButtonSimple,\n    Combobox,\n    ComboboxStatus,\n    ComboboxTaskType,\n    DateField,\n    EntityThumbnail,\n    PeopleAvatar,\n    PeopleField,\n    PreviewPlayer,\n    ProductionName,\n    TaskTypeName,\n    ValidationTag,\n    Spinner,\n    TaskInfo\n  },\n\n  data() {\n    return {\n      after: null,\n      before: null,\n      currentNewsId: null,\n      currentPage: 1,\n      currentTask: null,\n      episodeId: '',\n      isFiltersDisplayed: false,\n      isStatsDisplayed: false,\n      errors: {\n        news: false\n      },\n      loading: {\n        more: false,\n        news: false,\n        currentTask: true\n      },\n      person: null,\n      previewMode: 'comments',\n      previewOptions: [\n        {\n          label: this.$t('news.only_comments'),\n          value: 'comments'\n        },\n        {\n          label: this.$t('news.only_previews'),\n          value: 'previews'\n        }\n      ],\n      taskStatusId: '',\n      taskTypeId: ''\n    }\n  },\n\n  mounted() {\n    this.$options.silent = true\n    this.previewMode = localStorage.getItem('news:preview-mode') || 'comments'\n    this.taskTypeId = localStorage.getItem('news:task-type-id') || ''\n    if (this.$route && this.$route.query && this.$route.query.task_type_id) {\n      this.taskTypeId = this.$route.query.task_type_id\n    }\n    this.taskStatusId = localStorage.getItem('news:task-status-id') || ''\n    if (this.$route && this.$route.query && this.$route.query.task_status_id) {\n      this.taskStatusId = this.$route.query.task_status_id\n    }\n    this.before = null\n    this.after = null\n    this.$options.silent = false\n    window.addEventListener('keydown', this.onKeyDown, false)\n\n    if (!this.loading.news) {\n      this.init()\n    }\n  },\n\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown)\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'isTVShow',\n      'newsList',\n      'newsTotal',\n      'newsStats',\n      'newsListByDay',\n      'personMap',\n      'productionMap',\n      'productionTaskStatuses',\n      'productionTaskTypes',\n      'runningEpisodes',\n      'taskStatusMap',\n      'taskTypeMap',\n      'taskStatusMap',\n      'user'\n    ]),\n\n    statMax() {\n      if (this.newsStats) {\n        return Object.keys(this.newsStats).reduce((max, stat) => {\n          return Math.max(this.newsStats[stat], max)\n        }, 0)\n      } else {\n        return 0\n      }\n    },\n\n    isStudio() {\n      return !this.$route.path.includes('productions')\n    },\n\n    params() {\n      return {\n        isStudio: this.isStudio || undefined,\n        productionId: !this.isStudio ? this.currentProduction?.id : undefined,\n        only_preview: this.previewMode === 'previews',\n        page_size: this.previewMode === 'previews' ? 6 : 50,\n        task_type_id: this.taskTypeId !== '' ? this.taskTypeId : undefined,\n        task_status_id:\n          this.taskStatusId !== '' ? this.taskStatusId : undefined,\n        person_id: this.person ? this.person.id : undefined,\n        page: this.currentPage,\n        episode_id: this.episodeId !== 'all' ? this.episodeId : undefined,\n        before: formatFullDateWithRevertedTimezone(this.before, this.timezone),\n        after: formatFullDateWithRevertedTimezone(this.after, this.timezone)\n      }\n    },\n\n    taskStatusList() {\n      return [\n        {\n          id: '',\n          color: '#999',\n          short_name: this.$t('news.all')\n        }\n      ].concat(sortByName([...this.productionTaskStatuses]))\n    },\n\n    taskTypeList() {\n      return [\n        {\n          id: '',\n          color: '#999',\n          name: this.$t('news.all')\n        }\n      ].concat(sortByName([...this.productionTaskTypes]))\n    },\n\n    runningEpisodeOptions() {\n      return [\n        {\n          value: 'all',\n          label: this.$t('news.all')\n        }\n      ].concat(\n        this.runningEpisodes.map(episode => {\n          return {\n            label: episode.name,\n            value: episode.id\n          }\n        })\n      )\n    },\n\n    team() {\n      return sortPeople(\n        this.currentProduction?.team\n          .map(personId => this.personMap.get(personId))\n          .filter(Boolean) ?? []\n      )\n    },\n\n    renderedStats() {\n      if (this.newsStats) {\n        return Object.keys(this.newsStats)\n          .map(taskStatusId => {\n            const { color, short_name } = this.taskStatusMap.get(taskStatusId)\n            return {\n              id: taskStatusId,\n              name: short_name.toUpperCase(),\n              color,\n              value: this.newsStats[taskStatusId]\n            }\n          })\n          .sort((a, b) => b.value - a.value)\n      } else {\n        return ''\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions(['loadNews', 'loadSingleNews', 'loadMoreNews', 'loadTask']),\n\n    onKeyDown(event) {\n      if (this.newsList && this.newsList.length > 0 && event.altKey) {\n        let index = this.lastSelection ? this.lastSelection : 0\n        if ([37, 38].includes(event.keyCode)) {\n          index = index - 1 < 0 ? this.newsList.length - 1 : index - 1\n          this.onNewsSelected(this.newsList[index])\n        } else if ([39, 40].includes(event.keyCode)) {\n          index = index + 1 >= this.newsList.length ? 0 : index + 1\n          this.onNewsSelected(this.newsList[index])\n        }\n      }\n    },\n\n    loadFollowingNews() {\n      if (!this.loading.more && !this.loading.news) {\n        this.loading.more = true\n        this.currentPage += 1\n        this.loadMoreNews(this.params).then(() => {\n          this.loading.more = false\n        })\n      }\n    },\n\n    formatDay(date) {\n      const utcDate = moment.tz(date, 'UTC').tz(this.timezone)\n      return utcDate.format('LL')\n    },\n\n    formatTime(date) {\n      const utcDate = moment.tz(date, 'UTC').tz(this.timezone)\n      return utcDate.format('HH:mm')\n    },\n\n    personName(news) {\n      const person = this.personMap.get(news.author_id)\n      return person ? person.full_name : ''\n    },\n\n    buildTaskFromNews(news) {\n      return {\n        id: news.task_id,\n        task_status_id: news.task_status_id,\n        task_type_id: news.task_type_id,\n        episode_id: news.episode_id\n      }\n    },\n\n    buildTaskTypeFromNews(news) {\n      return {\n        ...this.taskTypeMap.get(news.task_type_id),\n        episode_id: news.episode_id\n      }\n    },\n\n    onNewsSelected(news) {\n      this.loading.currentTask = true\n      const index = this.newsList.findIndex(n => n.id === news.id)\n      if (this.lastSelection !== index) {\n        this.lastSelection = index\n        this.loadTask({\n          taskId: news.task_id\n        })\n          .then(task => {\n            this.loading.currentTask = false\n            this.currentTask = task\n            this.currentNewsId = news.id\n          })\n          .catch(console.error)\n        this.scrollToLine(news)\n      } else {\n        this.lastSelection = -1\n        this.currentTask = null\n        this.currentNewsId = ''\n      }\n    },\n\n    scrollToLine(news) {\n      const newsLine = this.$refs[`news-${news.id}`]\n      if (newsLine && this.$refs.body) {\n        const margin = 30\n        const rect = newsLine[0].getBoundingClientRect()\n        const listRect = this.$refs.body.getBoundingClientRect()\n        const isBelow = rect.bottom > listRect.bottom - margin\n        const isAbove = rect.top < listRect.top + margin\n\n        if (isBelow) {\n          const scrollingRequired = rect.bottom - listRect.bottom + margin\n          this.setScrollPosition(this.$refs.body.scrollTop + scrollingRequired)\n        } else if (isAbove) {\n          const scrollingRequired = listRect.top - rect.top + margin\n          this.setScrollPosition(this.$refs.body.scrollTop - scrollingRequired)\n        }\n      }\n    },\n\n    setScrollPosition(scrollPosition) {\n      if (this.$refs.body) {\n        this.$refs.body.scrollTop = scrollPosition\n      }\n    },\n\n    init() {\n      if (this.loading.news) return\n      if (!this.$options.silent) {\n        this.currentPage = 1\n        this.loading.news = true\n        this.errors.news = false\n        this.currentTask = null\n        const query = {\n          task_status_id: this.params.task_status_id,\n          task_type_id: this.params.task_type_id\n        }\n        if (this.$router) this.$router.push({ query })\n        this.loadNews(this.params)\n          .then(() => {\n            this.loading.news = false\n          })\n          .catch(err => {\n            console.error(err)\n            this.loading.news = false\n            this.errors.news = true\n          })\n      }\n    },\n\n    onBodyScroll(event) {\n      if (!this.$refs.body) return\n      const position = event.target\n      const maxHeight =\n        this.$refs.body.scrollHeight - this.$refs.body.offsetHeight\n      if (maxHeight < position.scrollTop + 200) {\n        this.loadFollowingNews()\n      }\n    },\n\n    getPreviewPath(news) {\n      const previewId = news.preview_file_id\n      const extension = news.preview_file_extension\n      return `/api/pictures/originals/preview-files/${previewId}.${extension}`\n    },\n\n    getPreviewDlPath(news) {\n      const previewId = news.preview_file_id\n      return `/api/pictures/originals/preview-files/${previewId}/download`\n    },\n\n    hasRetakeValue(news) {\n      const taskStatus = this.taskStatusMap.get(news.task_status_id)\n      return taskStatus ? news.change && taskStatus.is_retake : false\n    },\n\n    hasDoneValue(news) {\n      const taskStatus = this.taskStatusMap.get(news.task_status_id)\n      return taskStatus ? news.change && taskStatus.is_done : false\n    },\n\n    toggleFilters() {\n      this.isFiltersDisplayed = !this.isFiltersDisplayed\n    },\n\n    toggleStats() {\n      this.isStatsDisplayed = !this.isStatsDisplayed\n    }\n  },\n\n  socket: {\n    events: {\n      'preview-file:add-file'(eventData) {\n        const commentId = eventData.comment_id\n        const previewId = eventData.preview_file_id\n        const extension = eventData.extension\n        this.$store.commit('NEWS_ADD_PREVIEW', {\n          previewId,\n          commentId,\n          extension\n        })\n      },\n\n      'news:new'(eventData) {\n        if (\n          eventData.project_id === this.currentProduction.id &&\n          (!this.taskTypeId || this.taskTypeId === eventData.task_type_id) &&\n          (!this.taskStatusId || this.taskStatusId === eventData.task_status_id)\n        ) {\n          this.loadSingleNews({\n            productionId: this.currentProduction.id,\n            newsId: eventData.news_id\n          })\n        }\n      },\n\n      'task:update'(eventData) {\n        const relatedNews = this.newsList.find(\n          n => n.task_id === eventData.task_id\n        )\n        if (relatedNews) {\n          this.loadSingleNews({\n            productionId: this.currentProduction.id,\n            newsId: relatedNews.id\n          })\n        }\n      }\n    }\n  },\n\n  watch: {\n    currentProduction() {\n      this.init()\n    },\n\n    previewMode() {\n      localStorage.setItem('news:preview-mode', this.previewMode)\n      this.init()\n    },\n\n    taskTypeId() {\n      localStorage.setItem('news:task-type-id', this.taskTypeId)\n      this.init()\n    },\n\n    taskStatusId() {\n      localStorage.setItem('news:task-status-id', this.taskStatusId)\n      this.init()\n    },\n\n    person() {\n      this.init()\n    },\n\n    before() {\n      this.init()\n    },\n\n    after() {\n      this.init()\n    },\n\n    $route() {\n      this.init()\n    },\n\n    episodeId() {\n      this.init()\n    }\n  },\n\n  head() {\n    if (this.currentProduction) {\n      return {\n        title: `${this.currentProduction.name} | ${this.$t('news.title')} - Kitsu`\n      }\n    } else {\n      return {\n        title: `${this.$t('news.title')} - Kitsu`\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .page {\n    background: $dark-grey-light;\n  }\n\n  .icon,\n  .comment-text {\n    color: $light-grey-light;\n  }\n\n  a {\n    color: $light-grey-light;\n  }\n\n  .timeline-wrapper {\n    background: $dark-grey;\n  }\n\n  .timeline {\n    border-color: $blue;\n\n    .dot {\n      background: $blue;\n    }\n\n    .big-dot {\n      background: $blue;\n    }\n\n    .selected .date {\n      color: $light-grey;\n    }\n  }\n}\n\n.columns {\n  display: flex;\n  flex-direction: row;\n}\n\n.column {\n  overflow-y: auto;\n  padding: 0;\n}\n\n.main-column {\n  flex: 1 1 auto;\n  padding-top: 60px;\n  background: $white-grey-light;\n  height: 100%;\n  overflow: hidden;\n}\n\n.news {\n  background: $white-grey-light;\n  width: 100%;\n  padding: 0;\n  overflow-y: auto;\n  height: 100%;\n}\n\n.timeline-wrapper {\n  margin: auto;\n  max-width: 920px;\n  padding-top: 25px;\n  padding-left: 25px;\n  padding-right: 25px;\n  background: $white;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);\n}\n\n.timeline {\n  border-left: 4px solid $blue-light;\n  padding-left: 25px;\n  padding-bottom: 2em;\n\n  .subtitle {\n    margin-top: 2em;\n  }\n\n  .timeline-entry {\n    position: relative;\n\n    .big-dot {\n      position: absolute;\n      display: block;\n      left: -33px;\n      top: 3px;\n      background: $blue-light;\n      width: 12px;\n      height: 12px;\n      border-radius: 6px;\n    }\n\n    .dot {\n      position: absolute;\n      display: block;\n      left: -34px;\n      background: $blue-light;\n      width: 9px;\n      height: 9px;\n      border-radius: 4px;\n\n      &.red {\n        background: $red;\n      }\n\n      &.green {\n        background: $light-green;\n      }\n    }\n  }\n\n  .task-type-wrapper {\n    min-width: 100px;\n  }\n\n  .validation-wrapper {\n    min-width: 80px;\n  }\n\n  .date {\n    min-width: 30px;\n  }\n}\n\n.date {\n  font-size: 0.8em;\n  color: $grey;\n}\n\n.news-info {\n  vertical-align: middle;\n\n  span,\n  a {\n    vertical-align: middle;\n    display: inline-flex;\n    align-items: center;\n  }\n}\n\n.news-line {\n  padding-left: 1em;\n  align-items: middle;\n  border: 3px solid transparent;\n  cursor: pointer;\n  margin-bottom: 1px;\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  border-radius: 0.5em;\n  transition: border 0.1s linear;\n\n  &:hover {\n    border: 3px solid var(--background-selectable);\n  }\n\n  &.selected {\n    border: 3px solid var(--background-selected);\n  }\n}\n\n.preview {\n  margin: 0 auto 2em auto;\n  max-width: 800px;\n}\n\n.side-column {\n  width: 450px;\n  min-width: 450px;\n  max-width: 450px;\n}\n\n.selector {\n  margin-bottom: 0;\n  margin-right: 1em;\n}\n\n.person-label {\n  margin-top: 5px;\n  margin-bottom: 4px;\n}\n\n.filter-button {\n  color: $grey;\n  cursor: pointer;\n  float: right;\n  text-transform: lowercase;\n}\n\n.stats {\n  text-align: left;\n  width: 100%;\n  flex: 1;\n\n  .news-number {\n    font-weight: bold;\n    border-bottom: 1px solid var(--border-alt);\n    padding: 0.6em;\n  }\n\n  .stat-tag {\n    border-radius: 6px;\n    border-bottom: 1px solid var(--border);\n    box-shadow: 0 0 2px var(--box-shadow);\n    display: inline-block;\n    font-size: 0.8em;\n    height: 32px;\n    padding-left: 4px;\n    margin-right: 1em;\n    margin-top: 0;\n    margin-bottom: 0.4em;\n    font-weight: bold;\n    width: 100%;\n  }\n\n  .stat-text {\n    display: inline-block;\n    background: rgba(255, 255, 255, 0.8);\n    font-weight: bold;\n    padding: 4px 8px;\n    margin-top: 3px;\n    color: $black;\n    border-radius: 6px;\n    white-space: nowrap;\n  }\n}\n\n.preview .news-line .dot {\n  left: -54px;\n}\n</style>\n"],"names":["_sfc_main","timeMixin","ButtonSimple","Combobox","ComboboxStatus","ComboboxTaskType","DateField","EntityThumbnail","PeopleAvatar","PeopleField","PreviewPlayer","ProductionName","TaskTypeName","ValidationTag","Spinner","TaskInfo","mapGetters","max","stat","formatFullDateWithRevertedTimezone","sortByName","episode","sortPeople","personId","taskStatusId","color","short_name","a","b","mapActions","event","index","date","moment","news","person","n","task","newsLine","rect","listRect","isBelow","isAbove","scrollingRequired","scrollPosition","query","err","position","previewId","extension","taskStatus","eventData","commentId","relatedNews","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_openBlock","_createElementBlock","_createElementVNode","_cache","args","$options","_createVNode","_component_button_simple","$data","_ctx","_createBlock","_component_combobox","$event","_createCommentVNode","_component_combobox_status","_component_combobox_task_type","_toDisplayString","_component_people_field","_hoisted_8","_component_date_field","_hoisted_10","_hoisted_11","_component_spinner","_Fragment","_renderList","dayList","_createTextVNode","_hoisted_13","_normalizeClass","_withModifiers","_hoisted_16","_component_production_name","_component_people_avatar","_component_task_type_name","_component_validation_tag","_component_entity_thumbnail","_hoisted_23","_hoisted_31","_component_preview_player","_hoisted_32","_component_task_info"],"mappings":"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"}