{"version":3,"file":"HardDeleteModal-CyBgP8oG.js","sources":["../../src/components/modals/HardDeleteModal.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"{\n      modal: true,\n      'delete-modal': true,\n      'is-active': active\n    }\"\n  >\n    <div class=\"modal-background\" @click=\"$emit('cancel')\"></div>\n    <div class=\"modal-content\">\n      <div class=\"box\">\n        <p class=\"text\">{{ text }}</p>\n        <p>\n          <input\n            type=\"text\"\n            ref=\"confirmation-name\"\n            class=\"input\"\n            v-model=\"userLockText\"\n          />\n        </p>\n        <p class=\"is-danger\" v-if=\"isError\">{{ errorText }}</p>\n        <div class=\"has-text-right flexrow\">\n          <div class=\"filler\"></div>\n          <combobox\n            class=\"flexrow-item\"\n            :options=\"selectionOptions\"\n            :with-margin=\"false\"\n            v-model=\"selectionOnly\"\n            v-if=\"selectionOption\"\n          />\n          <a\n            :class=\"{\n              button: true,\n              'is-danger': true,\n              'is-loading': isLoading\n            }\"\n            :disabled=\"isLocked || null\"\n            @click=\"$emit('confirm', selectionOnly === 'true')\"\n          >\n            {{ $t('main.confirmation') }}\n          </a>\n          <button @click=\"$emit('cancel')\" class=\"button is-link\">\n            {{ $t('main.cancel') }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { modalMixin } from '@/components/modals/base_modal'\n\nimport Combobox from '@/components/widgets/Combobox.vue'\n\nexport default {\n  name: 'hard-delete-modal',\n\n  mixins: [modalMixin],\n\n  components: { Combobox },\n\n  emits: ['cancel', 'confirm'],\n\n  data() {\n    return {\n      userLockText: '',\n      selectionOnly: 'true',\n      selectionOptions: [\n        { label: this.$t('tasks.for_selection'), value: 'true' },\n        { label: this.$t('tasks.for_project'), value: 'false' }\n      ]\n    }\n  },\n\n  props: {\n    text: {\n      type: String,\n      default: ''\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    errorText: {\n      type: String,\n      default: ''\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    lockText: {\n      type: String,\n      default: 'locked'\n    },\n    selectionOption: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  computed: {\n    isLocked() {\n      return this.lockText === 'locked' || this.lockText !== this.userLockText\n    }\n  },\n\n  watch: {\n    active() {\n      if (this.active) {\n        this.userLockText = ''\n        this.$nextTick(() => {\n          if (this.$refs['confirmation-name']) {\n            this.$refs['confirmation-name'].focus()\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.flexrow {\n  align-items: center;\n  justify-content: center;\n}\n\n.input {\n  margin-bottom: 1em;\n  border-radius: 10px;\n}\n</style>\n"],"names":["_sfc_main","modalMixin","Combobox","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_createElementBlock","_normalizeClass","$props","_createElementVNode","_ctx","_toDisplayString","_cache","$event","$data","_hoisted_4","_createCommentVNode","_createBlock","_component_combobox","$options"],"mappings":"iKAuDA,MAAKA,EAAU,CACb,KAAM,oBAEN,OAAQ,CAACC,CAAU,EAEnB,WAAY,CAAE,SAAAC,GAEd,MAAO,CAAC,SAAU,SAAS,EAE3B,MAAO,CACL,MAAO,CACL,aAAc,GACd,cAAe,OACf,iBAAkB,CAChB,CAAE,MAAO,KAAK,GAAG,qBAAqB,EAAG,MAAO,MAAK,EACrD,CAAE,MAAO,KAAK,GAAG,mBAAmB,EAAG,MAAO,OAAM,CACtD,CACF,CACF,EAEA,MAAO,CACL,KAAM,CACJ,KAAM,OACN,QAAS,IAEX,OAAQ,CACN,KAAM,QACN,QAAS,IAEX,UAAW,CACT,KAAM,OACN,QAAS,IAEX,QAAS,CACP,KAAM,QACN,QAAS,IAEX,UAAW,CACT,KAAM,QACN,QAAS,IAEX,SAAU,CACR,KAAM,OACN,QAAS,UAEX,gBAAiB,CACf,KAAM,QACN,QAAS,EACX,GAGF,SAAU,CACR,UAAW,CACT,OAAO,KAAK,WAAa,UAAY,KAAK,WAAa,KAAK,YAC9D,GAGF,MAAO,CACL,QAAS,CACH,KAAK,SACP,KAAK,aAAe,GACpB,KAAK,UAAU,IAAM,CACf,KAAK,MAAM,mBAAmB,GAChC,KAAK,MAAM,mBAAmB,EAAE,MAAK,CAEzC,CAAC,EAEL,CACF,CACF,EAnHSC,EAAA,CAAA,MAAM,eAAe,EACnBC,EAAA,CAAA,MAAM,KAAK,EACXC,EAAA,CAAA,MAAM,MAAM,KAXvB,IAAA,EAoBW,MAAM,aACJC,EAAA,CAAA,MAAM,wBAAwB,EArB3CC,EAAA,CAAA,UAAA,2DACEC,EA8CM,MAAA,CA7CH,MAFLC,EAAA,wCAEgFC,EAAA,WAM5EC,EAA6D,MAAA,CAAxD,MAAM,mBAAoB,uBAAOC,EAAA,MAAK,QAAA,KAC3CD,EAqCM,MArCNR,EAqCM,CApCJQ,EAmCM,MAnCNP,EAmCM,CAlCJO,EAA8B,IAA9BN,EAA8BQ,EAAXH,EAAA,IAAI,EAAA,CAAA,EACvBC,EAOI,IAAA,KAAA,GANFA,EAKE,QAAA,CAJA,KAAK,OACL,IAAI,oBACJ,MAAM,QAhBlB,sBAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAiBqBC,EAAA,aAAYD,kBAAZC,EAAA,YAAY,MAGEN,EAAA,aAA3BF,EAAuD,IAAvDS,EAAuDJ,EAAhBH,EAAA,SAAS,EAAA,CAAA,GApBxDQ,EAAA,GAAA,EAAA,EAqBQP,EAuBM,MAvBNL,EAuBM,aAtBJK,EAA0B,MAAA,CAArB,MAAM,QAAQ,EAAA,KAAA,EAAA,GAMXD,EAAA,qBALRS,EAMEC,EAAA,CA7BZ,IAAA,EAwBY,MAAM,eACL,QAASJ,EAAA,iBACT,cAAa,GA1B1B,WA2BqBA,EAAA,cA3BrB,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GA2BqBC,EAAA,cAAaD,sCA3BlCG,EAAA,GAAA,EAAA,EA8BUP,EAUI,IAAA,CATD,MA/BbF,EAAA,uCA+B+GC,EAAA,YAKlG,SAAUW,EAAA,UAAQ,KAClB,QAAKP,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEH,EAAA,MAAK,UAAYI,EAAA,gBAAa,MAAA,EAEnC,EAAAH,EAAAD,EAAA,GAAE,mBAAA,CAAA,EAAA,GAvCjBL,CAAA,EAyCUI,EAES,SAAA,CAFA,uBAAOC,EAAA,MAAK,QAAA,GAAY,MAAM,oBAClCA,EAAA,GAAE,aAAA,CAAA,EAAA,CAAA"}