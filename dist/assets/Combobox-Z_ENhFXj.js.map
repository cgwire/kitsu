{"version":3,"file":"Combobox-Z_ENhFXj.js","sources":["../../src/components/widgets/Combobox.vue"],"sourcesContent":["<template>\n  <div :class=\"{ field: withMargin, 'is-inline': isInline }\">\n    <label class=\"label\" v-if=\"label.length > 0\">\n      {{ label }}\n    </label>\n    <p class=\"control\" :class=\"{ 'is-inline': isInline }\">\n      <span class=\"select\" :class=\"{ 'is-top': isTop }\">\n        <select\n          class=\"combobox select-input\"\n          :class=\"{\n            thin,\n            error\n          }\"\n          :style=\"{\n            width: width ? `${width}px` : undefined\n          }\"\n          ref=\"select\"\n          :disabled=\"disabled\"\n          @keyup.enter=\"emitEnter()\"\n          @change=\"updateValue\"\n        >\n          <template\n            v-for=\"(option, index) in options\"\n            :key=\"`${index}-${option.label}-${option.value}`\"\n          >\n            <option\n              :value=\"option.label || option.value\"\n              :selected=\"modelValue === option.value || null\"\n              :disabled=\"option.disabled\"\n            >\n              {{ getOptionLabel(option) }}\n            </option>\n            <hr v-if=\"option.separator\" />\n          </template>\n        </select>\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'combobox',\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    modelValue: {\n      default: '',\n      type: [Object, String, Boolean, Number]\n    },\n    options: {\n      default: () => [],\n      type: Array\n    },\n    localeKeyPrefix: {\n      default: '',\n      type: String\n    },\n    isTop: {\n      default: false,\n      type: Boolean\n    },\n    disabled: {\n      default: false,\n      type: Boolean\n    },\n    error: {\n      default: false,\n      type: Boolean\n    },\n    thin: {\n      default: false,\n      type: Boolean\n    },\n    width: {\n      type: Number\n    },\n    withMargin: {\n      default: true,\n      type: Boolean\n    },\n    isInline: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  emits: ['enter', 'update:modelValue'],\n\n  methods: {\n    updateValue() {\n      let value = this.$refs.select.value\n      this.options.forEach(option => {\n        if (option.label === value) {\n          value = option.value\n        }\n      })\n      this.$emit('update:modelValue', value)\n    },\n\n    emitEnter() {\n      let value = this.$refs.select.value\n      this.options.forEach(option => {\n        if (option.label === value) {\n          value = option.value\n        }\n      })\n      this.$emit('enter', value)\n    },\n\n    getOptionLabel(option) {\n      if (this.localeKeyPrefix && option.label) {\n        return this.$t(this.localeKeyPrefix + option.label.toLowerCase())\n      }\n      return option.label\n    },\n\n    focus() {\n      this.$refs.select?.focus()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark select:disabled {\n  background: $dark-grey;\n  border-color: $dark-grey-strong;\n}\n\n.is-top select {\n  font-size: 1.2em;\n  border: 0;\n  border-bottom: 1px solid $light-grey;\n  border-radius: 0;\n  height: 38px;\n}\n\n.is-top select:focus {\n  border-color: $green;\n  outline: 0;\n}\n\n.select-input {\n  height: 3em;\n\n  &.thin {\n    height: 2.1em;\n  }\n}\n\n.select {\n  height: auto;\n}\n.select::after {\n  border: 1px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -4px;\n}\n\n.select.is-top::after {\n  border: 2px solid $green;\n  border-right: 0;\n  border-top: 0;\n  margin-top: -4px;\n}\n\n.error {\n  border-color: $red;\n}\n</style>\n"],"names":["_sfc_main","value","option","_hoisted_2","_hoisted_3","_createElementBlock","_normalizeClass","$props","_hoisted_1","_toDisplayString","_createCommentVNode","_createElementVNode","_normalizeStyle","_cache","_withKeys","$options","args","_openBlock","_Fragment","_renderList","index","_hoisted_4"],"mappings":"8GAyCA,MAAKA,EAAU,CACb,KAAM,WAEN,MAAO,CACL,MAAO,CACL,QAAS,GACT,KAAM,QAER,WAAY,CACV,QAAS,GACT,KAAM,CAAC,OAAQ,OAAQ,QAAS,MAAM,GAExC,QAAS,CACP,QAAS,IAAM,CAAA,EACf,KAAM,OAER,gBAAiB,CACf,QAAS,GACT,KAAM,QAER,MAAO,CACL,QAAS,GACT,KAAM,SAER,SAAU,CACR,QAAS,GACT,KAAM,SAER,MAAO,CACL,QAAS,GACT,KAAM,SAER,KAAM,CACJ,QAAS,GACT,KAAM,SAER,MAAO,CACL,KAAM,QAER,WAAY,CACV,QAAS,GACT,KAAM,SAER,SAAU,CACR,QAAS,GACT,KAAM,OACR,GAGF,MAAO,CAAC,QAAS,mBAAmB,EAEpC,QAAS,CACP,aAAc,CACZ,IAAIC,EAAQ,KAAK,MAAM,OAAO,MAC9B,KAAK,QAAQ,QAAQC,GAAU,CACzBA,EAAO,QAAUD,IACnBA,EAAQC,EAAO,MAEnB,CAAC,EACD,KAAK,MAAM,oBAAqBD,CAAK,CACvC,EAEA,WAAY,CACV,IAAIA,EAAQ,KAAK,MAAM,OAAO,MAC9B,KAAK,QAAQ,QAAQC,GAAU,CACzBA,EAAO,QAAUD,IACnBA,EAAQC,EAAO,MAEnB,CAAC,EACD,KAAK,MAAM,QAASD,CAAK,CAC3B,EAEA,eAAeC,EAAQ,CACrB,OAAI,KAAK,iBAAmBA,EAAO,MAC1B,KAAK,GAAG,KAAK,gBAAkBA,EAAO,MAAM,YAAW,CAAE,EAE3DA,EAAO,KAChB,EAEA,OAAQ,CACN,KAAK,MAAM,QAAQ,MAAK,CAC1B,CACF,CACF,KA5HA,IAAA,EAEW,MAAM,SAFjBC,EAAA,CAAA,UAAA,EAAAC,EAAA,CAAA,QAAA,WAAA,UAAA,KAAA,IAAA,CAAA,qCACEC,EAoCM,MAAA,CApCA,MADRC,EAAA,CAAA,MACwBC,EAAA,WAAU,YAAeA,EAAA,QAAQ,CAAA,IAC1BA,EAAA,MAAM,OAAM,OAAvCF,EAEQ,QAFRG,EAEQC,EADHF,EAAA,KAAK,EAAA,CAAA,GAHdG,EAAA,GAAA,EAAA,EAKIC,EA+BI,IAAA,CA/BD,MALPL,EAAA,CAKa,UAAS,CAAA,YAAwBC,EAAA,SAAQ,CAAA,IAChDI,EA6BO,OAAA,CA7BD,MANZL,EAAA,CAMkB,SAAQ,CAAA,SAAqBC,EAAA,MAAK,CAAA,IAC5CI,EA2BS,SAAA,CA1BP,MARVL,GAQgB,wBAAuB,MACPC,EAAA,WAAkBA,EAAA,SAIvC,MAbXK,EAAA,OAauCL,EAAA,MAAK,GAAMA,EAAA,KAAK,KAAO,SAGpD,IAAI,SACH,SAAUA,EAAA,SACV,QAAKM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAlBhBC,KAkBwBC,EAAA,UAAS,EAAA,CAAA,OAAA,CAAA,GACtB,6BAAQA,EAAA,aAAAA,EAAA,YAAA,GAAAC,CAAA,MAETC,EAAA,EAAA,EAAAZ,EAYWa,OAjCrBC,EAsBsCZ,EAAA,QAtBtC,CAsBoBL,EAAQkB,KAtB5BH,EAAA,EAAAZ,EAAAa,EAAA,CAAA,IAAA,GAuBqBE,CAAK,IAAIlB,EAAO,KAAK,IAAIA,EAAO,KAAK,KAE9CS,EAMS,SAAA,CALN,MAAOT,EAAO,OAASA,EAAO,MAC9B,SAAUK,EAAA,aAAeL,EAAO,OAAK,KACrC,SAAUA,EAAO,YAEfa,EAAA,eAAeb,CAAM,CAAA,EAAA,EA9BtCE,CAAA,EAgCsBF,EAAO,WAAjBe,IAAAZ,EAA8B,KAhC1CgB,CAAA,GAAAX,EAAA,GAAA,EAAA,cAAA,EAAA,GAAAP,CAAA"}