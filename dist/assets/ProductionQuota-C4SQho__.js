import{T as P,m as L,bZ as O,_ as S,r as f,o as i,c as r,e as l,t as u,F as _,g as k,d as M,f as y,bR as E,P as W,aF as D,z as m,b_ as T,w as v,b$ as B,c0 as A,c1 as F,c2 as X,b as R,b3 as C,c3 as z,A as Q,a3 as b,p as I,l as w,B as K,C as U,G as j,c4 as H,S as G,a8 as Z,az as x,ab as J,ac as $}from"./index-ip1P4Oag.js";const ee={name:"quota-shot-list",components:{TableInfo:P},props:{shots:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},isLoadingError:{type:Boolean,default:!1},countMode:{type:String,default:"frames"}},computed:{...L(["currentProduction"])},methods:{getQuota(t){return this.countMode==="seconds"?O(t.nb_frames,this.currentProduction,t):t.nb_frames}}},te={class:"data-list"},oe={key:0,class:"details table"};function ae(t,o,e,d,a,s){const g=f("table-info");return i(),r("div",te,[e.isLoading?M("",!0):(i(),r("table",oe,[l("thead",null,[l("tr",null,[l("th",null,u(t.$t("quota.details_name")),1),l("th",null,u(e.countMode==="seconds"?t.$t("quota.details_seconds"):t.$t("quota.details_frames")),1),l("th",null,u(t.$t("quota.weight")),1)])]),l("tbody",null,[(i(!0),r(_,null,k(e.shots,c=>(i(),r("tr",{key:`shot-quota-${c.id}`},[l("td",null,u(c.full_name),1),l("td",null,u(s.getQuota(c)),1),l("td",null,u(c.weight),1)]))),128))])])),y(g,{"is-loading":e.isLoading,"is-error":e.isLoadingError},null,8,["is-loading","is-error"])])}const se=S(ee,[["render",ae],["__scopeId","data-v-b536c747"]]),ne={name:"people-quota-info",components:{XIcon:E,PageTitle:W,PeopleAvatar:D,QuotaShotList:se},props:{person:{type:Object,default:()=>{}},year:{type:Number,default:0},month:{type:Number,default:0},week:{type:Number,default:0},day:{type:Number,default:0},countMode:{type:String,default:"frames"},isLoading:{type:Boolean,default:!1},isLoadingError:{type:Boolean,default:!1},shots:{type:Array,default:()=>[]}},emits:["close"],computed:{...L(["currentEpisode","currentProduction"]),startDay(){return m().day("Monday").year(this.year).week(this.week).date()},endDay(){return m().day("Monday").year(this.year).week(this.week).add(6,"days").date()},weekMonth(){return m().day("Monday").year(this.year).week(this.week).format("MMM")},monthString(){return T(this.month)},isMonthInfo(){return this.$route.path.indexOf("month")>0},isWeekInfo(){return this.$route.path.indexOf("week")>0},isDayInfo(){return this.$route.path.indexOf("day")>0},closeRoute(){if(!this.currentProduction)return{};let t={name:"quota",production_id:this.currentProduction.id};return this.isMonthInfo?t={name:"quota-month",params:{year:this.year}}:this.isWeekInfo?t={name:"quota-week",params:{year:this.year}}:this.isDayInfo&&(t={name:"quota-day",params:{year:this.year,month:this.month}}),this.currentEpisode&&(t.name=`episode-${t.name}`,t.params.episode_id=this.currentEpisode.id),t}},methods:{onCloseClicked(){this.$emit("close")}}},ie={class:"people-timesheet-info"},re={class:"close"},ue={class:"flexrow"},le={key:0,class:"info-date"},de={key:1,class:"info-date"},he={key:2,class:"info-date"};function ce(t,o,e,d,a,s){const g=f("x-icon"),c=f("router-link"),q=f("people-avatar"),n=f("page-title"),h=f("quota-shot-list");return i(),r("div",ie,[l("div",re,[y(c,{class:"close-button",to:s.closeRoute},{default:v(()=>[y(g)]),_:1},8,["to"])]),l("div",ue,[y(q,{class:"flexrow-item",person:e.person,"is-lazy":!1},null,8,["person"]),y(n,{class:"flexrow-item",text:e.person.full_name},null,8,["text"])]),s.isMonthInfo?(i(),r("div",le,u(s.monthString)+" "+u(e.year),1)):s.isWeekInfo?(i(),r("div",de,u(t.$t("main.week"))+" "+u(e.week)+", "+u(s.startDay)+" - "+u(s.endDay)+" "+u(s.weekMonth)+" "+u(e.year),1)):s.isDayInfo?(i(),r("div",he,u(e.day)+" "+u(s.monthString)+" "+u(e.year),1)):M("",!0),y(h,{class:"time-spent-list","count-mode":e.countMode,shots:e.shots,"is-loading":e.isLoading,"is-error":e.isLoadingError},null,8,["count-mode","shots","is-loading","is-error"])])}const me=S(ne,[["render",ce],["__scopeId","data-v-5b4a5197"]]),ye={name:"quota",components:{PeopleAvatar:D,TableInfo:P},props:{taskTypeId:{type:String,required:!0},detailLevel:{type:String,default:"day",required:!0},countMode:{type:String,default:"frames",required:!0},computeMode:{type:String,default:"weighted",required:!0},year:{type:Number,default:0},month:{type:Number,default:0},week:{type:Number,default:0},day:{type:Number,default:0},searchText:{type:String,default:""},maxQuota:{default:0}},data(){return{currentMonth:m().month()+1,currentYear:m().year(),currentWeek:m().week(),detailsTitle:"",detailsMap:{},isPanelShown:!1,isLoading:!0,isError:!1,personIds:[],quotaMap:{},quotaLength:0,selected:void 0,averageColumnX:"12rem"}},mounted(){this.shotMap.size<2?(this.isLoading=!0,setTimeout(()=>{this.loadShots(t=>{t||this.loadData()})},100)):(this.isShotsLoading||(this.isLoading=!1),this.loadData())},computed:{...L(["currentEpisode","isShotsLoading","shotMap","personMap"]),monthRange(){return B(this.year,this.currentYear,this.currentMonth)},dayRange(){return A(this.year,this.month,this.currentYear,this.currentMonth)},weekRange(){return F(this.year,this.currentYear,this.currentWeek)},filteredPersonIds(){let t=this.personIds;return this.searchText.length>0&&(t=X(this.personIndex,this.searchText.split(" ")).map(o=>o.id)),t}},methods:{...R(["loadShots","computeQuota","getPeriodDetails"]),episodifyRoute(t){return this.currentEpisode&&C(t,this.currentEpisode.id),t},isWeekend(t,o,e){let d=m(`${t}-${o}-${e}`,"YYYY-MM-DD");return e<10&&(d=m(`${t}-${o}-0${e}`,"YYYY-MM-DD")),[0,6].includes(d.day())},loadData(){this.taskTypeId&&(this.isLoading=!0,this.computeQuota({taskTypeId:this.taskTypeId,detailLevel:this.detailLevel,countMode:this.countMode,computeMode:this.computeMode}).then(t=>{this.quotaMap=t,this.quotaLength=Object.keys(this.quotaMap).length,this.calcAverageColumnX(),this.$nextTick(()=>{this.isLoading=!1})}))},loadDetails(t,o){this.loadShots(e=>{this.isLoading=!0,e?console.error(e):this.taskTypeId&&this.getPeriodDetails({taskTypeId:this.taskTypeId,detailLevel:this.detailLevel,personId:t,dateString:o}).then(d=>{this.detailsMap=d})})},monthToString:T,dateDigit(t){return t.toString().padStart(2,"0")},getQuota(t,o={}){if(o.day){const e=`${o.year}-${this.dateDigit(o.month)}-${this.dateDigit(o.day)}`;return this.quotaMap[t].day[this.countMode][e]}else if(o.week){const e=`${o.year}-${o.week}`;return this.quotaMap[t].week[this.countMode][e]}else{const e=`${o.year}-${this.dateDigit(o.month)}`;return this.quotaMap[t].month[this.countMode][e]}},getQuotaAverage(t,o={}){let e=0,d=0,a;if(this.detailLevel==="day"){const s=`${o.year}-${this.dateDigit(o.month)}`;d=this.quotaMap[t].month[this.countMode][s],a=this.quotaMap[t].day.entries[s]}else if(this.detailLevel==="week"){const s=o.year;d=this.quotaMap[t].year[this.countMode][s],a=this.quotaMap[t].week.entries[s]}else if(this.detailLevel==="month"){const s=o.year;d=this.quotaMap[t].year[this.countMode][s],a=this.quotaMap[t].month.entries[s]}return e=d/a,e?e.toFixed(2):"-"},isDaySelected(t,o,e,d){return this.$route.params.person_id&&this.$route.params.person_id===t&&""+this.$route.params.year==""+o&&""+this.$route.params.month==""+e&&""+this.$route.params.day==""+d},isWeekSelected(t,o,e){return this.$route.params.person_id&&this.$route.params.person_id===t&&""+this.$route.params.year==""+o&&""+this.$route.params.week==""+e},isMonthSelected(t,o,e){return this.$route.params.person_id&&this.$route.params.person_id===t&&""+this.$route.params.year==""+o&&""+this.$route.params.month==""+e},isDayQuotaLow(t,o,e,d){const a=this.getQuota(t,{year:o,month:e,day:d});return a!==null&&this.maxQuota>a},isWeekQuotaLow(t,o,e){return this.maxQuota>this.getQuota(t,{year:o,week:e})},isMonthQuotaLow(t,o,e){return this.maxQuota>this.getQuota(t,{year:o,month:e})},calcAverageColumnX(){this.quotaLength>0&&(this.averageColumnX=`${this.$refs.rowHeaderName.offsetWidth}px`)},resetPersonIds(){const t=Object.keys(this.quotaMap),o=t.map(e=>this.personMap.get(e));this.personIndex=z(o),this.personIds=t.sort((e,d)=>{const a=this.personMap.get(e).full_name,s=this.personMap.get(d).full_name;return a.localeCompare(s)})}},watch:{$route(){document.getElementsByClassName("selected").length===0&&setTimeout(()=>{this.$refs.body.scrollLeft+=380},100)},computeMode(){this.taskTypeId&&this.loadData()},quotaMap(){this.resetPersonIds()},taskTypeId(){this.taskTypeId&&this.loadData()}}},fe={class:"data-list"},pe={class:"datatable-wrapper",ref:"body"},ge={class:"datatable"},_e={class:"datatable-head"},Me={key:0,class:"datatable-body"},ke={scope:"row",class:"name datatable-row-header"},be={class:"flexrow"},qe={key:1},ve={key:1},we={key:1},Le={key:0,class:"has-text-centered empty-quota"},Se={class:"info"};function Ie(t,o,e,d,a,s){const g=f("people-avatar"),c=f("router-link"),q=f("table-info");return i(),r("div",fe,[l("div",pe,[l("table",ge,[l("thead",_e,[l("tr",null,[l("th",{scope:"col",class:"name datatable-row-header",ref:"rowHeaderName"},u(t.$t("quota.name")),513),l("th",{scope:"col",class:"average datatable-row-header",style:Q({left:a.averageColumnX})},u(t.$t("quota.average")),5),e.detailLevel==="month"?(i(!0),r(_,{key:0},k(s.monthRange,n=>(i(),r("th",{scope:"col",key:"month-"+n},u(s.monthToString(n)),1))),128)):e.detailLevel==="week"?(i(!0),r(_,{key:1},k(s.weekRange,n=>(i(),r("th",{scope:"col",key:"week-"+n},u(n),1))),128)):e.detailLevel==="day"?(i(!0),r(_,{key:2},k(s.dayRange,n=>(i(),r("th",{scope:"col",key:"day-"+n},u(n),1))),128)):M("",!0)])]),a.quotaLength>0&&!a.isLoading?(i(),r("tbody",Me,[(i(!0),r(_,null,k(s.filteredPersonIds,n=>(i(),r("tr",{class:"datatable-row",key:"name-"+n},[l("th",ke,[l("div",be,[y(g,{size:30,person:t.personMap.get(n)},null,8,["person"]),b(" "+u(t.personMap.get(n).full_name),1)])]),l("td",{class:"average datatable-row-header",style:Q({left:a.averageColumnX})},[e.detailLevel==="month"||e.detailLevel==="week"?(i(),r(_,{key:0},[b(u(s.getQuotaAverage(n,{year:e.year})),1)],64)):e.detailLevel==="day"?(i(),r(_,{key:1},[b(u(s.getQuotaAverage(n,{year:e.year,month:e.month})),1)],64)):M("",!0)],4),e.detailLevel==="month"?(i(!0),r(_,{key:0},k(s.monthRange,h=>(i(),r("td",{class:I({selected:s.isMonthSelected(n,e.year,h),"quota-low":s.isMonthQuotaLow(n,e.year,h)}),key:"month-"+h},[s.getQuota(n,{year:e.year,month:h})?(i(),w(c,{key:0,class:"quota-button",to:s.episodifyRoute({name:"quota-month-person",params:{person_id:n,year:e.year,month:h},query:{countMode:e.countMode,computeMode:e.computeMode,taskTypeId:e.taskTypeId}})},{default:v(()=>[b(u(e.countMode==="seconds"?s.getQuota(n,{year:e.year,month:h}).toFixed(2):s.getQuota(n,{year:e.year,month:h})),1)]),_:2},1032,["to"])):(i(),r("span",qe,"-"))],2))),128)):e.detailLevel==="week"?(i(!0),r(_,{key:1},k(s.weekRange,h=>(i(),r("td",{class:I({selected:s.isWeekSelected(n,e.year,h),"quota-low":s.isWeekQuotaLow(n,e.year,e.month)}),key:"week-"+h},[s.getQuota(n,{year:e.year,week:h})?(i(),w(c,{key:0,class:"quota-button",to:s.episodifyRoute({name:"quota-week-person",params:{person_id:n,year:e.year,week:h},query:{countMode:e.countMode,computeMode:e.computeMode,taskTypeId:e.taskTypeId}})},{default:v(()=>[b(u(e.countMode==="seconds"?s.getQuota(n,{year:e.year,week:h}).toFixed(2):s.getQuota(n,{year:e.year,week:h})),1)]),_:2},1032,["to"])):(i(),r("span",ve," - "))],2))),128)):e.detailLevel==="day"?(i(!0),r(_,{key:2},k(s.dayRange,h=>(i(),r("td",{class:I({weekend:s.isWeekend(e.year,e.month,h),selected:s.isDaySelected(n,e.year,e.month,h),"quota-low":s.isDayQuotaLow(n,e.year,e.month,h)}),key:"day-"+h},[s.getQuota(n,{year:e.year,month:e.month,day:h})?(i(),w(c,{key:0,class:"quota-button",to:s.episodifyRoute({name:"quota-day-person",params:{person_id:n,year:e.year,month:e.month,day:h},query:{countMode:e.countMode,computeMode:e.computeMode,taskTypeId:e.taskTypeId}})},{default:v(()=>[b(u(e.countMode==="seconds"?s.getQuota(n,{year:e.year,month:e.month,day:h}).toFixed(2):s.getQuota(n,{year:e.year,month:e.month,day:h})),1)]),_:2},1032,["to"])):(i(),r("span",we," - "))],2))),128)):M("",!0)]))),128))])):M("",!0)])],512),a.quotaLength===0&&!a.isLoading?(i(),r("div",Le,[l("p",Se,u(t.$t("quota.no_quota")),1)])):M("",!0),y(q,{"is-loading":a.isLoading,"is-error":a.isError},null,8,["is-loading","is-error"])])}const xe=S(ye,[["render",Ie],["__scopeId","data-v-7b60699d"]]),Te={name:"production-quota",components:{ButtonSimple:K,Combobox:U,ComboboxTaskType:j,InfoQuestionMark:H,PeopleQuotaInfo:me,Quota:xe,SearchField:G,TextField:Z},data(){return{taskTypeId:"",countMode:"frames",countModeOptions:[{label:this.$t("quota.frames"),value:"frames"},{label:this.$t("quota.seconds"),value:"seconds"},{label:this.$t("quota.count"),value:"count"}],detailLevelOptions:[{label:this.$t("quota.day"),value:"day"},{label:this.$t("quota.week"),value:"week"},{label:this.$t("quota.month"),value:"month"}],computeModeOptions:[{label:this.$t("quota.weighted"),value:"weighted"},{label:this.$t("quota.feedback_date"),value:"feedback"},{label:this.$t("quota.weighted_done"),value:"weighteddone"},{label:this.$t("quota.done_date"),value:"done"}],computeMode:"weighted",currentYear:m().year(),currentMonth:m().month()+1,currentWeek:m().week(),currentDay:m().date(),currentPerson:this.getCurrentPerson(),currentMode:"frames",detailLevelString:"day",detailLevel:"day",isLoading:!1,isLoadingError:!1,isPersonShotsLoading:!1,maxQuota:0,monthString:`${m().month()+1}`,personShots:[],searchText:"",showInfo:!1,yearString:`${m().year()}`}},mounted(){this.loadRoute()},computed:{...L(["currentEpisode","currentProduction","productionShotTaskTypes","shotTaskTypes","personMap"]),yearOptions(){const o=m().year();return x(2018,o).map(e=>({label:e,value:`${e}`}))},monthOptions(){const t=`${m().year()}`,o=1,e=m().month()+1;let d=x(o,12);return t===this.yearString&&(d=x(o,e)),d.map(a=>({label:T(a),value:`${a}`}))}},methods:{...R(["getPersonQuotaShots","loadShots"]),getCurrentPerson(){const t=this.$route.params.person_id;return t&&this.personMap?this.personMap.get(t):{}},loadRoute(){const{month:t,year:o,week:e,day:d}=this.$route.params,{countMode:a,taskTypeId:s,computeMode:g}=this.$route.query;if(this.$route.path.indexOf("week")>0&&(this.detailLevel="week"),this.$route.path.indexOf("month")>0&&(this.detailLevel="month"),this.$route.path.indexOf("day")>0&&(this.detailLevel="day"),this.currentPerson=this.getCurrentPerson(),this.detailLevelString=this.detailLevel,a&&(this.countMode=a,this.currentMode=this.countMode),s)this.taskTypeId=s;else{const c=`quota:${this.currentProduction.id}:task-type-id`;this.taskTypeId=localStorage.getItem(c)||this.shotTaskTypes[0].id}g&&(this.computeMode=g),t&&(this.currentMonth=Number(t),this.monthString=`${t}`),o&&(this.currentYear=Number(o),this.yearString=`${o}`),e&&(this.currentWeek=Number(e),this.weekString=`${e}`),d&&(this.currentDay=Number(d)),this.$route.path.indexOf("person")>0?(this.isPersonShotsLoading=!0,this.getPersonQuotaShots({personId:this.currentPerson.id,detailLevel:this.detailLevel,taskTypeId:this.taskTypeId,year:o,month:t,week:e,day:d,computeMode:this.computeMode}).then(c=>{this.isPersonShotsLoading=!1,this.personShots=c,this.showSideInfo()})):this.hideSideInfo()},showSideInfo(){this.showInfo=!0},hideSideInfo(){this.showInfo=!1},episodifyRoute(t){return this.currentEpisode&&C(t,this.currentEpisode.id),t},exportQuotas(){const t=this.$refs["quota-list"].quotaMap,o=["quotas",this.detailLevel,this.currentYear];this.detailLevel==="day"&&o.push(this.currentMonth);const e=J.slugify(o.join("_")),d=Object.keys(t).map(a=>this.personMap.get(a)).sort((a,s)=>a.full_name.localeCompare(s.full_name,void 0,{numeric:!0}));$.generateQuotas(e,t,d,this.countMode,this.detailLevel,m().year(),m().month()+1,this.currentYear,this.currentMonth,this.currentWeek)},resetRouteQuery(){this.$router.push({query:{countMode:this.countMode,computeMode:this.computeMode,taskTypeId:this.taskTypeId}})},onSearchChange(t){this.searchText=t}},watch:{detailLevelString(){if(this.detailLevel!==this.detailLevelString){const t={name:`quota-${this.detailLevelString}`,params:{year:this.currentYear},query:{countMode:this.countMode,computeMode:this.computeMode}};this.detailLevelString==="day"&&(t.params.month=this.currentMonth),this.$router.push(this.episodifyRoute(t))}},yearString(){const t=Number(this.yearString),o=m().month()+1;if(this.currentYear!==t){const e={name:`quota-${this.detailLevelString}`,params:{year:t},query:{countMode:this.countMode,computeMode:this.computeMode}};this.detailLevelString==="day"&&(e.params.month=`${Math.min(Number(this.monthString),o)}`),this.$router.push(this.episodifyRoute(e))}},monthString(){if(this.currentMonth!==Number(this.monthString)){const t={name:"quota-day",params:{year:this.currentYear,month:Number(this.monthString)},query:{countMode:this.countMode,computeMode:this.computeMode,taskTypeId:this.taskTypeId}};this.$router.push(this.episodifyRoute(t))}},countMode(){this.currentMode!==this.countMode&&this.$route.query.countMode!==this.countMode&&(this.resetRouteQuery(),this.currentMode=this.countMode)},computeMode(){this.$route.query.computeMode!==this.computeMode&&(this.resetRouteQuery(),this.currentPerson=null)},taskTypeId(){const t=`quota:${this.currentProduction.id}:task-type-id`;localStorage.setItem(t,this.taskTypeId),this.$route.query.taskTypeId!==this.taskTypeId&&this.resetRouteQuery()},currentProduction(){this.isLoading=!0,this.loadShots(()=>{this.loadRoute(),this.isLoading=!1})},currentEpisode(){this.isLoading=!0,this.loadShots(()=>{this.loadRoute(),this.isLoading=!1})},$route(){this.loadRoute()}},head(){return{title:`${this.currentProduction.name} | ${this.$t("quota.title")} - Kitsu`}}},Qe={class:"columns fixed-page"},Pe={class:"column main-column"},De={class:"flexrow filters"},Re={class:"flexrow-item"},Ce={class:"flexrow-item"},Ne={class:"flexrow-item"},Ve={class:"flexrow-item"},Ye={class:"flexrow mb2 mt0"},Oe={class:"label flexrow-item"},Ee={key:0,class:"column side-column"};function We(t,o,e,d,a,s){const g=f("combobox-task-type"),c=f("combobox"),q=f("info-question-mark"),n=f("button-simple"),h=f("search-field"),N=f("text-field"),V=f("quota"),Y=f("people-quota-info");return i(),r("div",Qe,[l("div",Pe,[l("div",De,[l("div",Re,[y(g,{class:"flexrow-item",label:t.$t("quota.type_label"),"task-type-list":t.productionShotTaskTypes,modelValue:a.taskTypeId,"onUpdate:modelValue":o[0]||(o[0]=p=>a.taskTypeId=p)},null,8,["label","task-type-list","modelValue"])]),l("div",Ce,[y(c,{class:"flexrow-item",label:t.$t("quota.detail_label"),options:a.detailLevelOptions,modelValue:a.detailLevelString,"onUpdate:modelValue":o[1]||(o[1]=p=>a.detailLevelString=p)},null,8,["label","options","modelValue"])]),a.detailLevelString==="day"?(i(),w(c,{key:0,class:"flexrow-item",label:t.$t("quota.month_label"),options:s.monthOptions,modelValue:a.monthString,"onUpdate:modelValue":o[2]||(o[2]=p=>a.monthString=p)},null,8,["label","options","modelValue"])):M("",!0),y(c,{class:"flexrow-item",label:t.$t("quota.year_label"),options:s.yearOptions,modelValue:a.yearString,"onUpdate:modelValue":o[3]||(o[3]=p=>a.yearString=p)},null,8,["label","options","modelValue"]),l("div",Ne,[y(c,{class:"flexrow-item",label:t.$t("quota.count_label"),options:a.countModeOptions,modelValue:a.countMode,"onUpdate:modelValue":o[4]||(o[4]=p=>a.countMode=p)},null,8,["label","options","modelValue"])]),y(c,{class:"flexrow-item",label:t.$t("quota.compute_mode"),options:a.computeModeOptions,modelValue:a.computeMode,"onUpdate:modelValue":o[5]||(o[5]=p=>a.computeMode=p)},null,8,["label","options","modelValue"]),l("div",Ve,[y(q,{class:"mt2",text:t.$t("quota.explanation_"+a.computeMode)},null,8,["text"])]),o[7]||(o[7]=l("div",{class:"filler"},null,-1)),y(n,{class:"flexrow-item",title:t.$t("quota.export_quotas"),icon:"download",onClick:s.exportQuotas},null,8,["title","onClick"])]),l("div",Ye,[y(h,{ref:"search-field",class:"search-field flexrow-item",onChange:s.onSearchChange},null,8,["onChange"]),l("span",Oe,u(t.$t("quota.highlight_quotas")),1),y(N,{class:"flexrow-item max-quota-input",type:"number",modelValue:a.maxQuota,"onUpdate:modelValue":o[6]||(o[6]=p=>a.maxQuota=p)},null,8,["modelValue"])]),y(V,{ref:"quota-list","task-type-id":a.taskTypeId,"detail-level":a.detailLevelString,year:a.currentYear,month:a.currentMonth,week:a.currentWeek,day:a.currentDay,"current-person":a.currentPerson,"count-mode":a.currentMode,"compute-mode":a.computeMode,"search-text":a.searchText,"max-quota":a.maxQuota},null,8,["task-type-id","detail-level","year","month","week","day","current-person","count-mode","compute-mode","search-text","max-quota"])]),a.showInfo?(i(),r("div",Ee,[y(Y,{person:a.currentPerson,year:a.currentYear,month:a.currentMonth,week:a.currentWeek,day:a.currentDay,"is-loading":a.isPersonShotsLoading,"is-loading-error":!1,shots:a.personShots,"count-mode":a.countMode,onClose:s.hideSideInfo},null,8,["person","year","month","week","day","is-loading","shots","count-mode","onClose"])])):M("",!0)])}const Ae=S(Te,[["render",We],["__scopeId","data-v-e8157d1c"]]);export{Ae as default};
//# sourceMappingURL=ProductionQuota-C4SQho__.js.map
