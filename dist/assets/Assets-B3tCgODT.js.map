{"version":3,"file":"Assets-B3tCgODT.js","sources":["../../src/components/lists/AssetList.vue","../../src/components/pages/Assets.vue"],"sourcesContent":["<template>\n  <div class=\"data-list\">\n    <div ref=\"body\" class=\"datatable-wrapper\" @scroll.passive=\"onBodyScroll\">\n      <table-header-menu\n        ref=\"headerMenu\"\n        :is-minimized=\"hiddenColumns[lastHeaderMenuDisplayed]\"\n        :is-edit-allowed=\"isCurrentUserManager\"\n        :is-sticked=\"stickedColumns[lastHeaderMenuDisplayed]\"\n        @minimize-clicked=\"onMinimizeColumnToggled()\"\n        @delete-all-clicked=\"onDeleteAllTasksClicked()\"\n        @sort-by-clicked=\"onSortByTaskTypeClicked()\"\n        @select-column=\"onSelectColumn('asset')\"\n        @toggle-stick=\"stickColumnClicked()\"\n      />\n\n      <table-metadata-header-menu\n        ref=\"headerMetadataMenu\"\n        :is-edit-allowed=\"\n          isMetadataColumnEditAllowed(lastMetadaDataHeaderMenuDisplayed)\n        \"\n        :is-sticked=\"stickedColumns[lastMetadaDataHeaderMenuDisplayed]\"\n        @edit-clicked=\"onEditMetadataClicked()\"\n        @delete-clicked=\"onDeleteMetadataClicked()\"\n        @sort-by-clicked=\"onSortByMetadataClicked()\"\n        @toggle-stick=\"metadataStickColumnClicked($event)\"\n      />\n\n      <table class=\"datatable multi-section\">\n        <thead class=\"datatable-head\" v-columns-resizable id=\"datatable-asset\">\n          <tr>\n            <th ref=\"th-name\" class=\"name datatable-row-header\" scope=\"col\">\n              <div class=\"flexrow\">\n                <span class=\"flexrow-item\">\n                  {{ $t('assets.fields.name') }}\n                </span>\n                <button-simple\n                  class=\"is-small flexrow-item\"\n                  icon=\"plus\"\n                  :text=\"''\"\n                  @click=\"onAddMetadataClicked\"\n                  v-if=\"\n                    (isCurrentUserManager || isCurrentUserSupervisor) &&\n                    !isLoading\n                  \"\n                />\n              </div>\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"episode\"\n              ref=\"th-episode\"\n              v-if=\"isTVShow && displaySettings.showInfos\"\n            >\n              {{ $t('assets.fields.episode') }}\n            </th>\n\n            <metadata-header\n              :ref=\"`editor-${j}`\"\n              :key=\"'sticky-header' + descriptor.id\"\n              :descriptor=\"descriptor\"\n              :left=\"\n                offsets['editor-' + j] ? `${offsets['editor-' + j]}px` : '0'\n              \"\n              is-stick\n              :style=\"{\n                'z-index': 1001\n              }\"\n              @show-metadata-header-menu=\"\n                event => showMetadataHeaderMenu(descriptor.id, event)\n              \"\n              v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n            />\n\n            <template v-if=\"!isLoading\">\n              <validation-header\n                :ref=\"`validation-${columnIndexInGrid}`\"\n                :key=\"'sticky-header' + columnId\"\n                :hidden-columns=\"hiddenColumns\"\n                :column-id=\"columnId\"\n                :validation-style=\"getValidationStyle(columnId)\"\n                :left=\"\n                  offsets['validation-' + columnIndexInGrid]\n                    ? `${offsets['validation-' + columnIndexInGrid]}px`\n                    : '0'\n                \"\n                type=\"assets\"\n                is-stick\n                @show-header-menu=\"\n                  event => showHeaderMenu(columnId, columnIndexInGrid, event)\n                \"\n                v-for=\"(\n                  columnId, columnIndexInGrid\n                ) in stickedDisplayedValidationColumns\"\n              />\n            </template>\n\n            <th\n              ref=\"th-ready-for\"\n              scope=\"col\"\n              class=\"ready-for\"\n              :title=\"$t('assets.fields.ready_for')\"\n              v-if=\"\n                isCurrentUserManager &&\n                displaySettings.showInfos &&\n                !isAssetsOnly &&\n                metadataDisplayHeaders.readyFor\n              \"\n            >\n              {{ $t('assets.fields.ready_for') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"description\"\n              ref=\"th-description\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isAssetDescription\n              \"\n            >\n              {{ $t('assets.fields.description') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"time-spent number-cell\"\n              ref=\"th-spent\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isAssetTime &&\n                metadataDisplayHeaders.timeSpent\n              \"\n            >\n              {{ $t('assets.fields.time_spent') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"estimation number-cell\"\n              :title=\"$t('main.estimation')\"\n              ref=\"th-spent\"\n              v-if=\"\n                !isCurrentUserClient &&\n                displaySettings.showInfos &&\n                isAssetEstimation &&\n                metadataDisplayHeaders.estimation\n              \"\n            >\n              {{ $t('main.estimation_short') }}\n            </th>\n\n            <th\n              scope=\"col\"\n              class=\"resolution\"\n              v-if=\"\n                isAssetResolution &&\n                displaySettings.showInfos &&\n                metadataDisplayHeaders.resolution\n              \"\n            >\n              {{ $t('shots.fields.resolution') }}\n            </th>\n\n            <template v-if=\"displaySettings.showInfos\">\n              <metadata-header\n                :key=\"'header' + descriptor.id\"\n                :descriptor=\"descriptor\"\n                @show-metadata-header-menu=\"\n                  event => showMetadataHeaderMenu(descriptor.id, event)\n                \"\n                v-for=\"descriptor in nonStickedVisibleMetadataDescriptors\"\n              />\n            </template>\n\n            <template v-if=\"!isLoading\">\n              <validation-header\n                :key=\"'header' + columnId\"\n                :hidden-columns=\"hiddenColumns\"\n                :column-id=\"columnId\"\n                :validation-style=\"getValidationStyle(columnId)\"\n                type=\"assets\"\n                @show-header-menu=\"\n                  event => {\n                    showHeaderMenu(columnId, columnIndexInGrid, event)\n                  }\n                \"\n                v-for=\"(\n                  columnId, columnIndexInGrid\n                ) in nonStickedDisplayedValidationColumns\"\n              />\n            </template>\n\n            <th scope=\"col\" class=\"actions\" ref=\"actionsSection\">\n              <button-simple\n                :class=\"{\n                  'is-small': true,\n                  highlighted: isEmptyTask\n                }\"\n                icon=\"plus\"\n                :text=\"$t('tasks.create_tasks')\"\n                @click=\"$emit('create-tasks')\"\n                v-if=\"\n                  isCurrentUserManager &&\n                  displayedAssets.length > 0 &&\n                  !isLoading\n                \"\n              />\n\n              <table-metadata-selector-menu\n                :descriptors=\"assetMetadataDescriptors\"\n                :exclude=\"{\n                  timeSpent: !isAssetTime,\n                  estimation: !isAssetEstimation\n                }\"\n                namespace=\"assets\"\n                v-model=\"metadataDisplayHeaders\"\n                v-show=\"columnSelectorDisplayed\"\n                v-if=\"displaySettings.showInfos\"\n              />\n\n              <button-simple\n                class=\"is-small is-pulled-right mr05\"\n                icon=\"down\"\n                @click=\"toggleColumnSelector\"\n                v-if=\"displaySettings.showInfos\"\n              />\n            </th>\n          </tr>\n        </thead>\n\n        <template v-if=\"!isLoading && isListVisible\">\n          <tbody\n            class=\"datatable-body\"\n            :key=\"'group-' + getGroupKey(group, k, 'asset_type_id')\"\n            @mousedown=\"startBrowsing\"\n            @touchstart=\"startBrowsing\"\n            v-for=\"(group, k) in displayedAssets\"\n          >\n            <tr class=\"datatable-type-header\" v-if=\"group[0]\">\n              <th scope=\"rowgroup\" :colspan=\"visibleColumns\">\n                <span\n                  class=\"datatable-row-header pointer\"\n                  @click=\"$emit('asset-type-clicked', group[0].asset_type_name)\"\n                >\n                  {{ group[0] ? group[0].asset_type_name : '' }}\n                </span>\n              </th>\n            </tr>\n\n            <tr\n              class=\"datatable-row\"\n              :class=\"{\n                canceled: asset.canceled,\n                shared: asset.shared\n              }\"\n              scope=\"row\"\n              :key=\"`row${asset.id}`\"\n              :title=\"asset.shared ? $t('library.from_library') : undefined\"\n              v-for=\"(asset, i) in group\"\n            >\n              <th\n                :class=\"{\n                  'datatable-row-header': true,\n                  name: true,\n                  bold: !asset.canceled\n                }\"\n              >\n                <div class=\"flexrow\">\n                  <input\n                    type=\"checkbox\"\n                    class=\"flexrow-item\"\n                    :checked=\"selectedAssets.has(asset.id) || null\"\n                    :disabled=\"asset.shared\"\n                    @input=\"event => toggleLine(asset, event)\"\n                    v-if=\"isCurrentUserManager\"\n                  />\n                  <entity-thumbnail\n                    class=\"entity-thumbnail flexrow-item\"\n                    :entity=\"asset\"\n                    :width=\"displaySettings.bigThumbnails ? 150 : 50\"\n                    :height=\"displaySettings.bigThumbnails ? 100 : 30\"\n                    :empty-width=\"displaySettings.bigThumbnails ? 150 : 50\"\n                    :empty-height=\"displaySettings.bigThumbnails ? 100 : 32\"\n                  />\n                  <router-link\n                    tabindex=\"-1\"\n                    class=\"asset-link asset-name flexrow-item\"\n                    :to=\"assetPath(asset.id)\"\n                    :title=\"asset.full_name\"\n                    v-if=\"!asset.shared && !isCurrentUserClient\"\n                  >\n                    {{ asset.name }}\n                  </router-link>\n                  <template v-else>\n                    {{ asset.name }}\n                  </template>\n                </div>\n              </th>\n\n              <td class=\"episode\" v-if=\"isTVShow && displaySettings.showInfos\">\n                <div class=\"flexrow\" :title=\"assetEpisodes(asset, true)\">\n                  {{ assetEpisodes(asset, false) }}\n                </div>\n              </td>\n\n              <!-- Metadata stick -->\n              <td\n                class=\"metadata-descriptor datatable-row-header\"\n                :title=\"asset.data ? asset.data[descriptor.field_name] : ''\"\n                :style=\"{\n                  'z-index': 1000 - i - k * 100, // Needed for combo to be above the next cell\n                  left: offsets['editor-' + j]\n                    ? `${offsets['editor-' + j]}px`\n                    : '0'\n                }\"\n                :key=\"'sticky-desc-' + asset.id + '-' + descriptor.id\"\n                v-for=\"(descriptor, j) in stickedVisibleMetadataDescriptors\"\n              >\n                <metadata-input\n                  :entity=\"asset\"\n                  :descriptor=\"descriptor\"\n                  :indexes=\"{ i, j, k }\"\n                  @metadata-changed=\"$emit('metadata-changed', $event)\"\n                />\n              </td>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${getIndex(i, k)}-${j}`\"\n                  :class=\"{\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId],\n                    'datatable-row-header': true\n                  }\"\n                  :contact-sheet=\"displaySettings.contactSheetMode\"\n                  :key=\"'sticky-validation-' + columnId + '-' + asset.id\"\n                  :canceled=\"asset.canceled\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :entity=\"asset\"\n                  :task-test=\"taskMap.get(asset.validations.get(columnId))\"\n                  :selected=\"isSelected(i, k, j)\"\n                  :row-x=\"getIndex(i, k)\"\n                  :column-y=\"j\"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :is-static=\"true\"\n                  :is-assignees=\"displaySettings.showAssignations\"\n                  :left=\"\n                    offsets['validation-' + j]\n                      ? `${offsets['validation-' + j]}px`\n                      : '0'\n                  \"\n                  :sticked=\"true\"\n                  @select=\"infos => onTaskSelected(infos, true)\"\n                  @unselect=\"infos => onTaskUnselected(infos, true)\"\n                  v-for=\"(columnId, j) in stickedDisplayedValidationColumns\"\n                />\n              </template>\n\n              <td\n                class=\"task-type-name ready-for\"\n                v-if=\"\n                  isCurrentUserManager &&\n                  displaySettings.showInfos &&\n                  !isAssetsOnly &&\n                  metadataDisplayHeaders.readyFor\n                \"\n              >\n                <combobox-task-type\n                  class=\"mb0\"\n                  :model-value=\"asset.ready_for\"\n                  :task-type-list=\"readyForTaskTypes\"\n                  :shy=\"true\"\n                  @update:model-value=\"\n                    taskTypeId => onReadyForChanged(asset, taskTypeId)\n                  \"\n                />\n              </td>\n\n              <description-cell\n                class=\"description\"\n                @description-changed=\"\n                  value => onDescriptionChanged(asset, value)\n                \"\n                :editable=\"isCurrentUserManager && !asset.shared\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isAssetDescription\n                \"\n                :entry=\"asset\"\n              />\n\n              <td\n                class=\"time-spent selectable number-cell\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isAssetTime &&\n                  metadataDisplayHeaders.timeSpent\n                \"\n              >\n                {{ formatDuration(asset.timeSpent) }}\n              </td>\n\n              <td\n                class=\"estimation selectable number-cell\"\n                v-if=\"\n                  !isCurrentUserClient &&\n                  displaySettings.showInfos &&\n                  isAssetEstimation &&\n                  metadataDisplayHeaders.estimation\n                \"\n              >\n                {{ formatDuration(asset.estimation) }}\n              </td>\n\n              <td\n                class=\"resolution\"\n                v-if=\"\n                  isAssetResolution &&\n                  displaySettings.showInfos &&\n                  metadataDisplayHeaders.resolution\n                \"\n              >\n                <input\n                  :class=\"{\n                    'input-editor': true,\n                    error: !isValidResolution(asset)\n                  }\"\n                  :value=\"\n                    getMetadataFieldValue({ field_name: 'resolution' }, asset)\n                  \"\n                  @input=\"\n                    event =>\n                      onMetadataFieldChanged(\n                        asset,\n                        { field_name: 'resolution' },\n                        event\n                      )\n                  \"\n                  @keyup.ctrl=\"\n                    event =>\n                      onInputKeyUp(event, getIndex(i, k), descriptorLength + 3)\n                  \"\n                  v-if=\"isCurrentUserManager\"\n                />\n\n                <span class=\"metadata-value selectable\" v-else>\n                  {{\n                    getMetadataFieldValue({ field_name: 'resolution' }, asset)\n                  }}\n                </span>\n              </td>\n\n              <!-- other Metadata cells -->\n              <template v-if=\"displaySettings.showInfos\">\n                <td\n                  class=\"metadata-descriptor\"\n                  :title=\"asset.data ? asset.data[descriptor.field_name] : ''\"\n                  :key=\"'desc' + asset.id + '-' + descriptor.id\"\n                  v-for=\"(\n                    descriptor, j\n                  ) in nonStickedVisibleMetadataDescriptors\"\n                >\n                  <metadata-input\n                    :entity=\"asset\"\n                    :descriptor=\"descriptor\"\n                    :indexes=\"{ i, j, k }\"\n                    @metadata-changed=\"$emit('metadata-changed', $event)\"\n                  />\n                </td>\n              </template>\n\n              <template v-if=\"!isLoading\">\n                <validation-cell\n                  :ref=\"`validation-${getIndex(i, k)}-${\n                    j + stickedDisplayedValidationColumns.length\n                  }`\"\n                  :class=\"{\n                    'validation-cell': !hiddenColumns[columnId],\n                    'hidden-validation-cell': hiddenColumns[columnId]\n                  }\"\n                  :key=\"'validation' + columnId + '-' + asset.id\"\n                  :canceled=\"asset.canceled\"\n                  :column=\"taskTypeMap.get(columnId)\"\n                  :contact-sheet=\"displaySettings.contactSheetMode\"\n                  :entity=\"asset\"\n                  :task-test=\"taskMap.get(asset.validations.get(columnId))\"\n                  :selected=\"\n                    isSelected(\n                      i,\n                      k,\n                      j + stickedDisplayedValidationColumns.length\n                    )\n                  \"\n                  :row-x=\"getIndex(i, k)\"\n                  :column-y=\"j\"\n                  :minimized=\"hiddenColumns[columnId]\"\n                  :is-static=\"true\"\n                  :is-assignees=\"displaySettings.showAssignations\"\n                  :selectable=\"isSelectable(asset, columnId)\"\n                  :disabled=\"!isSelectable(asset, columnId)\"\n                  @select=\"onTaskSelected\"\n                  @unselect=\"onTaskUnselected\"\n                  v-for=\"(columnId, j) in nonStickedDisplayedValidationColumns\"\n                />\n              </template>\n\n              <row-actions-cell\n                :entry=\"asset\"\n                @edit-clicked=\"$emit('edit-clicked', asset)\"\n                @delete-clicked=\"$emit('delete-clicked', asset)\"\n                @restore-clicked=\"$emit('restore-clicked', asset)\"\n                v-if=\"isCurrentUserManager && !asset.shared\"\n              />\n\n              <td class=\"actions\" v-else></td>\n            </tr>\n          </tbody>\n        </template>\n      </table>\n\n      <div\n        class=\"has-text-centered\"\n        v-if=\"isEmptyList && !isCurrentUserClient && !isLoading\"\n      >\n        <p class=\"info\">\n          <img src=\"../../assets/illustrations/empty_asset.png\" />\n        </p>\n        <p class=\"info\">{{ $t('assets.empty_list') }}</p>\n        <button-simple\n          class=\"level-item big-button\"\n          :text=\"$t('assets.new_assets')\"\n          @click=\"$emit('new-clicked')\"\n        />\n      </div>\n      <div\n        class=\"has-text-centered\"\n        v-if=\"isEmptyList && isCurrentUserClient && !isLoading\"\n      >\n        <p class=\"info\">\n          <img src=\"../../assets/illustrations/empty_asset.png\" />\n        </p>\n        <p class=\"info\">{{ $t('assets.empty_list_client') }}</p>\n      </div>\n\n      <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n    </div>\n\n    <p class=\"has-text-centered nb-assets\" v-if=\"!isEmptyList && !isLoading\">\n      {{ displayedAssetsLength }}\n      {{ $tc('assets.number', displayedAssetsLength) }}\n      <span\n        v-if=\"displayedAssetsTimeSpent > 0 || displayedAssetsEstimation > 0\"\n      >\n        ({{ formatDuration(displayedAssetsTimeSpent) }}\n        {{\n          isDurationInHours\n            ? $tc(\n                'main.hours_spent',\n                formatDuration(displayedAssetsTimeSpent, false)\n              )\n            : $tc(\n                'main.days_spent',\n                formatDuration(displayedAssetsTimeSpent, false)\n              )\n        }},\n        {{ formatDuration(displayedAssetsEstimation) }}\n        {{\n          isDurationInHours\n            ? $tc(\n                'main.hours_estimated',\n                formatDuration(displayedAssetsEstimation, false)\n              )\n            : $tc(\n                'main.man_days',\n                formatDuration(displayedAssetsEstimation, false)\n              )\n        }})\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { descriptorMixin } from '@/components/mixins/descriptors'\nimport { domMixin } from '@/components/mixins/dom'\nimport { entityListMixin } from '@/components/mixins/entity_list'\nimport { formatListMixin } from '@/components/mixins/format'\nimport { selectionListMixin } from '@/components/mixins/selection'\n\nimport preferences from '@/lib/preferences'\nimport { sortTaskTypes } from '@/lib/sorting'\nimport { range } from '@/lib/time'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport ComboboxTaskType from '@/components/widgets/ComboboxTaskType.vue'\nimport DescriptionCell from '@/components/cells/DescriptionCell.vue'\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail.vue'\nimport MetadataHeader from '@/components/cells/MetadataHeader.vue'\nimport MetadataInput from '@/components/cells/MetadataInput.vue'\nimport RowActionsCell from '@/components/cells/RowActionsCell.vue'\nimport TableHeaderMenu from '@/components/widgets/TableHeaderMenu.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\nimport TableMetadataHeaderMenu from '@/components/widgets/TableMetadataHeaderMenu.vue'\nimport TableMetadataSelectorMenu from '@/components/widgets/TableMetadataSelectorMenu.vue'\nimport ValidationCell from '@/components/cells/ValidationCell.vue'\nimport ValidationHeader from '@/components/cells/ValidationHeader.vue'\n\nimport assetTypeStore from '@/store/modules/assettypes'\nimport episodeStore from '@/store/modules/episodes'\nimport taskTypeStore from '@/store/modules/tasktypes'\n\nexport default {\n  name: 'asset-list',\n\n  mixins: [\n    entityListMixin,\n    descriptorMixin,\n    domMixin,\n    formatListMixin,\n    selectionListMixin\n  ],\n\n  components: {\n    ButtonSimple,\n    ComboboxTaskType,\n    DescriptionCell,\n    EntityThumbnail,\n    MetadataInput,\n    MetadataHeader,\n    RowActionsCell,\n    TableInfo,\n    TableHeaderMenu,\n    TableMetadataHeaderMenu,\n    TableMetadataSelectorMenu,\n    ValidationCell,\n    ValidationHeader\n  },\n\n  props: {\n    contactSheetMode: {\n      type: Boolean,\n      default: false\n    },\n    displaySettings: {\n      type: Object,\n      default: () => {}\n    },\n    displayedAssets: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: true\n    },\n    isError: {\n      type: Boolean,\n      default: true\n    },\n    validationColumns: {\n      type: Array,\n      default: () => []\n    },\n    departmentFilter: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  emits: [\n    'asset-changed',\n    'asset-type-clicked',\n    'create-tasks',\n    'delete-clicked',\n    'edit-clicked',\n    'metadata-changed',\n    'new-clicked',\n    'restore-clicked',\n    'scroll'\n  ],\n\n  data() {\n    return {\n      type: 'asset',\n      columnSelectorDisplayed: false,\n      hiddenColumns: {},\n      isSelectableMap: {},\n      lastSelection: null,\n      lastHeaderMenuDisplayed: null,\n      lastMetadaDataHeaderMenuDisplayed: null,\n      lastHeaderMenuDisplayedIndexInGrid: null,\n      metadataDisplayHeaders: {\n        estimation: true,\n        readyFor: true,\n        resolution: true,\n        timeSpent: true\n      },\n      stickedColumns: {},\n      domEvents: [\n        ['mousemove', this.onMouseMove],\n        ['touchmove', this.onMouseMove],\n        ['mouseup', this.stopBrowsing],\n        ['mouseleave', this.stopBrowsing],\n        ['touchend', this.stopBrowsing],\n        ['touchcancel', this.stopBrowsing],\n        ['keyup', this.stopBrowsing]\n      ],\n      offsets: {},\n      lastSelectedAsset: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'assets',\n      'assetFilledColumns',\n      'assetMap',\n      'assetMetadataDescriptors',\n      'assetSearchText',\n      'assetSelectionGrid',\n      'currentEpisode',\n      'currentProduction',\n      'displayedAssetsCount',\n      'displayedAssetsLength',\n      'displayedAssetsTimeSpent',\n      'displayedAssetsEstimation',\n      'nbSelectedTasks',\n      'organisation',\n      'isAssetDescription',\n      'isAssetResolution',\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'isCurrentUserSupervisor',\n      'isShowAssignations',\n      'isAssetEstimation',\n      'isAssetTime',\n      'isTVShow',\n      'productionAssetTaskTypes',\n      'productionShotTaskTypes',\n      'selectedAssets',\n      'selectedTasks',\n      'taskMap',\n      'user'\n    ]),\n\n    assetTypeMap() {\n      return assetTypeStore.cache.assetTypeMap\n    },\n\n    episodeMap() {\n      return episodeStore.cache.episodeMap\n    },\n\n    taskTypeMap() {\n      return taskTypeStore.cache.taskTypeMap\n    },\n\n    isEmptyList() {\n      return (\n        this.displayedAssetsCount === 0 &&\n        !this.isLoading &&\n        !this.isError &&\n        (!this.assetSearchText || this.assetSearchText.length === 0)\n      )\n    },\n\n    isEmptyTask() {\n      return (\n        !this.isEmptyList &&\n        !this.isLoading &&\n        this.validationColumns &&\n        this.validationColumns.length === 0\n      )\n    },\n\n    isListVisible() {\n      return !this.isLoading && !this.isError && this.displayedAssetsCount > 0\n    },\n\n    visibleColumns() {\n      let count = 1\n      count += this.isTVShow ? 1 : 0\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isAssetDescription\n          ? 1\n          : 0\n      count += this.visibleMetadataDescriptors.length\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isAssetTime &&\n        this.metadataDisplayHeaders.timeSpent\n          ? 1\n          : 0\n      count +=\n        !this.isCurrentUserClient &&\n        this.displaySettings.showInfos &&\n        this.isAssetEstimation &&\n        this.metadataDisplayHeaders.estimation\n          ? 1\n          : 0\n      count += this.displayedValidationColumns.length\n      return count\n    },\n\n    displayedValidationColumns() {\n      return this.validationColumns.filter(columnId => {\n        return (\n          this.assetFilledColumns[columnId] &&\n          (!this.hiddenColumns[columnId] || this.displaySettings.showInfos)\n        )\n      })\n    },\n\n    metadataDescriptors() {\n      return this.assetMetadataDescriptors\n    },\n\n    localStorageStickKey() {\n      return `stick-assets-${this.currentProduction?.id}`\n    },\n\n    readyForTaskTypes() {\n      return [\n        {\n          id: null,\n          name: this.$t('tasks.fields.no_task_type'),\n          color: '#CCC'\n        },\n        ...sortTaskTypes(this.productionShotTaskTypes, this.currentProduction)\n      ]\n    },\n\n    isAssetsOnly() {\n      return this.currentProduction?.production_type === 'assets'\n    },\n\n    formatDurationInHours() {\n      return this.organisation.format_duration_in_hours\n    }\n  },\n\n  methods: {\n    ...mapActions(['displayMoreAssets', 'editAsset', 'setAssetSelection']),\n\n    assetEpisodes(asset, full) {\n      if (!this.episodeMap) return ''\n      const mainEpisode = this.episodeMap.get(asset.episode_id)\n      const mainEpisodeName = mainEpisode ? mainEpisode.name : 'MP'\n      const episodeNames = (asset.casting_episode_ids || [])\n        .map(eId => this.episodeMap.get(eId).name)\n        .filter(name => name !== mainEpisodeName)\n      let episodeNameString = ''\n      if (episodeNames.length > 2) {\n        if (full) {\n          episodeNameString = episodeNames.join(', ')\n        } else {\n          episodeNameString = episodeNames.slice(0, 2).join(', ') + ', ...'\n        }\n      } else if (episodeNames.length > 0) {\n        episodeNameString = episodeNames.join(', ')\n      }\n      return episodeNames.length > 0\n        ? mainEpisodeName + ', ' + episodeNameString\n        : mainEpisodeName\n    },\n\n    // Selectable if the task type is included in the workflow.\n    isSelectable(asset, columnId) {\n      if (asset.shared) {\n        return false\n      }\n      const key = asset.asset_type_id + columnId\n      if (this.isSelectableMap === undefined) this.isSelectableMap = {}\n      if (this.isSelectableMap[key] === undefined) {\n        const taskType = this.taskTypeMap.get(columnId)\n        const assetType = this.assetTypeMap.get(asset.asset_type_id)\n        let taskTypes = assetType?.task_types || []\n        if (taskTypes.length === 0) {\n          taskTypes = this.productionAssetTaskTypes.map(t => t.id)\n        }\n        this.isSelectable[key] = taskTypes.includes(taskType.id)\n      }\n      return this.isSelectable[key]\n    },\n\n    isSelected(indexInGroup, groupIndex, columnIndex) {\n      const lineIndex = this.getIndex(indexInGroup, groupIndex)\n      return this.assetSelectionGrid[lineIndex][columnIndex]\n    },\n\n    toggleLine(asset, event) {\n      const selected = event.target.checked\n      const assetsToSelect = [asset]\n      if (selected && this.shiftKeyPressed && this.lastSelectedAsset) {\n        const assetsFlatten = this.displayedAssets.flat()\n        let startAssetIndex = assetsFlatten.findIndex(\n          displayedAsset => displayedAsset.id === this.lastSelectedAsset.id\n        )\n        let endAssetIndex = assetsFlatten.findIndex(\n          displayedAsset => displayedAsset.id === asset.id\n        )\n        if (startAssetIndex > endAssetIndex) {\n          ;[startAssetIndex, endAssetIndex] = [endAssetIndex, startAssetIndex]\n        }\n        if (startAssetIndex >= 0 && endAssetIndex >= 0) {\n          range(startAssetIndex, endAssetIndex).forEach(index => {\n            assetsToSelect.push(assetsFlatten[index])\n          })\n        }\n      }\n      if (selected) {\n        this.lastSelectedAsset = asset\n      }\n      assetsToSelect.forEach(asset => {\n        this.setAssetSelection({ asset, selected })\n      })\n    },\n\n    onBodyScroll(event) {\n      if (!this.$refs.body) return\n      const position = event.target\n      this.$emit('scroll', position.scrollTop)\n      const maxHeight =\n        this.$refs.body.scrollHeight - this.$refs.body.offsetHeight\n      if (maxHeight < position.scrollTop + 100) {\n        this.loadMoreAssets()\n      }\n    },\n\n    onReadyForChanged(asset, taskTypeId) {\n      if (this.selectedAssets.has(asset.id)) {\n        this.selectedAssets.forEach(asset => {\n          const data = { id: asset.id, ready_for: taskTypeId }\n          this.$emit('asset-changed', data)\n        })\n      } else {\n        const data = { id: asset.id, ready_for: taskTypeId }\n        this.$emit('asset-changed', data)\n      }\n    },\n\n    loadMoreAssets() {\n      this.displayMoreAssets()\n    },\n\n    getIndex(i, k) {\n      return this.getEntityLineNumber(this.displayedAssets, i, k)\n    },\n\n    assetPath(assetId) {\n      return this.getPath('asset', assetId)\n    },\n\n    getPath(section, assetId) {\n      const route = {\n        name: section,\n        params: {\n          production_id: this.currentProduction?.id\n        }\n      }\n\n      if (this.isTVShow && this.currentEpisode) {\n        route.name = `episode-${section}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n\n      if (assetId) {\n        route.params.asset_id = assetId\n      }\n\n      return route\n    },\n\n    onInputKeyUp(event, i, j) {\n      const listWidth = this.visibleMetadataDescriptors.length\n      const listHeight = this.displayedAssetsCount\n      this.keyMetadataNavigation(listWidth, listHeight, i, j, event.key)\n    },\n\n    toggleStickedColumns(columnId) {\n      const sticked = !this.stickedColumns[columnId]\n      this.stickedColumns = {\n        ...this.stickedColumns,\n        [columnId]: sticked\n      }\n      preferences.setObjectPreference(\n        this.localStorageStickKey,\n        this.stickedColumns\n      )\n    },\n\n    stickColumnClicked() {\n      this.toggleStickedColumns(this.lastHeaderMenuDisplayed)\n      this.showHeaderMenu()\n    },\n\n    metadataStickColumnClicked(event) {\n      this.toggleStickedColumns(this.lastMetadaDataHeaderMenuDisplayed)\n      this.showMetadataHeaderMenu(this.lastMetadaDataHeaderMenuDisplayed, event)\n    },\n\n    updateOffsets() {\n      if (this.isLoading) {\n        return\n      }\n      this.$nextTick(function () {\n        let offset = this.$refs['th-name'].clientWidth\n        this.offsets = {}\n\n        if (this.displaySettings.showInfos) {\n          for (\n            let metadataCol = 0;\n            metadataCol < this.stickedVisibleMetadataDescriptors.length;\n            metadataCol++\n          ) {\n            this.offsets[`editor-${metadataCol}`] = offset\n            offset += this.$refs[`editor-${metadataCol}`][0].$el.clientWidth\n          }\n        }\n        for (\n          let validationCol = 0;\n          validationCol < this.stickedDisplayedValidationColumns.length;\n          validationCol++\n        ) {\n          this.offsets[`validation-${validationCol}`] = offset\n          offset += this.$refs[`validation-${validationCol}`][0].$el.clientWidth\n        }\n      })\n    }\n  },\n\n  watch: {\n    displayedAssets: {\n      deep: true,\n      handler() {\n        this.$options.lineIndex = {}\n      }\n    },\n\n    validationColumns: {\n      deep: true,\n      handler() {\n        this.initHiddenColumns(this.validationColumns, this.hiddenColumns)\n      }\n    },\n\n    stickedColumns() {\n      this.updateOffsets()\n    },\n\n    isLoading() {\n      this.updateOffsets()\n    },\n\n    'displaySettings.bigThumbnails'() {\n      this.updateOffsets()\n    },\n\n    currentProduction() {\n      // Map used for performance reasons, to avoid array traversals\n      this.isSelectableMap = {}\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark thead tr a {\n  color: $light-grey;\n\n  .asset-name {\n    color: $white;\n  }\n\n  td .select {\n    &:active,\n    &:focus,\n    &:hover {\n      &::after {\n        border-color: $green;\n      }\n    }\n  }\n}\n\n.actions {\n  min-width: 160px;\n  padding: 0.4em;\n  position: sticky;\n}\n\n.name {\n  min-width: 200px;\n  width: 200px;\n}\n\nth.time-spent,\ntd.time-spent,\nth.estimation,\ntd.estimation {\n  min-width: 60px;\n  width: 60px;\n}\n\ntd.resolution {\n  min-width: 110px;\n  max-width: 110px;\n  width: 110px;\n}\n\nth.ready-for,\ntd.ready-for {\n  max-width: 180px;\n  width: 180px;\n  padding: 1px 5px;\n}\n\n.episode {\n  min-width: 130px;\n  width: 130px;\n}\n\n.bold {\n  font-weight: bold;\n}\n\n.description {\n  min-width: 200px;\n  max-width: 200px;\n  width: 200px;\n}\n\n.validation-cell {\n  min-width: 150px;\n  max-width: 150px;\n  width: 150px;\n  margin-right: 1em;\n}\n\n.hidden-validation-cell {\n  min-width: 30px;\n  max-width: 30px;\n  width: 30px;\n  padding: 4px;\n}\n\n.datatable-wrapper {\n  min-height: 200px;\n  flex: 1;\n}\n\n.datatable-row.shared {\n  > th,\n  > td {\n    opacity: 0.6;\n    background: color-mix(\n      in srgb,\n      var(--shared-color) 20%,\n      transparent\n    ) !important;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n  > td:not(.description-cell) {\n    font-size: 0;\n\n    > :deep(*) {\n      display: none;\n    }\n  }\n}\n\n.datatable-row th.name {\n  font-size: 1.1em;\n  padding: 6px;\n}\n\n.asset-name {\n  color: inherit;\n}\n\n.info img {\n  max-width: 80vh;\n}\n\ninput[type='number']::-webkit-outer-spin-button,\ninput[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n\n// Metadata cell CSS\n\ntd.resolution,\ntd.metadata-descriptor {\n  height: 3.1rem;\n  max-width: 120px;\n  padding: 0;\n}\n\n.metadata-value {\n  padding: 0.5rem 0.75rem;\n}\n</style>\n","<template>\n  <div class=\"columns fixed-page\">\n    <div class=\"column main-column\">\n      <div class=\"assets page\">\n        <div class=\"asset-list-header page-header\">\n          <div class=\"flexrow mb1\">\n            <search-field\n              ref=\"asset-search-field\"\n              class=\"flexrow-item\"\n              :can-save=\"true\"\n              @change=\"onSearchChange\"\n              @save=\"saveSearchQuery\"\n              placeholder=\"ex: props modeling=wip\"\n            />\n            <button-simple\n              class=\"flexrow-item\"\n              :title=\"$t('entities.build_filter.title')\"\n              icon=\"filter\"\n              @click=\"modals.isBuildFilterDisplayed = true\"\n            />\n            <div class=\"flexrow-item filler\"></div>\n            <div class=\"flexrow flexrow-item\" v-if=\"!isCurrentUserClient\">\n              <combobox-department\n                class=\"combobox-department flexrow-item\"\n                :selectable-departments=\"selectableDepartments('Asset')\"\n                :display-all-and-my-departments=\"true\"\n                rounded\n                v-model=\"selectedDepartment\"\n                v-if=\"departments.length > 0\"\n              />\n              <combobox-display-options\n                class=\"flexrow-item\"\n                :type=\"type\"\n                v-model=\"displaySettings\"\n              />\n            </div>\n            <div class=\"flexrow\" v-if=\"isCurrentUserManager\">\n              <button-simple\n                class=\"flexrow-item\"\n                :title=\"$t('entities.thumbnails.title')\"\n                icon=\"import-files\"\n                @click=\"showAddThumbnailsModal\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                :title=\"$t('main.csv.import_file')\"\n                icon=\"import\"\n                @click=\"showImportModal\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                icon=\"export\"\n                :title=\"$t('main.csv.export_file')\"\n                @click=\"onExportClick\"\n              />\n              <button-simple\n                class=\"flexrow-item\"\n                :text=\"$t('assets.new_asset')\"\n                icon=\"plus\"\n                @click=\"showNewModal\"\n              />\n            </div>\n          </div>\n          <div class=\"query-list\">\n            <search-query-list\n              :groups=\"assetSearchFilterGroups\"\n              :is-group-enabled=\"true\"\n              :queries=\"assetSearchQueries\"\n              type=\"asset\"\n              @remove-search=\"removeSearchQuery\"\n              v-if=\"!isAssetsLoading && !initialLoading\"\n            />\n          </div>\n        </div>\n\n        <sorting-info\n          :sorting=\"assetSorting\"\n          @clear-sorting=\"onChangeSortClicked(null)\"\n          v-if=\"assetSorting?.length\"\n        />\n        <asset-list\n          ref=\"asset-list\"\n          :displayed-assets=\"\n            displaySettings.showSharedAssets\n              ? displayedAssetsByType\n              : displayedAssetsByTypeWithoutShared\n          \"\n          :display-settings=\"displaySettings\"\n          :is-loading=\"isAssetsLoading || initialLoading\"\n          :is-error=\"isAssetsLoadingError\"\n          :department-filter=\"departmentFilter\"\n          :validation-columns=\"assetValidationColumns\"\n          @change-sort=\"onChangeSortClicked\"\n          @create-tasks=\"showCreateTasksModal\"\n          @delete-all-tasks=\"onDeleteAllTasksClicked\"\n          @new-clicked=\"showNewModal\"\n          @edit-clicked=\"onEditClicked\"\n          @delete-clicked=\"onDeleteClicked\"\n          @restore-clicked=\"onRestoreClicked\"\n          @add-metadata=\"onAddMetadataClicked\"\n          @edit-metadata=\"onEditMetadataClicked\"\n          @delete-metadata=\"onDeleteMetadataClicked\"\n          @metadata-changed=\"onMetadataChanged\"\n          @asset-changed=\"onAssetChanged\"\n          @field-changed=\"onFieldChanged\"\n          @scroll=\"saveScrollPosition\"\n          @asset-type-clicked=\"onAssetTypeClicked\"\n          @keep-task-panel-open=\"onKeepTaskPanelOpenChanged\"\n        />\n      </div>\n    </div>\n\n    <div\n      id=\"side-column\"\n      class=\"column side-column\"\n      v-show=\"isTaskSidePanelOpen\"\n    >\n      <task-info\n        :task=\"selectedTasks.values().next().value\"\n        entity-type=\"Asset\"\n        with-actions\n      />\n    </div>\n\n    <edit-asset-modal\n      ref=\"edit-asset-modal\"\n      :active=\"modals.isNewDisplayed\"\n      :is-loading=\"loading.edit\"\n      :is-loading-stay=\"loading.stay\"\n      :is-error=\"errors.edit\"\n      :is-success=\"success.edit\"\n      :asset-to-edit=\"assetToEdit\"\n      @confirm=\"confirmEditAsset\"\n      @confirm-and-stay=\"confirmNewAssetStay\"\n      @cancel=\"modals.isNewDisplayed = false\"\n    />\n\n    <delete-modal\n      ref=\"delete-asset-modal\"\n      :active=\"modals.isDeleteDisplayed\"\n      :is-loading=\"loading.delete\"\n      :is-error=\"errors.delete\"\n      :text=\"deleteText()\"\n      :error-text=\"$t('assets.delete_error')\"\n      @confirm=\"confirmDeleteAsset\"\n      @cancel=\"modals.isDeleteDisplayed = false\"\n    />\n\n    <delete-modal\n      ref=\"restore-asset-modal\"\n      :active=\"modals.isRestoreDisplayed\"\n      :is-loading=\"loading.restore\"\n      :is-error=\"loading.delete\"\n      :text=\"restoreText()\"\n      :error-text=\"$t('assets.restore_error')\"\n      @confirm=\"confirmRestoreAsset\"\n      @cancel=\"modals.isRestoreDisplayed = false\"\n    />\n\n    <hard-delete-modal\n      ref=\"delete-all-tasks-modal\"\n      :active=\"modals.isDeleteAllTasksDisplayed\"\n      :is-loading=\"loading.deleteAllTasks\"\n      :is-error=\"errors.deleteAllTasks\"\n      :text=\"deleteAllTasksText()\"\n      :error-text=\"$t('tasks.delete_all_error')\"\n      :lock-text=\"deleteAllTasksLockText\"\n      :selection-option=\"true\"\n      @confirm=\"confirmDeleteAllTasks\"\n      @cancel=\"modals.isDeleteAllTasksDisplayed = false\"\n    />\n\n    <delete-modal\n      ref=\"delete-metadata-modal\"\n      :active=\"modals.isDeleteMetadataDisplayed\"\n      :is-loading=\"loading.deleteMetadata\"\n      :is-error=\"errors.deleteMetadata\"\n      :text=\"$t('productions.metadata.delete_text')\"\n      :error-text=\"$t('productions.metadata.delete_error')\"\n      @confirm=\"confirmDeleteMetadata\"\n      @cancel=\"modals.isDeleteMetadataDisplayed = false\"\n    />\n\n    <import-render-modal\n      :active=\"modals.isImportRenderDisplayed\"\n      :is-loading=\"loading.importing\"\n      :is-error=\"errors.importing\"\n      :import-error=\"errors.importingError\"\n      :parsed-csv=\"parsedCSV\"\n      :form-data=\"assetsCsvFormData\"\n      :columns=\"renderColumns\"\n      :data-matchers=\"dataMatchers\"\n      :database=\"filteredAssets\"\n      @reupload=\"resetImport\"\n      @confirm=\"uploadImportFile\"\n      @cancel=\"hideImportRenderModal\"\n    />\n\n    <import-modal\n      ref=\"import-modal\"\n      :active=\"modals.isImportDisplayed\"\n      :is-loading=\"loading.importing\"\n      :is-error=\"errors.importing\"\n      :form-data=\"assetsCsvFormData\"\n      :columns=\"dataMatchers\"\n      :optional-columns=\"optionalColumns\"\n      :generic-columns=\"genericColumns\"\n      @confirm=\"renderImport\"\n      @cancel=\"hideImportModal\"\n    />\n\n    <create-tasks-modal\n      :active=\"modals.isCreateTasksDisplayed\"\n      :is-loading=\"loading.creatingTasks\"\n      :is-loading-stay=\"loading.taskStay\"\n      :is-error=\"errors.creatingTasks\"\n      :title=\"$t('tasks.create_tasks_asset')\"\n      :text=\"$t('tasks.create_tasks_asset_explaination')\"\n      :error-text=\"$t('tasks.create_tasks_asset_failed')\"\n      @confirm=\"confirmCreateTasks\"\n      @confirm-and-stay=\"confirmCreateTasksAndStay\"\n      @cancel=\"hideCreateTasksModal\"\n    />\n\n    <add-metadata-modal\n      :active=\"modals.isAddMetadataDisplayed\"\n      :is-loading=\"loading.addMetadata\"\n      :is-error=\"errors.addMetadata\"\n      :descriptor-to-edit=\"descriptorToEdit\"\n      entity-type=\"Asset\"\n      @confirm=\"confirmAddMetadata\"\n      @cancel=\"modals.isAddMetadataDisplayed = false\"\n    />\n\n    <add-thumbnails-modal\n      ref=\"add-thumbnails-modal\"\n      active\n      entity-type=\"Asset\"\n      parent=\"assets\"\n      :is-loading=\"loading.addThumbnails\"\n      :is-error=\"errors.addThumbnails\"\n      @confirm=\"confirmAddThumbnails\"\n      @cancel=\"hideAddThumbnailsModal\"\n      v-if=\"modals.isAddThumbnailsDisplayed\"\n    />\n\n    <build-filter-modal\n      ref=\"build-filter-modal\"\n      :active=\"modals.isBuildFilterDisplayed\"\n      @confirm=\"confirmBuildFilter\"\n      @cancel=\"modals.isBuildFilterDisplayed = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { mapGetters, mapActions } from 'vuex'\n\nimport csv from '@/lib/csv'\nimport func from '@/lib/func'\nimport { sortByName } from '@/lib/sorting'\nimport stringHelpers from '@/lib/string'\n\nimport { searchMixin } from '@/components/mixins/search'\nimport { entitiesMixin } from '@/components/mixins/entities'\n\nimport AssetList from '@/components/lists/AssetList.vue'\nimport AddMetadataModal from '@/components/modals/AddMetadataModal.vue'\nimport AddThumbnailsModal from '@/components/modals/AddThumbnailsModal.vue'\nimport BuildFilterModal from '@/components/modals/BuildFilterModal.vue'\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport ComboboxDepartment from '@/components/widgets/ComboboxDepartment.vue'\nimport ComboboxDisplayOptions from '@/components/widgets/ComboboxDisplayOptions.vue'\nimport CreateTasksModal from '@/components/modals/CreateTasksModal.vue'\nimport DeleteModal from '@/components/modals/DeleteModal.vue'\nimport EditAssetModal from '@/components/modals/EditAssetModal.vue'\nimport ImportModal from '@/components/modals/ImportModal.vue'\nimport ImportRenderModal from '@/components/modals/ImportRenderModal.vue'\nimport HardDeleteModal from '@/components/modals/HardDeleteModal.vue'\nimport SearchField from '@/components/widgets/SearchField.vue'\nimport SearchQueryList from '@/components/widgets/SearchQueryList.vue'\nimport SortingInfo from '@/components/widgets/SortingInfo.vue'\nimport TaskInfo from '@/components/sides/TaskInfo.vue'\n\nexport default {\n  name: 'assets',\n\n  mixins: [searchMixin, entitiesMixin],\n\n  components: {\n    AssetList,\n    AddMetadataModal,\n    AddThumbnailsModal,\n    BuildFilterModal,\n    ButtonSimple,\n    ComboboxDepartment,\n    ComboboxDisplayOptions,\n    CreateTasksModal,\n    DeleteModal,\n    EditAssetModal,\n    HardDeleteModal,\n    ImportModal,\n    ImportRenderModal,\n    SearchField,\n    SearchQueryList,\n    SortingInfo,\n    TaskInfo\n  },\n\n  data() {\n    return {\n      type: 'asset',\n      assetToDelete: {},\n      assetToRestore: {},\n      assetToEdit: {},\n      assetFilters: [\n        {\n          type: 'Type',\n          value: {\n            name: 'open'\n          }\n        }\n      ],\n      assetFilterTypes: ['Type'],\n      contactSheetMode: false,\n      deleteAllTasksLockText: null,\n      descriptorToEdit: {},\n      departmentFilter: [],\n      displaySettings: {\n        bigThumbnails: false,\n        contactSheetMode: false,\n        showAssignations: true,\n        showInfos: true,\n        showSharedAssets: true\n      },\n      optionalColumns: ['Description', 'Ready for', 'Resolution'],\n      pageName: 'Assets',\n      parsedCSV: [],\n      selectedDepartment: 'ALL',\n      taskTypeForTaskDeletion: null,\n      errors: {\n        addMetadata: false,\n        addThumbnails: false,\n        creatingTasks: false,\n        delete: false,\n        deleteMetadata: false,\n        edit: false,\n        restore: false,\n        importing: false,\n        importingError: null\n      },\n      genericColumns: [\n        'Metadata column name (text value)',\n        'Task type name (task status name value)',\n        'Task type name + comment (text value)'\n      ],\n      initialLoading: true,\n      loading: {\n        addMetadata: false,\n        addThumbnails: false,\n        creatingTasks: false,\n        deleteAllTasks: false,\n        deleteMetadata: false,\n        delete: false,\n        edit: false,\n        importing: false,\n        restore: false,\n        savingSearch: false,\n        stay: false,\n        taskStay: false\n      },\n      modals: {\n        isAddMetadataDisplayed: false,\n        isAddThumbnailsDisplayed: false,\n        isBuildFilterDisplayed: false,\n        isCreateTasksDisplayed: false,\n        isDeleteDisplayed: false,\n        isDeleteAllTasksDisplayed: false,\n        isDeleteMetadataDisplayed: false,\n        isImportDisplayed: false,\n        isImportRenderDisplayed: false,\n        isNewDisplayed: false\n      },\n      success: {\n        edit: false\n      }\n    }\n  },\n\n  created() {\n    this.setLastProductionScreen('assets')\n  },\n\n  mounted() {\n    const searchQuery = this.$route.query.search ?? ''\n    if (this.assetSearchText) {\n      this.$refs['asset-search-field']?.setValue(this.assetSearchText)\n    }\n    this.$refs['asset-list']?.setScrollPosition(this.assetListScrollPosition)\n    const finalize = () => {\n      if (this.$refs['asset-list']) {\n        this.searchField.setValue(searchQuery)\n        this.applySearchFromUrl()\n        this.$refs['asset-list'].setScrollPosition(this.assetListScrollPosition)\n        this.$nextTick(() => {\n          this.$refs['asset-list']?.selectTaskFromQuery()\n        })\n      }\n    }\n\n    if (\n      this.assetMap.size < 2 ||\n      this.assetValidationColumns.length === 0 ||\n      (this.assetValidationColumns.length > 0 &&\n        (!this.assetMap.get(this.assetMap.keys().next().value).validations ||\n          this.assetMap.get(this.assetMap.keys().next().value).validations\n            .size === 0))\n    ) {\n      setTimeout(() => {\n        this.loadAssets().then(() => {\n          setTimeout(() => {\n            this.initialLoading = false\n            finalize()\n          }, 500)\n        })\n      }, 0)\n    } else {\n      if (!this.isAssetsLoading) this.initialLoading = false\n      finalize()\n    }\n  },\n\n  beforeUnmount() {\n    this.clearSelectedAssets()\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetMap',\n      'assetsPath',\n      'assetListScrollPosition',\n      'assetsCsvFormData',\n      'assetSearchText',\n      'assetSearchFilterGroups',\n      'assetSearchQueries',\n      'assetSorting',\n      'assetTypes',\n      'assetValidationColumns',\n      'currentEpisode',\n      'currentProduction',\n      'currentSection',\n      'departmentMap',\n      'departments',\n      'displayedAssets',\n      'displayedAssetsByType',\n      'episodeMap',\n      'isAssetEstimation',\n      'isAssetTime',\n      'isAssetsLoading',\n      'isAssetsLoadingError',\n      'isCurrentUserClient',\n      'isCurrentUserManager',\n      'isTVShow',\n      'isAssetResolution',\n      'openProductions',\n      'productionAssetTaskTypes',\n      'selectedAssets',\n      'taskTypeMap',\n      'user'\n    ]),\n\n    addThumbnailsModal() {\n      return this.$refs['add-thumbnails-modal']\n    },\n\n    searchField() {\n      return this.$refs['asset-search-field']\n    },\n\n    displayedAssetsByTypeWithoutShared() {\n      return this.displayedAssetsByType.map(type =>\n        type.filter(asset => !asset.shared)\n      )\n    },\n\n    filteredAssets() {\n      const assets = {}\n      this.displayedAssetsByType.forEach(type => {\n        type.forEach(item => {\n          let assetKey = ''\n          if (\n            this.isTVShow &&\n            item.episode_id &&\n            this.episodeMap.has(item.episode_id)\n          ) {\n            assetKey += this.episodeMap.get(item.episode_id).name\n          }\n          assetKey += `${item.asset_type_name}${item.name}`\n          assets[assetKey] = true\n        })\n      })\n      return assets\n    },\n\n    // Page titles\n\n    tvShowPageTitle() {\n      const productionName = this.currentProduction?.name || ''\n      let episodeName = ''\n      if (this.currentEpisode) {\n        switch (this.currentEpisode.id) {\n          case 'all':\n            episodeName = this.$t('main.all')\n            break\n          case 'main':\n            episodeName = this.$t('main.main_pack')\n            break\n          default:\n            episodeName = this.currentEpisode.name\n        }\n      }\n      return (\n        `${productionName} - ${episodeName}` +\n        ` | ${this.$t('assets.title')} - Kitsu`\n      )\n    },\n\n    shortPageTitle() {\n      const productionName = this.currentProduction?.name || ''\n      return `${productionName} | ${this.$t('assets.title')} - Kitsu`\n    },\n\n    dataMatchers() {\n      return this.isTVShow ? ['Episode', 'Type', 'Name'] : ['Type', 'Name']\n    },\n\n    renderColumns() {\n      const collection = [...this.dataMatchers, ...this.optionalColumns]\n\n      this.productionAssetTaskTypes.forEach(item => {\n        collection.push(item.name)\n        collection.push(`${item.name} comment`)\n      })\n\n      return collection\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'addMetadataDescriptor',\n      'changeAssetSort',\n      'clearSelectedAssets',\n      'commentTaskWithPreview',\n      'createTasks',\n      'deleteAllAssetTasks',\n      'deleteAsset',\n      'deleteMetadataDescriptor',\n      'editAsset',\n      'getAssetsCsvLines',\n      'loadAssets',\n      'loadEpisodes',\n      'newAsset',\n      'removeAssetSearch',\n      'restoreAsset',\n      'saveAssetSearch',\n      'setLastProductionScreen',\n      'setAssetSearch',\n      'setPreview',\n      'uploadAssetFile'\n    ]),\n\n    setOptionalImportColumns() {\n      const columns = [\n        this.$t('assets.fields.description'),\n        this.$t('assets.fields.ready_for'),\n        this.$t('shots.fields.resolution')\n      ]\n      if (this.isPaperProduction) {\n        columns.splice(1, 1)\n      }\n      this.optionalColumns = columns\n    },\n\n    showNewModal() {\n      this.assetToEdit = {}\n      this.modals.isNewDisplayed = true\n    },\n\n    onEditClicked(asset) {\n      this.assetToEdit = asset\n      this.modals.isNewDisplayed = true\n    },\n\n    onDeleteClicked(asset) {\n      this.assetToDelete = asset\n      this.modals.isDeleteDisplayed = true\n    },\n\n    onRestoreClicked(asset) {\n      this.assetToRestore = asset\n      this.modals.isRestoreDisplayed = true\n    },\n\n    confirmNewAssetStay(form) {\n      this.loading.stay = true\n      this.success.edit = false\n      this.newAsset(form)\n        .then(() => {\n          this.loading.stay = false\n          this.loading.edit = false\n          this.resetLightEditModal()\n          this.$refs['edit-asset-modal'].focusName()\n          this.success.edit = true\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.stay = false\n          this.loading.edit = false\n          this.success.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    confirmEditAsset(form) {\n      let action = 'newAsset'\n      this.loading.edit = true\n      this.errors.edit = false\n      if (this.assetToEdit && this.assetToEdit.id) {\n        action = 'editAsset'\n        form.id = this.assetToEdit.id\n      }\n      this[action](form)\n        .then(form => {\n          this.loading.edit = false\n          this.modals.isNewDisplayed = false\n          this.applySearchFromUrl(false)\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    confirmDeleteAsset() {\n      this.loading.delete = true\n      this.errors.delete = false\n      this.deleteAsset(this.assetToDelete)\n        .then(form => {\n          this.loading.delete = false\n          this.modals.isDeleteDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.delete = false\n          this.errors.delete = true\n        })\n    },\n\n    confirmRestoreAsset() {\n      this.loading.restore = true\n      this.errors.restore = false\n      this.restoreAsset(this.assetToRestore)\n        .then(form => {\n          this.loading.restore = false\n          this.modals.isRestoreDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.restore = false\n          this.errors.restore = true\n        })\n    },\n\n    confirmCreateTasks({ form, selectionOnly }) {\n      this.loading.creatingTasks = true\n      this.runTasksCreation(form, selectionOnly).then(() => {\n        this.reset()\n        this.hideCreateTasksModal()\n        this.loading.creatingTasks = false\n      })\n    },\n\n    confirmCreateTasksAndStay({ form, selectionOnly }) {\n      this.loading.taskStay = true\n      this.runTasksCreation(form, selectionOnly).then(() => {\n        this.reset()\n        this.loading.taskStay = false\n      })\n    },\n\n    runTasksCreation(form, selectionOnly) {\n      this.errors.creatingTasks = false\n      return this.createTasks({\n        type: 'assets',\n        task_type_id: form.task_type_id,\n        project_id: this.currentProduction.id,\n        selectionOnly\n      }).catch(err => {\n        this.errors.creatingTasks = true\n        console.error(err)\n      })\n    },\n\n    confirmDeleteAllTasks(selectionOnly) {\n      const taskTypeId = this.taskTypeForTaskDeletion.id\n      const projectId = this.currentProduction.id\n      this.errors.deleteAllTasks = false\n      this.loading.deleteAllTasks = true\n      this.deleteAllAssetTasks({ projectId, taskTypeId, selectionOnly })\n        .then(() => {\n          if (!selectionOnly) this.loadAssets()\n          this.modals.isDeleteAllTasksDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.deleteAllTasks = true\n        })\n        .finally(() => {\n          this.loading.deleteAllTasks = false\n        })\n    },\n\n    confirmDeleteMetadata() {\n      this.errors.deleteMetadata = false\n      this.loading.deleteMetadata = true\n      this.deleteMetadataDescriptor(this.descriptorIdToDelete)\n        .then(() => {\n          this.errors.deleteMetadata = false\n          this.modals.isDeleteMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.errors.deleteMetadata = true\n        })\n        .finally(() => {\n          this.loading.deleteMetadata = false\n        })\n    },\n\n    resetLightEditModal() {\n      const form = {\n        name: '',\n        entity_type_id: this.assetToEdit.entity_type_id,\n        production_id: this.currentProduction.id\n      }\n      this.assetToEdit = form\n    },\n\n    resetEditModal() {\n      const form = { name: '' }\n      if (this.assetTypes.length > 0) {\n        form.asset_type_id = this.assetTypes[0].id\n      }\n      form.production_id = this.currentProduction.id\n      this.assetToEdit = form\n    },\n\n    deleteText() {\n      const asset = this.assetToDelete\n      if (\n        asset &&\n        (asset.canceled || !asset.tasks || asset.tasks.length === 0)\n      ) {\n        return this.$t('assets.delete_text', { name: asset.name })\n      } else if (asset) {\n        return this.$t('assets.cancel_text', { name: asset.name })\n      }\n      return ''\n    },\n\n    deleteAllTasksText() {\n      const taskType = this.taskTypeForTaskDeletion\n      if (taskType) {\n        return this.$t('tasks.delete_all_text', { name: taskType.name })\n      }\n      return ''\n    },\n\n    restoreText() {\n      const asset = this.assetToRestore\n      if (asset) {\n        return this.$t('assets.restore_text', { name: asset.name })\n      }\n      return ''\n    },\n\n    renderImport(data, mode) {\n      this.loading.importing = true\n      this.errors.importing = false\n      this.formData = data\n      if (mode === 'file') {\n        data = data.get('file')\n      }\n      csv.processCSV(data).then(results => {\n        this.parsedCSV = results\n        this.hideImportModal()\n        this.loading.importing = false\n        this.showImportRenderModal()\n      })\n    },\n\n    uploadImportFile(data, toUpdate) {\n      const formData = new FormData()\n      const filename = 'import.csv'\n      const csvContent = csv.turnEntriesToCsvString(data)\n      const file = new File([csvContent], filename, { type: 'text/csv' })\n\n      formData.append('file', file)\n\n      this.loading.importing = true\n      this.errors.importing = false\n      this.$store.commit('ASSET_CSV_FILE_SELECTED', formData)\n\n      this.uploadAssetFile(toUpdate)\n        .then(() => {\n          this.hideImportRenderModal()\n          this.loadEpisodes().catch(console.error)\n          this.loadAssets()\n        })\n        .catch(err => {\n          this.errors.importing = true\n          this.errors.importingError = err\n        })\n        .finally(() => {\n          this.loading.importing = false\n        })\n    },\n\n    resetImport() {\n      this.errors.importing = false\n      this.hideImportRenderModal()\n      this.$store.commit('ASSET_CSV_FILE_SELECTED', null)\n      this.$refs['import-modal'].reset()\n      this.showImportModal()\n    },\n\n    saveSearchQuery(searchQuery) {\n      if (this.loading.savingSearch) {\n        return\n      }\n      this.loading.savingSearch = true\n      this.saveAssetSearch(searchQuery)\n        .catch(console.error)\n        .finally(() => {\n          this.loading.savingSearch = false\n        })\n    },\n\n    removeSearchQuery(searchQuery) {\n      this.removeAssetSearch(searchQuery).catch(err => {\n        if (err) console.error(err)\n      })\n    },\n\n    saveScrollPosition(scrollPosition) {\n      this.$store.commit('SET_ASSET_LIST_SCROLL_POSITION', scrollPosition)\n    },\n\n    onDeleteAllTasksClicked(taskTypeId) {\n      const taskType = this.taskTypeMap.get(taskTypeId)\n      this.taskTypeForTaskDeletion = taskType\n      this.deleteAllTasksLockText = taskType.name\n      this.modals.isDeleteAllTasksDisplayed = true\n    },\n\n    confirmAddMetadata(form) {\n      this.loading.addMetadata = true\n      form.entity_type = 'Asset'\n      this.addMetadataDescriptor(form)\n        .then(() => {\n          this.loading.addMetadata = false\n          this.modals.isAddMetadataDisplayed = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.loading.addMetadata = false\n          this.errors.addMetadata = true\n        })\n    },\n\n    confirmAddThumbnails(forms) {\n      const addPreview = form => {\n        this.addThumbnailsModal?.markLoading(form.task.entity_id)\n        return this.commentTaskWithPreview({\n          taskId: form.task.id,\n          commentText: '',\n          taskStatusId: form.task.task_status_id,\n          form\n        })\n          .then(({ newComment, preview }) => {\n            return this.setPreview({\n              taskId: form.task.id,\n              entityId: form.task.entity_id,\n              previewId: preview.id\n            })\n          })\n          .then(() => {\n            this.addThumbnailsModal?.markUploaded(form.task.entity_id)\n          })\n      }\n      this.loading.addThumbnails = true\n      func.runPromiseMapAsSeries(forms, addPreview).then(() => {\n        this.loading.addThumbnails = false\n        this.modals.isAddThumbnailsDisplayed = false\n      })\n    },\n\n    onAddMetadataClicked() {\n      this.descriptorToEdit = {}\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    onDeleteMetadataClicked(descriptorId) {\n      this.descriptorIdToDelete = descriptorId\n      this.modals.isDeleteMetadataDisplayed = true\n    },\n\n    onEditMetadataClicked(descriptorId) {\n      this.descriptorToEdit = this.currentProduction.descriptors.find(\n        d => d.id === descriptorId\n      )\n      this.modals.isAddMetadataDisplayed = true\n    },\n\n    onExportClick() {\n      this.getAssetsCsvLines().then(assetLines => {\n        const nameData = [\n          moment().format('YYYY-MM-DD'),\n          'kitsu',\n          this.currentProduction.name,\n          this.$t('assets.title')\n        ]\n        if (this.currentEpisode) {\n          nameData.splice(3, 0, this.currentEpisode.name)\n        }\n        const name = stringHelpers.slugify(nameData.join('_'))\n        let headers = this.isTVShow ? ['Episode'] : []\n        headers = headers.concat([\n          this.$t('assets.fields.type'),\n          this.$t('assets.fields.name'),\n          this.$t('assets.fields.description'),\n          this.$t('assets.fields.ready_for')\n        ])\n        sortByName([...this.currentProduction.descriptors])\n          .filter(d => d.entity_type === 'Asset')\n          .forEach(descriptor => {\n            headers.push(descriptor.name)\n          })\n        if (this.isAssetTime) {\n          headers.push(this.$t('assets.fields.time_spent'))\n        }\n        if (this.isAssetEstimation) {\n          headers.push(this.$t('main.estimation_short'))\n        }\n        if (this.isAssetResolution) {\n          headers.push(this.$t('shots.fields.resolution'))\n        }\n        this.assetValidationColumns.forEach(taskTypeId => {\n          headers.push(this.taskTypeMap.get(taskTypeId).name)\n          headers.push('Assignations')\n        })\n        csv.buildCsvFile(name, [headers].concat(assetLines))\n      })\n    },\n\n    onAssetTypeClicked(assetType) {\n      this.searchField.setValue(`${this.assetSearchText} type=[${assetType}]`)\n      this.onSearchChange()\n    },\n\n    onChangeSortClicked(sortInfo) {\n      this.changeAssetSort(sortInfo)\n    },\n\n    async onFieldChanged({ entry, fieldName, value }) {\n      const data = {\n        id: entry.id,\n        [fieldName]: value\n      }\n      await this.editAsset(data)\n      this.applySearchFromUrl(false)\n    },\n\n    async onMetadataChanged({ entry, descriptor, value }) {\n      const data = {\n        id: entry.id,\n        data: {\n          [descriptor.field_name]: value\n        }\n      }\n      await this.editAsset(data)\n      this.applySearchFromUrl(false)\n    },\n\n    async onAssetChanged(asset) {\n      await this.editAsset(asset)\n      this.applySearchFromUrl(false)\n    },\n\n    reset() {\n      this.initialLoading = true\n      this.loadAssets().then(() => {\n        this.initialLoading = false\n        this.applySearchFromUrl()\n      })\n    }\n  },\n\n  watch: {\n    currentProduction() {\n      this.setOptionalImportColumns()\n      this.$refs['asset-search-field']?.setValue('')\n      this.$store.commit('SET_ASSET_LIST_SCROLL_POSITION', 0)\n      this.initialLoading = true\n      if (!this.isTVShow) this.reset()\n    },\n\n    currentEpisode() {\n      this.$refs['asset-search-field']?.setValue('')\n      this.$store.commit('SET_ASSET_LIST_SCROLL_POSITION', 0)\n      if (this.isTVShow && this.currentEpisode) this.reset()\n    },\n\n    currentSection() {\n      if (\n        this.isTVShow &&\n        this.currentEpisode?.id &&\n        !this.displayedAssets.find(\n          asset => asset.episode_id === this.currentEpisode.id\n        )\n      ) {\n        this.searchField.setValue('')\n        this.$store.commit('SET_ASSET_LIST_SCROLL_POSITION', 0)\n        this.initialLoading = true\n        this.reset()\n      }\n    }\n  },\n\n  head() {\n    if (this.isTVShow) {\n      return { title: this.tvShowPageTitle }\n    }\n    return { title: this.shortPageTitle }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-list {\n  margin-top: 0;\n}\n\n.level {\n  align-items: flex-start;\n}\n\n.assets {\n  display: flex;\n  flex-direction: column;\n}\n\n.columns {\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n}\n\n.column {\n  overflow-y: auto;\n  padding: 0;\n}\n\n.combobox-department {\n  margin-bottom: 0;\n}\n</style>\n"],"names":["_sfc_main","entityListMixin","descriptorMixin","domMixin","formatListMixin","selectionListMixin","ButtonSimple","ComboboxTaskType","DescriptionCell","EntityThumbnail","MetadataInput","MetadataHeader","RowActionsCell","TableInfo","TableHeaderMenu","TableMetadataHeaderMenu","TableMetadataSelectorMenu","ValidationCell","ValidationHeader","mapGetters","assetTypeStore","episodeStore","taskTypeStore","count","columnId","sortTaskTypes","mapActions","asset","full","mainEpisode","mainEpisodeName","episodeNames","eId","name","episodeNameString","key","taskType","taskTypes","t","indexInGroup","groupIndex","columnIndex","lineIndex","event","selected","assetsToSelect","assetsFlatten","startAssetIndex","displayedAsset","endAssetIndex","range","index","position","taskTypeId","data","i","k","assetId","section","route","j","listWidth","listHeight","sticked","preferences","offset","metadataCol","validationCol","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_24","_hoisted_26","_hoisted_29","_hoisted_31","_openBlock","_createElementBlock","_createElementVNode","_cache","args","$options","_createVNode","_component_table_header_menu","$data","_ctx","_component_table_metadata_header_menu","$event","_withDirectives","_hoisted_3","_hoisted_4","_toDisplayString","$props","_createBlock","_component_button_simple","_createCommentVNode","_Fragment","_renderList","descriptor","_component_metadata_header","columnIndexInGrid","_component_validation_header","_hoisted_9","_hoisted_10","_normalizeClass","_component_table_metadata_selector_menu","group","_hoisted_11","_component_entity_thumbnail","_component_router_link","_withCtx","_createTextVNode","_hoisted_17","_normalizeStyle","_component_metadata_input","_component_validation_cell","infos","_hoisted_20","_component_combobox_task_type","_component_description_cell","value","_hoisted_21","_hoisted_22","_hoisted_23","_withModifiers","_hoisted_25","_component_row_actions_cell","_hoisted_27","_hoisted_28","_imports_0","_hoisted_30","_component_table_info","_hoisted_32","_hoisted_33","searchMixin","entitiesMixin","AssetList","AddMetadataModal","AddThumbnailsModal","BuildFilterModal","ComboboxDepartment","ComboboxDisplayOptions","CreateTasksModal","DeleteModal","EditAssetModal","HardDeleteModal","ImportModal","ImportRenderModal","SearchField","SearchQueryList","SortingInfo","TaskInfo","searchQuery","finalize","type","assets","item","assetKey","productionName","episodeName","collection","columns","form","err","action","selectionOnly","projectId","mode","csv","results","toUpdate","formData","filename","csvContent","file","scrollPosition","forms","addPreview","newComment","preview","func","descriptorId","d","assetLines","nameData","moment","stringHelpers","headers","sortByName","assetType","sortInfo","entry","fieldName","_component_search_field","_component_combobox_department","_component_combobox_display_options","_component_search_query_list","_component_sorting_info","_component_asset_list","_component_task_info","_component_edit_asset_modal","_component_delete_modal","_component_hard_delete_modal","_component_import_render_modal","_component_import_modal","_component_create_tasks_modal","_component_add_metadata_modal","_component_add_thumbnails_modal","_component_build_filter_modal"],"mappings":"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"}