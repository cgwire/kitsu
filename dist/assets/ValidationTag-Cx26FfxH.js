import{_ as p,aD as f,ar as o,b as g,r as _,o as i,c as a,F as k,g as d,w as h,H as y,t as n,i as l,n as S,h as C}from"./index-DF-DoQlt.js";const T={name:"validation-tag",props:{task:{default:()=>{},type:Object},isStatic:{default:!1,type:Boolean},isPriority:{default:!0,type:Boolean},minimized:{default:!1,type:Boolean},pointer:{default:!1,type:Boolean},thin:{default:!1,type:Boolean}},emits:["click"],computed:{...g(["currentEpisode","currentProduction","isCurrentUserClient","isDarkTheme","isTVShow","taskStatusMap","taskTypeMap"]),cursor(){return this.pointer?"pointer":"default"},taskStatus(){const t=this.task?.task_status_id;return this.taskStatusMap?.get(t)||{}},backgroundColor(){return this.taskStatus.short_name==="todo"&&!this.isDarkTheme?"#ECECEC":this.taskStatus.short_name==="todo"&&this.isDarkTheme?"#5F626A":this.isDarkTheme?o.darkenColor(this.taskStatus.color):this.taskStatus.color},color(){return!(this.taskStatus.name==="Todo")||this.isDarkTheme?"white":"#333"},priority(){return this.task.priority&&!this.taskStatus.is_done?this.task.priority===3?"!!!":this.task.priority===2?"!!":this.task.priority===1?"!":"":""},tagStyle(){const t=!this.isStatic&&!this.isCurrentUserClient,e=this.taskStatus.name==="Todo";return this.thin&&!e?this.isDarkTheme?{background:"transparent",border:"1px solid "+(e?"grey":o.lightenColor(this.backgroundColor,.5)),color:o.lightenColor(this.backgroundColor,.5),cursor:t?"pointer":this.cursor}:{background:"transparent",border:"1px solid "+(e?"grey":this.backgroundColor),color:this.backgroundColor,cursor:t?"pointer":this.cursor}:{background:this.backgroundColor,color:this.color,cursor:t?"pointer":this.cursor}},taskPath(){if(!this.currentProduction?.id)return;const t=this.task,r={name:"task",params:{production_id:this.task.project_id?this.task.project_id:this.currentProduction.id,task_id:t.id}};this.isTVShow&&this.currentEpisode&&(r.name="episode-task",r.params.episode_id=t.episode_id||this.currentEpisode.id);const u=this.taskTypeMap.get(t.task_type_id);return r.params.type=f(u.for_entity),r},formatPriority(){const t=this.task.priority;let e=t+"";return t===0?e="normal":t===1?e=this.$t("tasks.priority.high"):t===2?e=this.$t("tasks.priority.very_high"):t===3&&(e=this.$t("tasks.priority.emergency")),e}}},b=["title"],P=["title"],B={key:1,class:"tag"};function D(t,e,r,u,E,s){const c=_("router-link");return i(),a("span",null,[r.minimized?(i(),a(k,{key:1},[!r.isStatic&&!t.isCurrentUserClient&&s.taskPath?(i(),d(c,{key:0,to:s.taskPath,class:"tag dynamic",style:l(s.tagStyle),title:s.taskStatus.name},{default:h(()=>e[1]||(e[1]=[y("   ")])),_:1},8,["to","style","title"])):(i(),a("span",B,"   "))],64)):(i(),a(k,{key:0},[!r.isStatic&&!t.isCurrentUserClient&&s.taskPath?(i(),d(c,{key:0,class:"tag dynamic",to:s.taskPath,style:l(s.tagStyle),title:s.taskStatus.name},{default:h(()=>[y(n(s.taskStatus.short_name),1)]),_:1},8,["to","style","title"])):(i(),a("span",{key:1,class:"tag",style:l(s.tagStyle),title:s.taskStatus.name,onClick:e[0]||(e[0]=m=>t.$emit("click",m))},n(s.taskStatus.short_name),13,b)),r.isPriority&&!t.isCurrentUserClient&&r.task.priority>0?(i(),a("span",{key:2,class:S({priority:!0,high:r.task.priority===1,veryhigh:r.task.priority===2,emergency:r.task.priority===3}),title:s.formatPriority},n(s.priority),11,P)):C("",!0)],64))])}const v=p(T,[["render",D],["__scopeId","data-v-758d2bf6"]]);export{v as V};
//# sourceMappingURL=ValidationTag-Cx26FfxH.js.map
