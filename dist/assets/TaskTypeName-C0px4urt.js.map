{"version":3,"file":"TaskTypeName-C0px4urt.js","sources":["../../src/components/widgets/TaskTypeName.vue"],"sourcesContent":["<template>\n  <router-link\n    :to=\"targetRoute\"\n    v-if=\"\n      isLink &&\n      productionId &&\n      !isCurrentUserClient &&\n      taskType.for_entity !== 'Concept'\n    \"\n  >\n    <span\n      class=\"tag task-type-name\"\n      :class=\"{\n        rounded\n      }\"\n      :title=\"taskType.name\"\n    >\n      {{ taskType.name }}\n    </span>\n  </router-link>\n  <div\n    class=\"tag task-type-name no-link\"\n    :class=\"{\n      deletable,\n      canceled: disable,\n      rounded,\n      thin: thin\n    }\"\n    v-else\n  >\n    <span :title=\"taskType.name\">\n      {{ taskType.name }}\n    </span>\n    <span class=\"delete-times\" v-if=\"deletable\" @click=\"$emit('delete')\">\n      Ã—\n    </span>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport { pluralizeEntityType } from '@/lib/path'\n\nexport default {\n  name: 'task-type-name',\n\n  props: {\n    isLink: {\n      type: Boolean,\n      default: true\n    },\n    deletable: {\n      type: Boolean,\n      default: false\n    },\n    disable: {\n      type: Boolean,\n      default: false\n    },\n    productionId: {\n      type: String,\n      default: null\n    },\n    rounded: {\n      type: Boolean,\n      default: false\n    },\n    taskId: {\n      type: String,\n      default: null\n    },\n    taskType: {\n      type: Object,\n      default: null\n    },\n    thin: {\n      type: Boolean,\n      default: false\n    },\n    transparent: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['delete'],\n\n  computed: {\n    ...mapGetters(['isCurrentUserClient']),\n\n    color() {\n      return this.taskType.color?.toUpperCase() === '#000000'\n        ? '#666'\n        : this.taskType.color\n    },\n\n    targetRoute() {\n      if (this.taskId) {\n        if (this.$route.params.episode_id) {\n          return {\n            name: 'episode-task',\n            params: {\n              production_id: this.productionId,\n              task_id: this.taskId,\n              episode_id: this.$route.params.episode_id,\n              type: pluralizeEntityType(this.taskType.for_entity)\n            }\n          }\n        } else {\n          return {\n            name: 'task',\n            params: {\n              production_id: this.productionId,\n              task_id: this.taskId,\n              type: pluralizeEntityType(this.taskType.for_entity)\n            }\n          }\n        }\n      } else if (this.taskType.for_entity === 'Episode') {\n        return {\n          name: 'episodes-task-type',\n          params: {\n            production_id: this.productionId,\n            task_type_id: this.taskType.id\n          }\n        }\n      } else {\n        const route = {\n          name: 'task-type',\n          params: {\n            production_id: this.productionId,\n            task_type_id: this.taskType.id,\n            type: pluralizeEntityType(this.taskType.for_entity)\n          }\n        }\n\n        if (this.taskType.episode_id || this.$route.params.episode_id) {\n          route.name = 'episode-task-type'\n          route.params.episode_id =\n            this.taskType.episode_id || this.$route.params.episode_id\n        }\n        return route\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tag {\n  border-left: 4px solid v-bind(color);\n  border-radius: 0;\n  color: var(--text);\n  font-size: 0.9em;\n  font-weight: 600;\n  line-height: 0.8em;\n  padding: 0 0.7em;\n  margin: 0;\n\n  &.deletable {\n    padding-right: 0;\n  }\n\n  &.rounded {\n    border-top-right-radius: 5px;\n    border-bottom-right-radius: 5px;\n  }\n\n  &.thin {\n    font-size: 0.7em;\n    line-height: 0.6em;\n    padding: 0 0.5em;\n  }\n\n  .dark & {\n    background: $dark-grey-lightest;\n  }\n}\n\n.delete-times {\n  cursor: pointer;\n  font-size: 1.2rem;\n  font-weight: bold;\n  padding-left: 7px;\n  padding-bottom: 2px;\n  padding-right: 0.7rem;\n\n  &:hover {\n    color: $black;\n  }\n}\n\n.no-link {\n  color: var(--text);\n  cursor: default;\n}\n</style>\n"],"names":["_sfc_main","mapGetters","pluralizeEntityType","route","_hoisted_1","_hoisted_2","$props","_ctx","_createBlock","_component_router_link","$options","_withCtx","_createElementVNode","_normalizeClass","_createElementBlock","_createCommentVNode"],"mappings":"8HA+CA,MAAKA,EAAU,CACb,KAAM,iBAEN,MAAO,CACL,OAAQ,CACN,KAAM,QACN,QAAS,IAEX,UAAW,CACT,KAAM,QACN,QAAS,IAEX,QAAS,CACP,KAAM,QACN,QAAS,IAEX,aAAc,CACZ,KAAM,OACN,QAAS,MAEX,QAAS,CACP,KAAM,QACN,QAAS,IAEX,OAAQ,CACN,KAAM,OACN,QAAS,MAEX,SAAU,CACR,KAAM,OACN,QAAS,MAEX,KAAM,CACJ,KAAM,QACN,QAAS,IAEX,YAAa,CACX,KAAM,QACN,QAAS,EACX,GAGF,MAAO,CAAC,QAAQ,EAEhB,SAAU,CACR,GAAGC,EAAW,CAAC,qBAAqB,CAAC,EAErC,OAAQ,CACN,OAAO,KAAK,SAAS,OAAO,YAAW,IAAO,UAC1C,OACA,KAAK,SAAS,KACpB,EAEA,aAAc,CACZ,GAAI,KAAK,OACP,OAAI,KAAK,OAAO,OAAO,WACd,CACL,KAAM,eACN,OAAQ,CACN,cAAe,KAAK,aACpB,QAAS,KAAK,OACd,WAAY,KAAK,OAAO,OAAO,WAC/B,KAAMC,EAAoB,KAAK,SAAS,UAAU,CACpD,CACF,EAEO,CACL,KAAM,OACN,OAAQ,CACN,cAAe,KAAK,aACpB,QAAS,KAAK,OACd,KAAMA,EAAoB,KAAK,SAAS,UAAU,CACpD,CACF,EAEG,GAAI,KAAK,SAAS,aAAe,UACtC,MAAO,CACL,KAAM,qBACN,OAAQ,CACN,cAAe,KAAK,aACpB,aAAc,KAAK,SAAS,EAC9B,CACF,EACK,CACL,MAAMC,EAAQ,CACZ,KAAM,YACN,OAAQ,CACN,cAAe,KAAK,aACpB,aAAc,KAAK,SAAS,GAC5B,KAAMD,EAAoB,KAAK,SAAS,UAAU,CACpD,CACF,EAEA,OAAI,KAAK,SAAS,YAAc,KAAK,OAAO,OAAO,cACjDC,EAAM,KAAO,oBACbA,EAAM,OAAO,WACX,KAAK,SAAS,YAAc,KAAK,OAAO,OAAO,YAE5CA,CACT,CACF,CACF,CACF,iFArJA,MAAAC,EAAA,CAAA,OAAA,EAAAC,EAAA,CAAA,OAAA,0DAGiBC,EAAA,QAAgBA,EAAA,eAAuBC,EAAA,qBAA6BD,EAAA,SAAS,aAAU,eAFtGE,EAqBcC,EAAA,CAtBhB,IAAA,EAEK,GAAIC,EAAA,cAFT,QAAAC,EAaI,IAQO,CARPC,EAQO,OAAA,CAPL,MAdNC,GAcY,qBAAoB,SACRP,EAAA,WAGjB,MAAOA,EAAA,SAAS,QAEdA,EAAA,SAAS,IAAI,EAAA,GApBtBF,CAAA,IAAA,EAAA,mBAuBEU,EAgBM,MAAA,CAvCR,IAAA,EAwBI,MAxBJD,GAwBU,6BAA4B,WAClBP,EAAA,mBAA2BA,EAAA,gBAAeA,EAAA,aAAqBA,EAAA,UAQ/EM,EAEO,OAAA,CAFA,MAAON,EAAA,SAAS,QAClBA,EAAA,SAAS,IAAI,EAAA,EAlCtBD,CAAA,EAoCqCC,EAAA,eAAjCQ,EAEO,OAAA,CAtCX,IAAA,EAoCU,MAAM,eAAiC,uBAAOP,EAAA,MAAK,QAAA,IAAY,KAErE,GAtCJQ,EAAA,GAAA,EAAA"}