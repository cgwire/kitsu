{"version":3,"file":"Todos-BjRNbAis.js","sources":["../../src/components/lists/DayOffList.vue","../../src/components/pages/Todos.vue"],"sourcesContent":["<template>\n  <div class=\"day-off-list data-list\">\n    <div class=\"flexrow header\">\n      <div class=\"filler\"></div>\n      <button-simple\n        class=\"flexrow-item\"\n        :text=\"$t('days_off.add')\"\n        icon=\"plus\"\n        @click=\"openSetDayOffModal\"\n      />\n    </div>\n    <div class=\"datatable-wrapper\" v-if=\"sortedDaysOff.length > 0\">\n      <table class=\"datatable\">\n        <thead class=\"datatable-head\">\n          <tr>\n            <th class=\"datatable-row-header datatable-row-header--nobd period\">\n              {{ $t('days_off.period') }}\n            </th>\n            <th\n              class=\"datatable-row-header datatable-row-header--nobd description\"\n            >\n              {{ $t('days_off.description') }}\n            </th>\n            <th class=\"datatable-row-header datatable-row-header--nobd\"></th>\n          </tr>\n        </thead>\n        <tbody class=\"datatable-body\" v-if=\"sortedDaysOff.length && !isLoading\">\n          <tr\n            class=\"datatable-row\"\n            :key=\"dayOff.id\"\n            v-for=\"dayOff in sortedDaysOff\"\n          >\n            <td class=\"period\">{{ dayOff.period }}</td>\n            <td class=\"description\">{{ dayOff.description }}</td>\n            <td class=\"actions\">\n              <button-simple\n                @click=\"openSetDayOffModal(dayOff)\"\n                :title=\"$t('days_off.edit')\"\n                icon=\"edit\"\n              />\n              <button-simple\n                @click=\"openUnsetDayOffModal(dayOff)\"\n                :title=\"$t('days_off.delete')\"\n                icon=\"trash\"\n              />\n            </td>\n          </tr>\n        </tbody>\n        <tbody class=\"datatable-body\" v-else-if=\"!isLoading\">\n          <tr class=\"datatable-row\">\n            <td class=\"datatable-row-header\" colspan=\"4\"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div\n      class=\"has-text-centered mt2 mb1 strong\"\n      v-if=\"sortedDaysOff.length === 0 && !isLoading\"\n    >\n      <p>{{ $t('days_off.no_days_off') }}</p>\n    </div>\n\n    <table-info :is-loading=\"isLoading\" :is-error=\"isError\" />\n\n    <p class=\"has-text-centered footer-info\" v-if=\"!isLoading\">\n      {{ sortedDaysOff.length }}\n      {{ $tc('days_off.nb_days_off', sortedDaysOff.length) }}\n    </p>\n\n    <day-off-modal\n      :active=\"modals.setDayOff\"\n      :day-off-to-edit=\"dayOffToEdit\"\n      :is-error=\"isDayOffError\"\n      :error-text=\"dayOffTextError\"\n      @confirm=\"\n        dayOff => {\n          $emit('set-day-off', dayOff)\n        }\n      \"\n      @cancel=\"closeSetDayOffModal\"\n    />\n\n    <delete-modal\n      :active=\"modals.unsetDayOff\"\n      :text=\"\n        $t('days_off.confirm_unset_day_offs', {\n          start: formatSimpleDate(dayOffToEdit?.date),\n          end: formatSimpleDate(dayOffToEdit?.end_date)\n        })\n      \"\n      :is-error=\"isDayOffError\"\n      :error-text=\"dayOffTextError\"\n      @confirm=\"$emit('unset-day-off', dayOffToEdit)\"\n      @cancel=\"closeUnsetDayOffModal\"\n    />\n  </div>\n</template>\n\n<script>\nimport moment from 'moment-timezone'\n\nimport { formatSimpleDate } from '@/lib/time'\n\nimport ButtonSimple from '@/components/widgets/ButtonSimple.vue'\nimport DayOffModal from '@/components/modals/DayOffModal.vue'\nimport DeleteModal from '@/components/modals/DeleteModal.vue'\nimport TableInfo from '@/components/widgets/TableInfo.vue'\n\nexport default {\n  name: 'day-off-list',\n\n  components: {\n    ButtonSimple,\n    DayOffModal,\n    DeleteModal,\n    TableInfo\n  },\n\n  props: {\n    daysOff: {\n      default: () => [],\n      type: Array\n    },\n    isLoading: {\n      default: false,\n      type: Boolean\n    },\n    isError: {\n      default: false,\n      type: Boolean\n    },\n    dayOffError: {\n      default: false,\n      type: [String, Boolean]\n    }\n  },\n\n  emits: ['set-day-off', 'unset-day-off'],\n\n  data() {\n    return {\n      dayOffToEdit: null,\n      modals: {\n        setDayOff: false,\n        unsetDayOff: false\n      }\n    }\n  },\n\n  computed: {\n    dayOffInfo() {\n      const { description, date, end_date } = this.personDayOff\n      const period =\n        end_date && date !== end_date ? `${date} - ${end_date}` : date\n      return `${description || this.$t('timesheets.day_off')} (${period})`\n    },\n\n    isDayOffError() {\n      return Boolean(this.dayOffError)\n    },\n\n    dayOffTextError() {\n      return this.dayOffError?.length ? this.dayOffError : null\n    },\n\n    sortedDaysOff() {\n      return [...this.daysOff]\n        .sort((a, b) => b.date.localeCompare(a.date))\n        .map(dayOff => {\n          return {\n            ...dayOff,\n            period:\n              dayOff.date !== dayOff.end_date\n                ? `${dayOff.date} - ${dayOff.end_date}`\n                : dayOff.date,\n            date: moment.utc(dayOff.date).toDate(),\n            end_date: moment.utc(dayOff.end_date || dayOff.date).toDate()\n          }\n        })\n    }\n  },\n\n  methods: {\n    formatSimpleDate,\n\n    openSetDayOffModal(dayOff = null) {\n      if (!dayOff) {\n        dayOff = { date: new Date() }\n      }\n      this.dayOffToEdit = dayOff\n      this.modals.setDayOff = true\n    },\n\n    openUnsetDayOffModal(dayOff) {\n      this.dayOffToEdit = dayOff\n      this.modals.unsetDayOff = true\n    },\n\n    closeSetDayOffModal() {\n      this.modals.setDayOff = false\n    },\n\n    closeUnsetDayOffModal() {\n      this.modals.unsetDayOff = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.day-off-list {\n  max-width: 800px;\n}\n\n.header {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n}\n\n.datatable-body tr:first-child th,\n.datatable-body tr:first-child td {\n  border-top: none;\n}\n\n.period {\n  width: 230px;\n  min-width: 200px;\n}\n\n.description {\n  width: 100%;\n  min-width: 200px;\n}\n\n.actions {\n  display: flex;\n  flex-wrap: nowrap;\n  gap: 0.5em;\n  min-width: auto;\n}\n</style>\n","<template>\n  <div class=\"columns fixed-page\">\n    <div class=\"column main-column\">\n      <div class=\"todos page\">\n        <route-section-tabs\n          class=\"section-tabs mt05\"\n          :active-tab=\"currentSection\"\n          :route=\"$route\"\n          :tabs=\"todoTabs\"\n        />\n\n        <div class=\"flexrow\" v-show=\"!isActiveTab('daysoff')\">\n          <search-field\n            ref=\"todos-search-field\"\n            class=\"flexrow-item search-field\"\n            :can-save=\"true\"\n            @change=\"onSearchChange\"\n            @save=\"saveSearchQuery\"\n          />\n\n          <combobox-production\n            class=\"flexrow-item production-field\"\n            :label=\"$t('main.production')\"\n            :production-list=\"productionList\"\n            v-model=\"productionId\"\n          />\n\n          <span class=\"filler\"></span>\n\n          <combobox\n            class=\"flexrow-item\"\n            :label=\"$t('main.show')\"\n            :options=\"filterOptions\"\n            locale-key-prefix=\"tasks.\"\n            v-model=\"currentFilter\"\n          />\n\n          <combobox\n            class=\"flexrow-item\"\n            :label=\"$t('main.sorted_by')\"\n            :options=\"sortOptions\"\n            locale-key-prefix=\"tasks.fields.\"\n            v-model=\"currentSort\"\n          />\n        </div>\n        <div class=\"query-list\" v-if=\"!isActiveTab('daysoff')\">\n          <search-query-list\n            :queries=\"todoSearchQueries\"\n            type=\"todo\"\n            @remove-search=\"removeSearchQuery\"\n          />\n        </div>\n\n        <todos-list\n          ref=\"todo-list\"\n          :empty-text=\"$t('people.no_task_assigned')\"\n          :is-loading=\"isTodosLoading\"\n          :is-error=\"isTodosLoadingError\"\n          :tasks=\"notPendingTasks\"\n          :selection-grid=\"todoSelectionGrid\"\n          @scroll=\"setTodoListScrollPosition\"\n          v-if=\"isActiveTab('todos')\"\n        />\n\n        <div v-if=\"isActiveTab('pending')\">&nbsp;</div>\n        <todos-list\n          ref=\"pending-list\"\n          :empty-text=\"$t('people.no_task_assigned')\"\n          :is-loading=\"isTodosLoading\"\n          :is-error=\"isTodosLoadingError\"\n          :tasks=\"pendingTasks\"\n          :selection-grid=\"todoSelectionGrid\"\n          @scroll=\"setTodoListScrollPosition\"\n          v-if=\"isActiveTab('pending')\"\n        />\n\n        <div v-if=\"isActiveTab('done')\">&nbsp;</div>\n        <todos-list\n          ref=\"done-list\"\n          class=\"done-list\"\n          done\n          :is-loading=\"loading.doneTasks || isTodosLoading\"\n          :is-error=\"isTodosLoadingError\"\n          :selection-grid=\"doneSelectionGrid\"\n          :tasks=\"sortedDoneTasks\"\n          v-if=\"isActiveTab('done')\"\n        />\n\n        <kanban-board\n          :is-loading=\"isTodosLoading\"\n          :is-error=\"isTodosLoadingError\"\n          :production=\"selectedProduction\"\n          :statuses=\"boardStatuses\"\n          :tasks=\"boardTasks\"\n          :user=\"user\"\n          v-if=\"isActiveTab('board')\"\n        />\n\n        <user-calendar\n          :days-off=\"daysOff\"\n          :is-loading=\"isTodosLoading\"\n          :tasks=\"sortedTasks\"\n          v-if=\"isActiveTab('calendar')\"\n        />\n\n        <timesheet-list\n          ref=\"timesheet-list\"\n          :tasks=\"loggableTodos\"\n          :done-tasks=\"loggableDoneTasks\"\n          :is-loading=\"loading.timesheets || isTodosLoading\"\n          :is-error=\"isTodosLoadingError\"\n          :days-off=\"daysOff\"\n          :day-off-error=\"dayOffError\"\n          :time-spent-map=\"timeSpentMap\"\n          :time-spent-total=\"timeSpentTotal\"\n          :hide-done=\"loggableDoneTasks.length === 0\"\n          :hide-day-off=\"false\"\n          @date-changed=\"onDateChanged\"\n          @time-spent-change=\"onTimeSpentChange\"\n          @set-day-off=\"onSetDayOff\"\n          @unset-day-off=\"onUnsetDayOff\"\n          v-if=\"isActiveTab('timesheets')\"\n        />\n\n        <day-off-list\n          ref=\"day-off-list\"\n          :days-off=\"daysOff\"\n          :day-off-error=\"dayOffError\"\n          @set-day-off=\"onSetDayOff\"\n          @unset-day-off=\"onUnsetDayOff\"\n          v-if=\"isActiveTab('daysoff')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"column side-column\" v-if=\"nbSelectedTasks > 0\">\n      <task-info :task=\"selectedTasks.values().next().value\" with-actions />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport moment from 'moment-timezone'\nimport { firstBy } from 'thenby'\n\nimport { searchMixin } from '@/components/mixins/search'\n\nimport { sortTaskStatuses } from '@/lib/sorting'\nimport { parseDate } from '@/lib/time'\n\nimport Combobox from '@/components/widgets/Combobox.vue'\nimport ComboboxProduction from '@/components/widgets/ComboboxProduction.vue'\nimport DayOffList from '@/components/lists/DayOffList.vue'\nimport KanbanBoard from '@/components/lists/KanbanBoard.vue'\nimport RouteSectionTabs from '@/components/widgets/RouteSectionTabs.vue'\nimport SearchField from '@/components/widgets/SearchField.vue'\nimport SearchQueryList from '@/components/widgets/SearchQueryList.vue'\nimport TaskInfo from '@/components/sides/TaskInfo.vue'\nimport TimesheetList from '@/components/lists/TimesheetList.vue'\nimport TodosList from '@/components/lists/TodosList.vue'\nimport UserCalendar from '@/components/widgets/UserCalendar.vue'\n\nexport default {\n  name: 'todos',\n\n  mixins: [searchMixin],\n\n  components: {\n    Combobox,\n    ComboboxProduction,\n    DayOffList,\n    KanbanBoard,\n    RouteSectionTabs,\n    SearchField,\n    SearchQueryList,\n    TaskInfo,\n    TimesheetList,\n    TodosList,\n    UserCalendar\n  },\n\n  data() {\n    return {\n      currentFilter: 'all_tasks',\n      currentSort: 'priority',\n      currentSection: 'todos',\n      daysOff: [],\n      dayOffError: false,\n      filterOptions: ['all_tasks', 'due_this_week'].map(name => ({\n        label: name,\n        value: name\n      })),\n      loading: {\n        doneTasks: false,\n        timesheets: false,\n        savingSearch: false\n      },\n      productionId: undefined,\n      selectedDate: moment().format('YYYY-MM-DD'),\n      sortOptions: [\n        'entity_name',\n        'priority',\n        'task_status_short_name',\n        'start_date',\n        'due_date',\n        'estimation',\n        'last_comment_date'\n      ].map(name => ({ label: name, value: name }))\n    }\n  },\n\n  async mounted() {\n    this.updateActiveTab()\n    await this.$nextTick()\n    await this.loadData()\n    this.setSearchFromUrl()\n    this.onSearchChange()\n  },\n\n  afterDestroy() {\n    this.$store.commit('USER_LOAD_TODOS_END', {\n      tasks: [],\n      userFilters: {},\n      taskTypeMap: this.taskTypeMap\n    })\n  },\n\n  computed: {\n    ...mapGetters([\n      'displayedDoneTasks',\n      'displayedTodos',\n      'doneSelectionGrid',\n      'getProductionTaskStatuses',\n      'isTodosLoading',\n      'isTodosLoadingError',\n      'nbSelectedTasks',\n      'openProductions',\n      'productionMap',\n      'selectedTasks',\n      'taskStatuses',\n      'taskTypeMap',\n      'timeSpentMap',\n      'timeSpentTotal',\n      'todoListScrollPosition',\n      'todoSearchQueries',\n      'todoSelectionGrid',\n      'user'\n    ]),\n\n    searchField() {\n      return this.$refs['todos-search-field']\n    },\n\n    boardTasks() {\n      return this.sortedTasks.concat(this.sortedDoneTasks)\n    },\n\n    boardStatuses() {\n      if (this.selectedProduction) {\n        return this.getBoardStatusesByProduction(this.selectedProduction)\n      }\n\n      const productionsByStatus = {}\n      this.openProductions.forEach(production => {\n        const statuses = this.getBoardStatusesByProduction(production)\n        statuses.forEach(status => {\n          if (!productionsByStatus[status.id]) {\n            productionsByStatus[status.id] = []\n          }\n          productionsByStatus[status.id].push(production.id)\n        })\n      })\n\n      return this.taskStatuses\n        .filter(status => !status.for_concept)\n        .map(status => ({\n          ...status,\n          productions: productionsByStatus[status.id] || []\n        }))\n        .filter(status => status.productions.length > 0)\n        .sort((a, b) => a.priority - b.priority)\n    },\n\n    productionList() {\n      return [{ name: this.$t('main.all') }, ...this.openProductions]\n    },\n\n    selectedProduction() {\n      return this.productionMap.get(this.productionId)\n    },\n\n    pendingTasks() {\n      return this.sortedTasks.filter(\n        task => task.taskStatus.is_feedback_request\n      )\n    },\n\n    notPendingTasks() {\n      return this.sortedTasks.filter(\n        task => !task.taskStatus.is_feedback_request\n      )\n    },\n\n    todoTabs() {\n      const hasAvailableBoard = this.openProductions.some(\n        production => this.getBoardStatusesByProduction(production).length\n      )\n      return [\n        {\n          label: this.$t('main.tasks'),\n          name: 'todos'\n        },\n        hasAvailableBoard\n          ? {\n              label: this.$t('board.title'),\n              name: 'board'\n            }\n          : undefined,\n        {\n          label: this.$t('tasks.calendar'),\n          name: 'calendar'\n        },\n        {\n          label: `${this.$t('tasks.pending')} (${this.pendingTasks.length})`,\n          name: 'pending'\n        },\n        {\n          label: `${this.$t('tasks.validated')} (${\n            this.loading.doneTasks ? 'â€¦' : this.sortedDoneTasks.length\n          })`,\n          name: 'done'\n        },\n        {\n          label: this.$t('timesheets.title'),\n          name: 'timesheets'\n        },\n        {\n          label: this.$t('days_off.title'),\n          name: 'daysoff'\n        }\n      ].filter(Boolean)\n    },\n\n    loggableTodos() {\n      return this.sortedTasks.filter(task => {\n        return this.taskTypeMap.get(task.task_type_id).allow_timelog\n      })\n    },\n\n    loggableDoneTasks() {\n      return this.sortedDoneTasks.filter(task => {\n        return this.taskTypeMap.get(task.task_type_id).allow_timelog\n      })\n    },\n\n    todoList() {\n      return this.$refs['todo-list']\n    },\n\n    haveDoneList() {\n      return this.$refs['done-list']\n    },\n\n    sortedTasks() {\n      let tasksToSort = this.displayedTodos\n      if (this.productionId) {\n        tasksToSort = tasksToSort.filter(\n          task => task.project_id === this.productionId\n        )\n      }\n      return this.sortTasks(tasksToSort, this.currentFilter, this.currentSort)\n    },\n\n    sortedDoneTasks() {\n      let tasksToSort = this.displayedDoneTasks\n      if (this.productionId) {\n        tasksToSort = tasksToSort.filter(\n          task => task.project_id === this.productionId\n        )\n      }\n      return this.sortTasks(tasksToSort, this.currentFilter, this.currentSort)\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'clearSelectedTasks',\n      'loadAggregatedPersonDaysOff',\n      'loadOpenProductions',\n      'loadUserTimeSpents',\n      'loadTodos',\n      'loadDoneTasks',\n      'removeTodoSearch',\n      'saveTodoSearch',\n      'setDayOff',\n      'setTimeSpent',\n      'setTodoListScrollPosition',\n      'setTodosSearch',\n      'unsetDayOff'\n    ]),\n\n    isActiveTab(tab) {\n      return this.currentSection === tab\n    },\n\n    async loadData(forced = false) {\n      this.loading.doneTasks = true\n      await this.loadTodos({\n        date: this.selectedDate,\n        forced\n      })\n      this.loadDoneTasks().then(() => {\n        this.loading.doneTasks = false\n      })\n      this.$nextTick(() => {\n        this.todoList?.setScrollPosition(this.todoListScrollPosition)\n      })\n      this.resizeHeaders()\n\n      this.daysOff = await this.loadAggregatedPersonDaysOff({\n        personId: this.user.id\n      })\n    },\n\n    async loadTimeSpents() {\n      this.isTasksLoading = true\n      await this.loadUserTimeSpents({ date: this.selectedDate })\n      this.isTasksLoading = false\n    },\n\n    resizeHeaders() {\n      this.$nextTick(() => {\n        this.todoList?.resizeHeaders()\n        this.haveDoneList?.resizeHeaders()\n      })\n    },\n\n    updateActiveTab() {\n      const availableSections = [\n        'board',\n        'calendar',\n        'daysoff',\n        'done',\n        'pending',\n        'timesheets'\n      ]\n      const currentSection = this.$route.query.section\n      this.currentSection = availableSections.includes(currentSection)\n        ? currentSection\n        : 'todos'\n\n      const currentProduction = this.openProductions.find(\n        ({ id }) => id === this.$route.query.productionId\n      )\n      if (currentProduction) {\n        this.productionId = currentProduction.id\n      } else {\n        this.$router.push({\n          query: {\n            productionId: this.productionId,\n            section: this.currentSection\n          }\n        })\n      }\n\n      this.clearSelectedTasks()\n    },\n\n    onSearchChange() {\n      this.setSearchInUrl()\n      if (this.searchField) {\n        this.setTodosSearch(this.searchField.getValue())\n      }\n    },\n\n    async saveSearchQuery(searchQuery) {\n      if (this.loading.savingSearch) return\n      try {\n        this.loading.savingSearch = true\n        await this.saveTodoSearch(searchQuery)\n        this.loading.savingSearch = false\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async removeSearchQuery(searchQuery) {\n      try {\n        await this.removeTodoSearch(searchQuery)\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async onDateChanged(date) {\n      this.loading.timesheets = true\n      this.selectedDate = moment(date).format('YYYY-MM-DD')\n      await this.loadTimeSpents()\n      this.loading.timesheets = false\n    },\n\n    async onSetDayOff(dayOff) {\n      this.dayOffError = false\n      try {\n        await this.setDayOff({\n          ...dayOff,\n          personId: this.user.id\n        })\n        this.$refs['timesheet-list']?.closeSetDayOffModal()\n        this.$refs['day-off-list']?.closeSetDayOffModal()\n      } catch (error) {\n        this.dayOffError = error.body?.message || true\n      }\n      await this.loadData(true)\n    },\n\n    async onUnsetDayOff(dayOff) {\n      this.dayOffError = false\n      try {\n        await this.unsetDayOff(dayOff)\n        this.$refs['timesheet-list']?.closeUnsetDayOffModal()\n        this.$refs['day-off-list']?.closeUnsetDayOffModal()\n      } catch (error) {\n        this.dayOffError = error.body?.message || true\n      }\n      await this.loadData(true)\n    },\n\n    onTimeSpentChange(timeSpentInfo) {\n      timeSpentInfo.personId = this.user.id\n      timeSpentInfo.date = this.selectedDate\n      this.setTimeSpent(timeSpentInfo)\n    },\n\n    async onAssignation(eventData) {\n      if (this.user.id === eventData.person_id) {\n        await this.loadOpenProductions()\n        await this.loadData(true)\n      }\n    },\n\n    getBoardStatusesByProduction(production) {\n      const statuses = this.getProductionTaskStatuses(production.id).filter(\n        status => {\n          if (status.for_concept) {\n            return false\n          }\n          const roles_for_board =\n            production.task_statuses_link?.[status.id]?.roles_for_board\n          return roles_for_board?.includes(this.user.role)\n        }\n      )\n      return sortTaskStatuses(statuses, production)\n    },\n\n    sortTasks(tasks, currentFilter, currentSort) {\n      tasks =\n        currentFilter === 'all_tasks'\n          ? [...tasks]\n          : tasks.filter(t => {\n              const dueDate = parseDate(t.due_date)\n              return moment().startOf('week').isSame(dueDate, 'week')\n            })\n\n      const isName = currentSort === 'entity_name'\n      const isPriority = currentSort === 'priority'\n      const isDueDate = currentSort === 'due_date'\n      const isStartDate = currentSort === 'start_date'\n\n      if (isName) {\n        return tasks.sort(\n          firstBy('project_name')\n            .thenBy('task_type_name')\n            .thenBy('full_entity_name')\n        )\n      } else if (isPriority) {\n        return tasks.sort(\n          firstBy('priority', -1)\n            .thenBy((a, b) => {\n              if (!a.due_date) return 1\n              else if (!b.due_date) return -1\n              else return a.due_date.localeCompare(b.due_date)\n            })\n            .thenBy('project_name')\n            .thenBy('task_type_name')\n            .thenBy('entity_name')\n        )\n      } else if (isDueDate) {\n        return tasks.sort(\n          firstBy((a, b) => {\n            if (!a.due_date) return 1\n            else if (!b.due_date) return -1\n            else return a.due_date.localeCompare(b.due_date)\n          })\n            .thenBy('project_name')\n            .thenBy('task_type_name')\n            .thenBy('entity_name')\n        )\n      } else if (isStartDate) {\n        return tasks.sort(\n          firstBy((a, b) => {\n            if (!a.start_date) return 1\n            else if (!b.start_date) return -1\n            else return a.start_date.localeCompare(b.start_date)\n          })\n            .thenBy('project_name')\n            .thenBy('task_type_name')\n            .thenBy('entity_name')\n        )\n      } else {\n        return tasks.sort(\n          firstBy(currentSort, -1)\n            .thenBy('project_name')\n            .thenBy('task_type_name')\n            .thenBy('entity_name')\n        )\n      }\n    }\n  },\n\n  socket: {\n    events: {\n      'task:assign'(eventData) {\n        this.onAssignation(eventData)\n      },\n\n      'task:unassign'(eventData) {\n        this.onAssignation(eventData)\n      }\n    }\n  },\n\n  watch: {\n    productionId() {\n      this.$router.push({\n        query: {\n          productionId: this.productionId,\n          section: this.currentSection\n        }\n      })\n    },\n\n    '$route.query.section'() {\n      this.updateActiveTab()\n    },\n\n    '$route.query.search'(search) {\n      this.searchField?.setValue(search)\n      this.onSearchChange()\n    }\n  },\n\n  head() {\n    return {\n      title: `${this.$t('tasks.my_tasks')} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.columns {\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n}\n\n.column {\n  padding: 0;\n  overflow-y: auto;\n}\n\n.todos {\n  display: flex;\n  flex-direction: column;\n}\n\n.section-tabs {\n  min-height: 36px;\n}\n\n.search-field {\n  margin: 25px 2em 5px 0;\n}\n\n.query-list {\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n}\n\n.data-list {\n  margin-top: 0;\n}\n\n.done-list {\n  margin-top: 2em;\n}\n\n.field {\n  margin-bottom: 0;\n}\n</style>\n"],"names":["_sfc_main","ButtonSimple","DayOffModal","DeleteModal","TableInfo","description","date","end_date","period","a","b","dayOff","moment","formatSimpleDate","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_button_simple","_ctx","$options","_hoisted_3","_toDisplayString","$props","_hoisted_8","_Fragment","_renderList","$event","_createCommentVNode","_hoisted_12","_cache","_hoisted_13","_component_table_info","_hoisted_14","_component_day_off_modal","$data","_component_delete_modal","searchMixin","Combobox","ComboboxProduction","DayOffList","KanbanBoard","RouteSectionTabs","SearchField","SearchQueryList","TaskInfo","TimesheetList","TodosList","UserCalendar","name","mapGetters","productionsByStatus","production","status","task","hasAvailableBoard","tasksToSort","mapActions","tab","forced","availableSections","currentSection","currentProduction","id","searchQuery","error","timeSpentInfo","eventData","statuses","sortTaskStatuses","tasks","currentFilter","currentSort","t","dueDate","parseDate","isName","isPriority","isDueDate","isStartDate","firstBy","search","_component_route_section_tabs","_withDirectives","_component_search_field","_component_combobox_production","_component_combobox","_component_search_query_list","_createBlock","_component_todos_list","_component_kanban_board","_component_user_calendar","_component_timesheet_list","_component_day_off_list","_component_task_info"],"mappings":"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"}