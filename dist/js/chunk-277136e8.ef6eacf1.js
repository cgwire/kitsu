(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-277136e8"],{"1c99":function(e,t,s){},"24d0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"people page fixed-page"},[s("div",{staticClass:"flexrow mt2 add-people"},[s("span",{staticClass:"flexrow-item people-field-label"},[e._v(" "+e._s(e.$t("people.add_member_to_team"))+" ")]),s("people-field",{ref:"people-field",staticClass:"flexrow-item add-people-field",attrs:{people:e.unlistedPeople},on:{enter:e.addPerson},model:{value:e.person,callback:function(t){e.person=t},expression:"person"}}),s("button",{staticClass:"button flexrow-item",on:{click:e.addPerson}},[e._v(" "+e._s(e.$t("main.add"))+" ")])],1),s("production-team-list",{attrs:{entries:e.teamPersons,"is-loading":e.isTeamLoading,"is-error":e.isTeamLoadingError},on:{remove:e.removePerson}})],1)},o=[],n=(s("99af"),s("4de4"),s("caad"),s("d81d"),s("b0c0"),s("2532"),s("5530")),r=s("2f62"),i=s("2229"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"data-list"},[s("div",{staticClass:"datatable-wrapper"},[s("table",{staticClass:"datatable"},[s("thead",{staticClass:"datatable-head"},[s("tr",[s("th",{staticClass:"name datatable-row-header",attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("people.list.name"))+" ")]),s("th",{staticClass:"email",attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("people.list.email"))+" ")]),s("th",{staticClass:"phone",attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("people.list.phone"))+" ")]),s("th",{staticClass:"role",attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("people.list.role"))+" ")]),s("th",{staticClass:"actions",attrs:{scope:"col"}})])]),e.isEmpty?e._e():s("tbody",{staticClass:"datatable-body"},e._l(e.entries,(function(t){return s("tr",{key:t.id,staticClass:"datatable-row"},[s("people-name-cell",{staticClass:"name",attrs:{person:t}}),s("td",{staticClass:"email"},[e._v(e._s(t.email))]),s("td",{staticClass:"phone"},[e._v(e._s(t.phone))]),s("td",{staticClass:"role"},[e._v(e._s(e.$t("people.role."+t.role)))]),e.isCurrentUserAdmin?s("td",{staticClass:"actions"},[s("button",{staticClass:"button",on:{click:function(s){return e.removePerson(t)}}},[e._v(" "+e._s(e.$t("main.remove"))+" ")])]):s("td",{staticClass:"actions"})],1)})),0)])]),e.isEmpty?s("p",{staticClass:"has-text-centered mt2"},[e._v(" "+e._s(e.$t("people.empty_team"))+" ")]):e._e(),s("p",{staticClass:"has-text-centered footer-info"},[e._v(" "+e._s(e.entries.length)+" "+e._s(e.$tc("people.persons",e.entries.length))+" ")])])},l=[],p=(s("d3b7"),s("ddb0"),s("7365")),d={name:"production-team-list",components:{PeopleNameCell:p["a"]},props:["entries"],computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["isCurrentUserAdmin"])),{},{isEmpty:function(){return!this.entries||0===this.entries.length}}),methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["removePersonFromTeam"])),{},{removePerson:function(e){this.removePersonFromTeam(e)}})},m=d,u=(s("5e63"),s("2877")),b=Object(u["a"])(m,c,l,!1,null,"25c8aa17",null),f=b.exports,h=s("9616"),v={name:"people",components:{PeopleField:h["a"],ProductionTeamList:f},data:function(){return{person:null,isTeamLoading:!1,isTeamLoadingError:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["currentProduction","productionMap","openProductions","personMap","people"])),{},{teamPersons:function(){var e=this;return Object(i["f"])(this.currentProduction.team.map((function(t){return e.personMap[t]})))},unlistedPeople:function(){var e=this;return this.people.filter((function(t){return!e.currentProduction.team.includes(t.id)&&t.active}))}}),methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["addPersonToTeam"])),{},{addPerson:function(){var e=this;this.person&&(this.addPersonToTeam(this.person),setTimeout((function(){e.$refs["people-field"].clear()}),1))},removePerson:function(e){this.removePersonFromTeam(e)}}),metaInfo:function(){return{title:"".concat(this.currentProduction.name," | ").concat(this.$t("people.team")," - Kitsu")}}},_=v,C=(s("3d7c"),Object(u["a"])(_,a,o,!1,null,"877e439c",null));t["default"]=C.exports},"31bc":function(e,t,s){},"3d7c":function(e,t,s){"use strict";s("31bc")},"5e63":function(e,t,s){"use strict";s("1c99")},7365:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"name datatable-row-header",attrs:{scope:"row"}},[s("div",{staticClass:"people-name"},[s("people-avatar",{staticClass:"avatar",attrs:{person:e.person}}),s("people-name",{staticClass:"people-name",attrs:{person:e.person}})],1)])},o=[],n=s("5530"),r=s("2f62"),i=s("eb8c"),c=s("0073"),l={name:"people-name-cell",components:{PeopleName:c["a"],PeopleAvatar:i["a"]},props:{person:{type:Object,required:!0}},computed:Object(n["a"])({},Object(r["c"])([])),methods:Object(n["a"])({},Object(r["b"])([]))},p=l,d=(s("bba7"),s("2877")),m=Object(d["a"])(p,a,o,!1,null,"564d8b18",null);t["a"]=m.exports},8666:function(e,t,s){},bba7:function(e,t,s){"use strict";s("8666")}}]);
//# sourceMappingURL=chunk-277136e8.ef6eacf1.js.map