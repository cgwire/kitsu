{"version":3,"sources":["webpack:///./src/components/pages/ProductionQuota.vue?4135","webpack:///./src/components/pages/quota/Quota.vue?1c7a","webpack:///./src/components/lists/QuotaShotList.vue?cc5c","webpack:///./src/components/sides/PeopleQuotaInfo.vue?eb5d","webpack:///./src/components/pages/ProductionQuota.vue?d669","webpack:///./src/components/sides/PeopleQuotaInfo.vue?c903","webpack:///./src/components/lists/QuotaShotList.vue?639d","webpack:///src/components/lists/QuotaShotList.vue","webpack:///./src/components/lists/QuotaShotList.vue?aca8","webpack:///./src/components/lists/QuotaShotList.vue","webpack:///src/components/sides/PeopleQuotaInfo.vue","webpack:///./src/components/sides/PeopleQuotaInfo.vue?5297","webpack:///./src/components/sides/PeopleQuotaInfo.vue","webpack:///./src/components/pages/quota/Quota.vue?c2fb","webpack:///src/components/pages/quota/Quota.vue","webpack:///./src/components/pages/quota/Quota.vue?a016","webpack:///./src/components/pages/quota/Quota.vue","webpack:///src/components/pages/ProductionQuota.vue","webpack:///./src/components/pages/ProductionQuota.vue?eb00","webpack:///./src/components/pages/ProductionQuota.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","productionShotTaskTypes","model","value","callback","$$v","taskTypeId","expression","detailLevelOptions","detailLevelString","monthOptions","monthString","_e","yearOptions","yearString","countModeOptions","countMode","computeModeOptions","computeMode","on","exportQuotas","ref","onSearchChange","_v","_s","maxQuota","currentYear","currentMonth","currentWeek","currentDay","currentPerson","currentMode","searchText","isPersonShotsLoading","personShots","hideSideInfo","staticRenderFns","closeRoute","person","full_name","year","week","startDay","endDay","weekMonth","day","shots","isLoading","isLoadingError","_l","shot","key","getQuota","weight","name","components","TableInfo","data","projectNames","props","type","Array","default","Boolean","String","computed","methods","nb_frames","watch","component","XIcon","PageTitle","PeopleAvatar","QuotaShotList","Object","Number","month","isMonthInfo","$route","path","indexOf","isWeekInfo","isDayInfo","currentProduction","production_id","id","route","params","currentEpisode","episode_id","onCloseClicked","$emit","style","left","averageColumnX","detailLevel","monthToString","quotaLength","personMap","get","getQuotaAverage","class","selected","isMonthSelected","isMonthQuotaLow","episodifyRoute","person_id","toFixed","isWeekSelected","isWeekQuotaLow","weekend","isWeekend","isDaySelected","isDayQuotaLow","isError","required","detailsTitle","detailsMap","isPanelShown","personIds","quotaMap","undefined","mounted","shotMap","size","setTimeout","err","isShotsLoading","loadData","monthRange","dayRange","weekRange","filteredPersonIds","length","date","includes","computeQuota","loadDetails","loadShots","console","error","personId","dateString","dateDigit","toString","padStart","opt","dayKey","weekKey","monthKey","total","nbEntries","entries","yearKey","average","calcAverageColumnX","resetPersonIds","personIndex","sort","personAName","localeCompare","personBName","els","ButtonSimple","Combobox","ComboboxTaskType","InfoQuestionMark","PeopleQuotaInfo","Quota","SearchField","TextField","getCurrentPerson","showInfo","loadRoute","label","map","weekString","getPersonQuotaShots","showSideInfo","nameData","push","csv","query","$router","localStorage","setItem"],"mappings":"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","file":"js/chunk-4296d5a6.afbb17e3.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=style&index=0&id=ca991a9a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=style&index=0&id=0b0efb76&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=style&index=0&id=08efedbe&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=style&index=0&id=5ef21a06&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"flexrow filters\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('combobox-task-type',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.type_label'),\"task-type-list\":_vm.productionShotTaskTypes},model:{value:(_vm.taskTypeId),callback:function ($$v) {_vm.taskTypeId=$$v},expression:\"taskTypeId\"}})],1),_c('div',{staticClass:\"flexrow-item\"},[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.detail_label'),\"options\":_vm.detailLevelOptions},model:{value:(_vm.detailLevelString),callback:function ($$v) {_vm.detailLevelString=$$v},expression:\"detailLevelString\"}})],1),(_vm.detailLevelString === 'day')?_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.month_label'),\"options\":_vm.monthOptions},model:{value:(_vm.monthString),callback:function ($$v) {_vm.monthString=$$v},expression:\"monthString\"}}):_vm._e(),_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.year_label'),\"options\":_vm.yearOptions},model:{value:(_vm.yearString),callback:function ($$v) {_vm.yearString=$$v},expression:\"yearString\"}}),_c('div',{staticClass:\"flexrow-item\"},[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.count_label'),\"options\":_vm.countModeOptions},model:{value:(_vm.countMode),callback:function ($$v) {_vm.countMode=$$v},expression:\"countMode\"}})],1),_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('quota.compute_mode'),\"options\":_vm.computeModeOptions},model:{value:(_vm.computeMode),callback:function ($$v) {_vm.computeMode=$$v},expression:\"computeMode\"}}),_c('div',{staticClass:\"flexrow-item\"},[_c('info-question-mark',{staticClass:\"mt2\",attrs:{\"text\":_vm.computeMode === 'weighted'\n                 ? _vm.$t('quota.explaination')\n                 : _vm.$t('quota.explaination_feedback')}})],1),_c('div',{staticClass:\"filler\"}),_c('button-simple',{staticClass:\"flexrow-item\",attrs:{\"title\":_vm.$t('quota.export_quotas'),\"icon\":\"download\"},on:{\"click\":_vm.exportQuotas}})],1),_c('div',{staticClass:\"flexrow mb2 mt0\"},[_c('search-field',{ref:\"search-field\",staticClass:\"search-field flexrow-item\",on:{\"change\":_vm.onSearchChange}}),_c('span',{staticClass:\"label flexrow-item\"},[_vm._v(\" \"+_vm._s(_vm.$t('quota.highlight_quotas'))+\" \")]),_c('text-field',{staticClass:\"flexrow-item max-quota-input\",attrs:{\"type\":\"number\"},model:{value:(_vm.maxQuota),callback:function ($$v) {_vm.maxQuota=$$v},expression:\"maxQuota\"}})],1),_c('quota',{ref:\"quota-list\",attrs:{\"taskTypeId\":_vm.taskTypeId,\"detailLevel\":_vm.detailLevelString,\"year\":_vm.currentYear,\"month\":_vm.currentMonth,\"week\":_vm.currentWeek,\"day\":_vm.currentDay,\"currentPerson\":_vm.currentPerson,\"countMode\":_vm.currentMode,\"computeMode\":_vm.computeMode,\"searchText\":_vm.searchText,\"maxQuota\":_vm.maxQuota}})],1),(_vm.showInfo)?_c('div',{staticClass:\"column side-column\"},[_c('people-quota-info',{attrs:{\"person\":_vm.currentPerson,\"year\":_vm.currentYear,\"month\":_vm.currentMonth,\"week\":_vm.currentWeek,\"day\":_vm.currentDay,\"is-loading\":_vm.isPersonShotsLoading,\"is-loading-error\":false,\"shots\":_vm.personShots,\"count-mode\":_vm.countMode},on:{\"close\":_vm.hideSideInfo}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"people-timesheet-info\"},[_c('div',{staticClass:\"close\"},[_c('router-link',{staticClass:\"close-button\",attrs:{\"to\":_vm.closeRoute}},[_c('x-icon')],1)],1),_c('div',{staticClass:\"flexrow\"},[_c('people-avatar',{staticClass:\"flexrow-item\",attrs:{\"person\":_vm.person,\"no-cache\":true}}),_c('page-title',{staticClass:\"flexrow-item\",attrs:{\"text\":_vm.person.full_name}})],1),(_vm.isMonthInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" \"+_vm._s(_vm.monthString)+\" \"+_vm._s(_vm.year)+\" \")]):(_vm.isWeekInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" week \"+_vm._s(_vm.week)+\", \"+_vm._s(_vm.startDay)+\" - \"+_vm._s(_vm.endDay)+\" \"+_vm._s(_vm.weekMonth)+\" \"+_vm._s(_vm.year)+\" \")]):(_vm.isDayInfo)?_c('div',{staticClass:\"info-date\"},[_vm._v(\" \"+_vm._s(_vm.day)+\" \"+_vm._s(_vm.monthString)+\" \"+_vm._s(_vm.year)+\" \")]):_vm._e(),_c('quota-shot-list',{staticClass:\"time-spent-list\",attrs:{\"count-mode\":_vm.countMode,\"shots\":_vm.shots,\"is-loading\":_vm.isLoading,\"is-error\":_vm.isLoadingError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[(!_vm.isLoading)?_c('table',{staticClass:\"details table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('quota.details_name')))]),_c('th',[_vm._v(\" \"+_vm._s(this.countMode === 'seconds' ? _vm.$t('quota.details_seconds') : _vm.$t('quota.details_frames'))+\" \")]),_c('th',[_vm._v(_vm._s(_vm.$t('quota.weight')))])])]),_c('tbody',_vm._l((_vm.shots),function(shot){return _c('tr',{key:(\"shot-quota-\" + (shot.id))},[_c('td',[_vm._v(_vm._s(shot.full_name))]),_c('td',[_vm._v(_vm._s(_vm.getQuota(shot)))]),_c('td',[_vm._v(_vm._s(shot.weight))])])}),0)]):_vm._e(),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isLoadingError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"data-list\">\n  <table class=\"details table\" v-if=\"!isLoading\">\n    <thead>\n      <tr>\n        <th>{{ $t('quota.details_name') }}</th>\n        <th>\n        {{\n          this.countMode === 'seconds'\n            ? $t('quota.details_seconds')\n            : $t('quota.details_frames')\n        }}\n        </th>\n        <th>{{ $t('quota.weight') }}</th>\n      </tr>\n    </thead>\n    <tbody>\n     <tr\n       :key=\"`shot-quota-${shot.id}`\"\n       v-for=\"shot in shots\"\n     >\n       <td>{{ shot.full_name }}</td>\n       <td>{{ getQuota(shot) }}</td>\n       <td>{{ shot.weight }}</td>\n     </tr>\n    </tbody>\n  </table>\n\n  <table-info\n    :is-loading=\"isLoading\"\n    :is-error=\"isLoadingError\"\n  />\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { frameToSeconds } from '@/lib/video'\nimport TableInfo from '@/components/widgets/TableInfo'\n\nexport default {\n  name: 'quota-shot-list',\n\n  components: {\n    TableInfo\n  },\n\n  data () {\n    return {\n      projectNames: {}\n    }\n  },\n\n  props: {\n    shots: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingError: {\n      type: Boolean,\n      default: false\n    },\n    countMode: {\n      type: String,\n      default: 'frames'\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'lastProductionScreen',\n      'taskTypeMap'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    getQuota (shot) {\n      if (this.countMode === 'seconds') {\n        return frameToSeconds(shot.nb_frames, this.currentProduction, shot)\n      } else {\n        return shot.nb_frames\n      }\n    }\n  },\n\n  watch: {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  header tr:hover {\n    background: transparent;\n  }\n\n  .table {\n    thead,\n    tbody tr:nth-child(odd) {\n      color: $white-grey;\n      background: #36393F;\n    }\n\n    tbody tr:nth-child(even) {\n      color: $white-grey;\n      background: #46494F;\n    }\n\n    thead th,\n    thead:hover {\n      color: $white-grey;\n      background: #36393F;\n      border-color: #666666;\n    }\n\n    tbody td {\n      border-color: #25282E;\n    }\n\n    tbody tr:hover {\n      color: $white-grey;\n      background: #5E6169;\n    }\n  }\n}\n\ntbody {\n  tr:nth-child(even) {\n    background: #F6F6F6;\n  }\n\n  tr:hover {\n    background: $light-green-lightest;\n  }\n}\n\n.name {\n  width: 300px;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./QuotaShotList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuotaShotList.vue?vue&type=template&id=08efedbe&scoped=true&\"\nimport script from \"./QuotaShotList.vue?vue&type=script&lang=js&\"\nexport * from \"./QuotaShotList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuotaShotList.vue?vue&type=style&index=0&id=08efedbe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08efedbe\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"people-timesheet-info\">\n  <div class=\"close\">\n    <router-link class=\"close-button\" :to=\"closeRoute\">\n      <x-icon />\n    </router-link>\n  </div>\n\n  <div class=\"flexrow\">\n    <people-avatar class=\"flexrow-item\" :person=\"person\" :no-cache=true />\n    <page-title class=\"flexrow-item\" :text=\"person.full_name\" />\n  </div>\n  <div\n    class=\"info-date\"\n    v-if=\"isMonthInfo\"\n  >\n    {{ monthString }} {{ year }}\n  </div>\n\n  <div\n    class=\"info-date\"\n    v-else-if=\"isWeekInfo\"\n  >\n    week {{ week }}, {{ startDay }} - {{ endDay }} {{ weekMonth }} {{ year }}\n  </div>\n\n  <div\n    class=\"info-date\"\n    v-else-if=\"isDayInfo\"\n  >\n    {{ day }} {{ monthString }} {{ year }}\n  </div>\n\n  <quota-shot-list\n    class=\"time-spent-list\"\n    :count-mode=\"countMode\"\n    :shots=\"shots\"\n    :is-loading=\"isLoading\"\n    :is-error=\"isLoadingError\"\n  />\n</div>\n</template>\n\n<script>\nimport moment from 'moment-timezone'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { XIcon } from 'vue-feather-icons'\nimport PageTitle from '../widgets/PageTitle'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\nimport QuotaShotList from '../lists/QuotaShotList'\nimport { monthToString } from '../../lib/time'\n\nexport default {\n  name: 'shot-quota-info',\n\n  components: {\n    XIcon,\n    PageTitle,\n    PeopleAvatar,\n    QuotaShotList\n  },\n\n  props: {\n    person: {\n      type: Object,\n      default: () => {}\n    },\n    year: {\n      type: Number,\n      default: 0\n    },\n    month: {\n      type: Number,\n      default: 0\n    },\n    week: {\n      type: Number,\n      default: 0\n    },\n    day: {\n      type: Number,\n      default: 0\n    },\n    countMode: {\n      type: String,\n      default: 'frames'\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingError: {\n      type: Boolean,\n      default: false\n    },\n    shots: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction'\n    ]),\n\n    startDay () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .date()\n    },\n\n    endDay () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .add('days', 6)\n        .date()\n    },\n\n    weekMonth () {\n      return moment()\n        .day('Monday')\n        .year(this.year)\n        .week(this.week)\n        .format('MMM')\n    },\n\n    monthString () {\n      return monthToString(this.month)\n    },\n\n    isMonthInfo () {\n      return this.$route.path.indexOf('month') > 0\n    },\n\n    isWeekInfo () {\n      return this.$route.path.indexOf('week') > 0\n    },\n\n    isDayInfo () {\n      return this.$route.path.indexOf('day') > 0\n    },\n\n    closeRoute () {\n      if (!this.currentProduction) return {}\n      let route = {\n        name: 'quota',\n        production_id: this.currentProduction.id\n      }\n      if (this.isMonthInfo) {\n        route = {\n          name: 'quota-month',\n          params: {\n            year: this.year\n          }\n        }\n      } else if (this.isWeekInfo) {\n        route = {\n          name: 'quota-week',\n          params: {\n            year: this.year\n          }\n        }\n      } else if (this.isDayInfo) {\n        route = {\n          name: 'quota-day',\n          params: {\n            year: this.year,\n            month: this.month\n          }\n        }\n      }\n      if (this.currentEpisode) {\n        route.name = `episode-${route.name}`\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    onCloseClicked () {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark .close-button:hover {\n  background: $dark-grey-lightest;\n}\n\n.data-list {\n  padding-bottom: 5em;\n}\n\n.people-timesheet-info {\n  padding: 1em;\n}\n\n.info-date {\n  font-size: 1.5em;\n  margin-top: 1em;\n  text-transform: capitalize;\n}\n\n.close {\n  text-align: right;\n}\n\n.close-button {\n  cursor: pointer;\n  display: inline-block;\n  text-align: center;\n  padding-top: 3px;\n  width: 30px;\n  height: 30px;\n}\n\n.close-button:hover {\n  display: inline-block;\n  background: $white-grey;\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeopleQuotaInfo.vue?vue&type=template&id=5ef21a06&scoped=true&\"\nimport script from \"./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./PeopleQuotaInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PeopleQuotaInfo.vue?vue&type=style&index=0&id=5ef21a06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef21a06\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[_c('div',{ref:\"body\",staticClass:\"datatable-wrapper\"},[_c('table',{staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',[_c('th',{ref:\"rowHeaderName\",staticClass:\"name datatable-row-header\",attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(_vm.$t('quota.name'))+\" \")]),_c('th',{staticClass:\"average datatable-row-header\",style:({left: _vm.averageColumnX}),attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(_vm.$t('quota.average'))+\" \")]),_vm._l((_vm.monthRange),function(month){return (_vm.detailLevel === 'month')?_c('th',{key:'month-' + month,attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(_vm.monthToString(month))+\" \")]):_vm._e()}),_vm._l((_vm.weekRange),function(week){return (_vm.detailLevel === 'week')?_c('th',{key:'week-' + week,attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(week)+\" \")]):_vm._e()}),_vm._l((_vm.dayRange),function(day){return (_vm.detailLevel === 'day')?_c('th',{key:'day-' + day,attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(day)+\" \")]):_vm._e()})],2)]),(this.quotaLength > 0 && !_vm.isLoading)?_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.filteredPersonIds),function(key){return _c('tr',{key:'name-' + key,staticClass:\"datatable-row\"},[_c('th',{staticClass:\"name datatable-row-header\",attrs:{\"scope\":\"row\"}},[_c('div',{staticClass:\"flexrow\"},[_c('people-avatar',{attrs:{\"size\":30,\"person\":_vm.personMap.get(key)}}),_vm._v(\" \"+_vm._s(_vm.personMap.get(key).full_name)+\" \")],1)]),(_vm.detailLevel === 'month')?_c('td',{staticClass:\"average datatable-row-header\",style:({left: _vm.averageColumnX})},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year }))+\" \")]):_vm._e(),(_vm.detailLevel === 'week')?_c('td',{staticClass:\"average datatable-row-header\",style:({left: _vm.averageColumnX})},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year }))+\" \")]):_vm._e(),(_vm.detailLevel === 'day')?_c('td',{staticClass:\"average datatable-row-header\",style:({left: _vm.averageColumnX})},[_vm._v(\" \"+_vm._s(_vm.getQuotaAverage(key, { year: _vm.year, month: _vm.month }))+\" \")]):_vm._e(),_vm._l((_vm.monthRange),function(month){return (_vm.detailLevel === 'month')?_c('td',{key:'month-' + month,class:{\n              selected: _vm.isMonthSelected(key, _vm.year, month),\n              'quota-low': _vm.isMonthQuotaLow(key, _vm.year, month)\n            }},[(_vm.getQuota(key, {year: _vm.year, month: month}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n                name: 'quota-month-person',\n                params: {\n                  person_id: key,\n                  year: _vm.year,\n                  month: month\n                }\n              })}},[_vm._v(\" \"+_vm._s(_vm.countMode === 'seconds' ? _vm.getQuota(key, {year: _vm.year, month: month}).toFixed(2) : _vm.getQuota(key, {year: _vm.year, month: month}))+\" \")]):_c('span',[_vm._v(\"-\")])],1):_vm._e()}),_vm._l((_vm.weekRange),function(week){return (_vm.detailLevel === 'week')?_c('td',{key:'week-' + week,class:{\n              selected: _vm.isWeekSelected(key, _vm.year, week),\n              'quota-low': _vm.isWeekQuotaLow(key, _vm.year, _vm.month)\n            }},[(_vm.getQuota(key, {year: _vm.year, week: week}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n                name: 'quota-week-person',\n                params: {\n                  person_id: key,\n                  year: _vm.year,\n                  week: week\n                }\n              })}},[_vm._v(\" \"+_vm._s(_vm.countMode === 'seconds' ? _vm.getQuota(key, {year: _vm.year, week: week}).toFixed(2) : _vm.getQuota(key, {year: _vm.year, week: week}))+\" \")]):_c('span',[_vm._v(\" - \")])],1):_vm._e()}),_vm._l((_vm.dayRange),function(day){return (_vm.detailLevel === 'day')?_c('td',{key:'day-' + day,class:{\n              weekend: _vm.isWeekend(_vm.year, _vm.month, day),\n              selected: _vm.isDaySelected(key, _vm.year, _vm.month, day),\n              'quota-low': _vm.isDayQuotaLow(key, _vm.year, _vm.month, day)\n            }},[(_vm.getQuota(key, {year: _vm.year, month: _vm.month, day: day}))?_c('router-link',{staticClass:\"quota-button\",attrs:{\"to\":_vm.episodifyRoute({\n                name: 'quota-day-person',\n                params: {\n                  person_id: key,\n                  year: _vm.year,\n                  month: _vm.month,\n                  day: day\n                }\n              })}},[_vm._v(\" \"+_vm._s(_vm.countMode === 'seconds' ? _vm.getQuota(key, {year: _vm.year, month: _vm.month, day: day}).toFixed(2) : _vm.getQuota(key, {year: _vm.year, month: _vm.month, day: day}))+\" \")]):_c('span',[_vm._v(\" - \")])],1):_vm._e()})],2)}),0):_vm._e()])]),(this.quotaLength === 0 && !_vm.isLoading)?_c('div',{staticClass:\"has-text-centered empty-quota\"},[_c('p',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.$t('quota.no_quota')))])]):_vm._e(),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"data-list\">\n  <div\n    class=\"datatable-wrapper\"\n    ref=\"body\"\n  >\n    <table class=\"datatable\">\n      <thead class=\"datatable-head\">\n        <tr>\n          <th\n            scope=\"col\"\n            class=\"name datatable-row-header\"\n            ref=\"rowHeaderName\"\n          >\n            {{ $t('quota.name') }}\n          </th>\n          <th\n            scope=\"col\"\n            class=\"average datatable-row-header\"\n            :style=\"{left: averageColumnX}\"\n          >\n            {{ $t('quota.average') }}\n          </th>\n          <th\n            scope=\"col\"\n            :key=\"'month-' + month\"\n            v-for=\"month in monthRange\"\n            v-if=\"detailLevel === 'month'\"\n          >\n            {{ monthToString(month) }}\n          </th>\n          <th\n            scope=\"col\"\n            :key=\"'week-' + week\"\n            v-for=\"week in weekRange\"\n            v-if=\"detailLevel === 'week'\"\n          >\n            {{ week }}\n          </th>\n\n          <th\n            scope=\"col\"\n            :key=\"'day-' + day\"\n            v-for=\"day in dayRange\"\n            v-if=\"detailLevel === 'day'\"\n          >\n            {{ day }}\n          </th>\n        </tr>\n      </thead>\n      <tbody\n        class=\"datatable-body\"\n        v-if=\"this.quotaLength > 0 && !isLoading\"\n      >\n        <tr\n          class=\"datatable-row\"\n          v-for=\"key in filteredPersonIds\"\n          :key=\"'name-' + key\"\n        >\n          <th scope=\"row\" class=\"name datatable-row-header\">\n            <div class=\"flexrow\">\n              <people-avatar :size=\"30\" :person=\"personMap.get(key)\"/>\n              {{ personMap.get(key).full_name }}\n            </div>\n          </th>\n          <td\n            class=\"average datatable-row-header\"\n            :style=\"{left: averageColumnX}\"\n            v-if=\"detailLevel === 'month'\"\n          >\n            {{ getQuotaAverage(key, { year }) }}\n          </td>\n          <td\n            class=\"average datatable-row-header\"\n            :style=\"{left: averageColumnX}\"\n            v-if=\"detailLevel === 'week'\"\n          >\n            {{ getQuotaAverage(key, { year }) }}\n          </td>\n          <td\n            class=\"average datatable-row-header\"\n            :style=\"{left: averageColumnX}\"\n            v-if=\"detailLevel === 'day'\"\n          >\n            {{ getQuotaAverage(key, { year, month }) }}\n          </td>\n          <td\n            :class=\"{\n              selected: isMonthSelected(key, year, month),\n              'quota-low': isMonthQuotaLow(key, year, month)\n            }\"\n            :key=\"'month-' + month\"\n            v-for=\"month in monthRange\"\n            v-if=\"detailLevel === 'month'\"\n          >\n            <router-link\n              class=\"quota-button\"\n              :to=\"episodifyRoute({\n                name: 'quota-month-person',\n                params: {\n                  person_id: key,\n                  year: year,\n                  month: month\n                }\n              })\"\n              v-if=\"getQuota(key, {year, month})\"\n            >\n              {{\n                countMode === 'seconds'\n                ? getQuota(key, {year, month}).toFixed(2)\n                : getQuota(key, {year, month})\n              }}\n            </router-link>\n            <span v-else>-</span>\n          </td>\n\n          <td\n            :class=\"{\n              selected: isWeekSelected(key, year, week),\n              'quota-low': isWeekQuotaLow(key, year, month)\n            }\"\n            :key=\"'week-' + week\"\n            v-for=\"week in weekRange\"\n            v-if=\"detailLevel === 'week'\"\n          >\n            <router-link\n              class=\"quota-button\"\n              :to=\"episodifyRoute({\n                name: 'quota-week-person',\n                params: {\n                  person_id: key,\n                  year: year,\n                  week: week\n                }\n              })\"\n              v-if=\"getQuota(key, {year, week})\"\n            >\n              {{\n                countMode === 'seconds'\n                ? getQuota(key, {year, week}).toFixed(2)\n                : getQuota(key, {year, week})\n              }}\n            </router-link>\n            <span v-else>\n            -\n            </span>\n          </td>\n\n          <td\n            :class=\"{\n              weekend: isWeekend(year, month, day),\n              selected: isDaySelected(key, year, month, day),\n              'quota-low': isDayQuotaLow(key, year, month, day)\n            }\"\n            :key=\"'day-' + day\"\n            v-for=\"day in dayRange\"\n            v-if=\"detailLevel === 'day'\"\n          >\n            <router-link\n              class=\"quota-button\"\n              :to=\"episodifyRoute({\n                name: 'quota-day-person',\n                params: {\n                  person_id: key,\n                  year: year,\n                  month: month,\n                  day: day\n                }\n              })\"\n              v-if=\"getQuota(key, {year, month, day})\"\n            >\n              {{\n                countMode === 'seconds'\n                ? getQuota(key, {year, month, day}).toFixed(2)\n                : getQuota(key, {year, month, day})\n              }}\n            </router-link>\n            <span v-else>\n            -\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div\n    class=\"has-text-centered empty-quota\"\n    v-if=\"this.quotaLength === 0 && !isLoading\"\n  >\n    <p class=\"info\">{{ $t('quota.no_quota') }}</p>\n  </div>\n\n  <table-info\n    :is-loading=\"isLoading\"\n    :is-error=\"isError\"\n  />\n</div>\n</template>\n\n<script>\n\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\nimport { episodifyRoute } from '@/lib/path'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar'\nimport TableInfo from '@/components/widgets/TableInfo'\nimport {\n  buildNameIndex,\n  indexSearch\n} from '@/lib/indexing'\nimport {\n  monthToString,\n  getMonthRange,\n  getWeekRange,\n  getDayRange\n} from '@/lib/time'\n\nexport default {\n  name: 'quota',\n\n  components: {\n    PeopleAvatar,\n    TableInfo\n  },\n\n  props: {\n    taskTypeId: {\n      type: String,\n      required: true\n    },\n    detailLevel: {\n      type: String,\n      default: 'day',\n      required: true\n    },\n    countMode: {\n      type: String,\n      default: 'frames',\n      required: true\n    },\n    computeMode: {\n      type: String,\n      default: 'weighted',\n      required: true\n    },\n    year: {\n      type: Number,\n      default: 0\n    },\n    month: {\n      type: Number,\n      default: 0\n    },\n    week: {\n      type: Number,\n      default: 0\n    },\n    day: {\n      type: Number,\n      default: 0\n    },\n    searchText: {\n      type: String,\n      default: ''\n    },\n    maxQuota: {\n      default: 0\n    }\n  },\n\n  data () {\n    return {\n      currentMonth: moment().month() + 1,\n      currentYear: moment().year(),\n      currentWeek: moment().week(),\n      detailsTitle: '',\n      detailsMap: {},\n      isPanelShown: false,\n      isLoading: true,\n      isError: false,\n      personIds: [],\n      quotaMap: {},\n      quotaLength: 0,\n      selected: undefined,\n      averageColumnX: '12rem'\n    }\n  },\n\n  mounted () {\n    if (this.shotMap.size < 2) {\n      this.isLoading = true\n      setTimeout(() => {\n        this.loadShots((err) => {\n          if (!err) {\n            this.loadData()\n          }\n        })\n      }, 100)\n    } else {\n      if (!this.isShotsLoading) this.isLoading = false\n      this.loadData()\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'isShotsLoading',\n      'shotMap',\n      'personMap'\n    ]),\n\n    monthRange () {\n      return getMonthRange(this.year, this.currentYear, this.currentMonth)\n    },\n\n    dayRange () {\n      return getDayRange(\n        this.year,\n        this.month,\n        this.currentYear,\n        this.currentMonth\n      )\n    },\n\n    weekRange () {\n      return getWeekRange(this.year, this.currentYear, this.currentWeek)\n    },\n\n    filteredPersonIds () {\n      let personIds = this.personIds\n      if (this.searchText.length > 0) {\n        personIds = indexSearch(this.personIndex, this.searchText.split(' '))\n          .map(person => person.id)\n      }\n      return personIds\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'loadShots',\n      'computeQuota',\n      'getPeriodDetails'\n    ]),\n\n    episodifyRoute (route) {\n      if (this.currentEpisode) {\n        episodifyRoute(route, this.currentEpisode.id)\n      }\n      return route\n    },\n\n    isWeekend (year, month, day) {\n      let date = moment(`${year}-${month}-${day}`, 'YYYY-MM-DD')\n      if (day < 10) date = moment(`${year}-${month}-0${day}`, 'YYYY-MM-DD')\n      return [0, 6].includes(date.day())\n    },\n\n    loadData () {\n      if (this.taskTypeId) {\n        this.isLoading = true\n        this.computeQuota({\n          taskTypeId: this.taskTypeId,\n          detailLevel: this.detailLevel,\n          countMode: this.countMode,\n          computeMode: this.computeMode\n        })\n          .then(quotas => {\n            this.quotaMap = quotas\n            this.quotaLength = Object.keys(this.quotaMap).length\n            this.calcAverageColumnX()\n            this.$nextTick(() => {\n              this.isLoading = false\n            })\n          })\n      }\n    },\n\n    loadDetails (personId, dateString) {\n      this.loadShots((err) => {\n        this.isLoading = true\n        if (err) {\n          console.error(err)\n        } else {\n          if (this.taskTypeId) {\n            this.getPeriodDetails({\n              taskTypeId: this.taskTypeId,\n              detailLevel: this.detailLevel,\n              personId,\n              dateString\n            })\n              .then(shots => {\n                this.detailsMap = shots\n              })\n          }\n        }\n      })\n    },\n    monthToString,\n\n    dateDigit (date) {\n      return date.toString().padStart(2, '0')\n    },\n\n    getQuota (personId, opt = {}) {\n      if (opt.day) {\n        const dayKey =\n          `${opt.year}-${this.dateDigit(opt.month)}-${this.dateDigit(opt.day)}`\n        return this.quotaMap[personId].day[this.countMode][dayKey]\n      } else if (opt.week) {\n        const weekKey = `${opt.year}-${opt.week}`\n        return this.quotaMap[personId].week[this.countMode][weekKey]\n      } else {\n        const monthKey = `${opt.year}-${this.dateDigit(opt.month)}`\n        return this.quotaMap[personId].month[this.countMode][monthKey]\n      }\n    },\n\n    getQuotaAverage (personId, opt = {}) {\n      let average = 0\n      let total = 0\n      let nbEntries\n      if (this.detailLevel === 'day') {\n        const monthKey = `${opt.year}-${this.dateDigit(opt.month)}`\n        total = this.quotaMap[personId].month[this.countMode][monthKey]\n        nbEntries = this.quotaMap[personId].day.entries[monthKey]\n      } else if (this.detailLevel === 'week') {\n        const yearKey = opt.year\n        total = this.quotaMap[personId].year[this.countMode][yearKey]\n        nbEntries = this.quotaMap[personId].week.entries[yearKey]\n      } else if (this.detailLevel === 'month') {\n        const yearKey = opt.year\n        total = this.quotaMap[personId].year[this.countMode][yearKey]\n        nbEntries = this.quotaMap[personId].month.entries[yearKey]\n      }\n      average = total / nbEntries\n      return average ? average.toFixed(2) : '-'\n    },\n\n    isDaySelected (personId, year, month, day) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        '' + this.$route.params.year === '' + year &&\n        '' + this.$route.params.month === '' + month &&\n        '' + this.$route.params.day === '' + day\n      )\n    },\n\n    isWeekSelected (personId, year, week) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        '' + this.$route.params.year === '' + year &&\n        '' + this.$route.params.week === '' + week\n      )\n    },\n\n    isMonthSelected (personId, year, month) {\n      return (\n        this.$route.params.person_id &&\n        this.$route.params.person_id === personId &&\n        '' + this.$route.params.year === '' + year &&\n        '' + this.$route.params.month === '' + month\n      )\n    },\n\n    isDayQuotaLow (personId, year, month, day) {\n      const quota = this.getQuota(personId, { year, month, day })\n      return (\n        quota !== null &&\n        this.maxQuota > quota\n      )\n    },\n\n    isWeekQuotaLow (personId, year, week) {\n      return this.maxQuota > this.getQuota(personId, { year, week })\n    },\n\n    isMonthQuotaLow (personId, year, month) {\n      return this.maxQuota > this.getQuota(personId, { year, month })\n    },\n\n    calcAverageColumnX () {\n      if (this.quotaLength > 0) {\n        this.averageColumnX = `${this.$refs.rowHeaderName.offsetWidth}px`\n      }\n    },\n\n    resetPersonIds () {\n      const personIds = Object.keys(this.quotaMap)\n      const persons = personIds.map(pId => this.personMap.get(pId))\n      this.personIndex = buildNameIndex(persons)\n      this.personIds = personIds.sort((a, b) => {\n        const personAName = this.personMap.get(a).full_name\n        const personBName = this.personMap.get(b).full_name\n        return personAName.localeCompare(personBName)\n      })\n    }\n  },\n\n  watch: {\n    $route () {\n      const els = document.getElementsByClassName('selected')\n      if (els.length === 0) { // selected element is not visible\n        setTimeout(() => {\n          this.$refs.body.scrollLeft += 380\n        }, 100)\n      }\n    },\n\n    computeMode () {\n      if (this.taskTypeId) {\n        this.loadData()\n      }\n    },\n\n    quotaMap () {\n      this.resetPersonIds()\n    },\n\n    taskTypeId () {\n      if (this.taskTypeId) {\n        this.loadData()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .weekend {\n    background-color: $dark-grey;\n  }\n .quota-button:hover {\n    color: #333;\n  }\n  .info {\n    color: $white;\n  }\n}\n\n.data-list {\n  margin-top: 0;\n}\n\n.datatable-wrapper {\n  overflow: auto;\n  margin-bottom: 1rem;\n}\n\n.datatable {\n  min-width: auto;\n  .name {\n    min-width: 12rem;\n    text-align: left;\n    justify-content: flex-start;\n    .avatar {\n      margin-right: .5rem;\n    }\n  }\n  .average {\n    width: 8rem;\n  }\n  th,\n  td {\n    text-align: center\n  }\n}\n\n.datatable-head th {\n  min-width: 4rem;\n}\n\n.datatable-body th {\n  padding: 1rem;\n}\n\n.datatable-body {\n  th, td {\n    border: 0;\n  }\n}\n\n.quota-low {\n  color: red;\n}\n\n.quota-button {\n  border-radius: .5rem;\n  padding: .5rem;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  color: inherit;\n  font-size: inherit;\n  &:hover,\n  &:focus,\n  &.is-selected {\n    background-color: $dark-grey-lightest;\n  }\n}\n\n.empty-quota {\n  width: 100%;\n}\n\n.selected .quota-button {\n  background: $purple;\n  color: #333;\n}\n\n.quota-button:hover {\n  background: #BBEEBB;\n}\n\n.weekend {\n  background-color: $white-grey;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Quota.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Quota.vue?vue&type=template&id=0b0efb76&scoped=true&\"\nimport script from \"./Quota.vue?vue&type=script&lang=js&\"\nexport * from \"./Quota.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Quota.vue?vue&type=style&index=0&id=0b0efb76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b0efb76\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  class=\"columns fixed-page\"\n>\n  <div\n    class=\"column main-column\"\n  >\n    <div class=\"flexrow filters\">\n      <div class=\"flexrow-item\">\n        <combobox-task-type\n          class=\"flexrow-item\"\n          :label=\"$t('quota.type_label')\"\n          :task-type-list=\"productionShotTaskTypes\"\n          v-model=\"taskTypeId\"\n        />\n      </div>\n      <div class=\"flexrow-item\">\n        <combobox\n          class=\"flexrow-item\"\n          :label=\"$t('quota.detail_label')\"\n          :options=\"detailLevelOptions\"\n          v-model=\"detailLevelString\"\n        />\n      </div>\n\n      <combobox\n        class=\"flexrow-item\"\n        :label=\"$t('quota.month_label')\"\n        :options=\"monthOptions\"\n        v-model=\"monthString\"\n        v-if=\"detailLevelString === 'day'\"\n      />\n\n      <combobox\n        class=\"flexrow-item\"\n        :label=\"$t('quota.year_label')\"\n        :options=\"yearOptions\"\n        v-model=\"yearString\"\n      />\n\n      <div class=\"flexrow-item\">\n        <combobox\n          class=\"flexrow-item\"\n          :label=\"$t('quota.count_label')\"\n          :options=\"countModeOptions\"\n          v-model=\"countMode\"\n        />\n      </div>\n      <combobox\n        class=\"flexrow-item\"\n        :label=\"$t('quota.compute_mode')\"\n        :options=\"computeModeOptions\"\n        v-model=\"computeMode\"\n      />\n      <div class=\"flexrow-item\">\n        <info-question-mark\n          class=\"mt2\"\n          :text=\"computeMode === 'weighted'\n                 ? $t('quota.explaination')\n                 : $t('quota.explaination_feedback')\n                \"\n        />\n      </div>\n      <div class=\"filler\"></div>\n      <button-simple\n        class=\"flexrow-item\"\n        :title=\"$t('quota.export_quotas')\"\n        icon=\"download\"\n        @click=\"exportQuotas\"\n      />\n    </div>\n\n    <div class=\"flexrow mb2 mt0\">\n      <search-field\n        ref=\"search-field\"\n        class=\"search-field flexrow-item\"\n        @change=\"onSearchChange\"\n      />\n\n      <span class=\"label flexrow-item\">\n        {{ $t('quota.highlight_quotas') }}\n      </span>\n\n      <text-field\n        class=\"flexrow-item max-quota-input\"\n        type=\"number\"\n        v-model=\"maxQuota\"\n      />\n    </div>\n\n    <quota\n      ref=\"quota-list\"\n      :taskTypeId=\"taskTypeId\"\n      :detailLevel=\"detailLevelString\"\n      :year=\"currentYear\"\n      :month=\"currentMonth\"\n      :week=\"currentWeek\"\n      :day=\"currentDay\"\n      :currentPerson=\"currentPerson\"\n      :countMode=\"currentMode\"\n      :computeMode=\"computeMode\"\n      :searchText=\"searchText\"\n      :maxQuota=\"maxQuota\"\n    />\n  </div>\n  <div\n    class=\"column side-column\"\n    v-if=\"showInfo\"\n  >\n    <people-quota-info\n      :person=\"currentPerson\"\n      :year=\"currentYear\"\n      :month=\"currentMonth\"\n      :week=\"currentWeek\"\n      :day=\"currentDay\"\n      :is-loading=\"isPersonShotsLoading\"\n      :is-loading-error=\"false\"\n      :shots=\"personShots\"\n      :count-mode=\"countMode\"\n      @close=\"hideSideInfo\"\n    />\n  </div>\n</div>\n</template>\n\n<script>\nimport moment from 'moment-timezone'\nimport { mapGetters, mapActions } from 'vuex'\n\nimport csv from '@/lib/csv'\nimport stringHelpers from '@/lib/string'\n\nimport { monthToString, range } from '../../lib/time'\nimport { episodifyRoute } from '../../lib/path'\nimport ButtonSimple from '../widgets/ButtonSimple'\nimport Combobox from '../widgets/Combobox'\nimport ComboboxTaskType from '../widgets/ComboboxTaskType'\nimport InfoQuestionMark from '../widgets/InfoQuestionMark'\nimport PeopleQuotaInfo from '../sides/PeopleQuotaInfo'\nimport Quota from './quota/Quota'\nimport SearchField from '../widgets/SearchField'\nimport TextField from '../widgets/TextField'\n\nexport default {\n  name: 'production-quota',\n  components: {\n    ButtonSimple,\n    Combobox,\n    ComboboxTaskType,\n    InfoQuestionMark,\n    PeopleQuotaInfo,\n    Quota,\n    SearchField,\n    TextField\n  },\n\n  data () {\n    return {\n      taskTypeId: '',\n      countMode: 'frames',\n      countModeOptions: [\n        { label: this.$t('quota.frames'), value: 'frames' },\n        { label: this.$t('quota.seconds'), value: 'seconds' },\n        { label: this.$t('quota.count'), value: 'count' }\n      ],\n      detailLevelOptions: [\n        { label: this.$t('quota.day'), value: 'day' },\n        { label: this.$t('quota.week'), value: 'week' },\n        { label: this.$t('quota.month'), value: 'month' }\n      ],\n      computeModeOptions: [\n        { label: this.$t('quota.weighted'), value: 'weighted' },\n        { label: this.$t('quota.feedback_date'), value: 'feedback' }\n      ],\n      computeMode: 'weighted',\n      currentYear: moment().year(),\n      currentMonth: moment().month() + 1,\n      currentWeek: moment().week(),\n      currentDay: moment().date(),\n      currentPerson: this.getCurrentPerson(),\n      currentMode: 'frames',\n\n      detailLevelString: 'day',\n      detailLevel: 'day',\n\n      isLoading: false,\n      isLoadingError: false,\n      isPersonShotsLoading: false,\n      maxQuota: 0,\n      monthString: `${moment().month() + 1}`,\n\n      personShots: [],\n      searchText: '',\n      showInfo: false,\n      yearString: `${moment().year()}`\n    }\n  },\n\n  mounted () {\n    this.loadRoute()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentEpisode',\n      'currentProduction',\n      'productionShotTaskTypes',\n      'shotTaskTypes',\n      'personMap'\n    ]),\n\n    yearOptions () {\n      const year = 2018\n      const currentYear = moment().year()\n      return range(year, currentYear)\n        .map(year => ({\n          label: year,\n          value: `${year}`\n        }))\n    },\n\n    monthOptions () {\n      const currentYear = `${moment().year()}`\n      const month = 1\n      const currentMonth = moment().month() + 1\n      let monthRange = range(month, 12)\n      if (currentYear === this.yearString) {\n        monthRange = range(month, currentMonth)\n      }\n      return monthRange.map(month => ({\n        label: monthToString(month),\n        value: `${month}`\n      }))\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'getPersonQuotaShots',\n      'loadShots'\n    ]),\n\n    getCurrentPerson () {\n      const personId = this.$route.params.person_id\n      if (personId && this.personMap) {\n        return this.personMap.get(personId)\n      } else {\n        return {}\n      }\n    },\n\n    loadRoute () {\n      const { month, year, week, day } = this.$route.params\n      const { countMode, taskTypeId, computeMode } = this.$route.query\n\n      if (this.$route.path.indexOf('week') > 0) this.detailLevel = 'week'\n      if (this.$route.path.indexOf('month') > 0) this.detailLevel = 'month'\n      if (this.$route.path.indexOf('day') > 0) this.detailLevel = 'day'\n\n      this.currentPerson = this.getCurrentPerson()\n      this.detailLevelString = this.detailLevel\n      if (countMode) {\n        this.countMode = countMode\n        this.currentMode = this.countMode\n      }\n      if (taskTypeId) {\n        this.taskTypeId = taskTypeId\n      } else {\n        const key = `quota:${this.currentProduction.id}:task-type-id`\n        this.taskTypeId =\n          localStorage.getItem(key) || this.shotTaskTypes[0].id\n      }\n      if (computeMode) {\n        this.computeMode = computeMode\n      }\n      if (month) {\n        this.currentMonth = Number(month)\n        this.monthString = `${month}`\n      }\n      if (year) {\n        this.currentYear = Number(year)\n        this.yearString = `${year}`\n      }\n      if (week) {\n        this.currentWeek = Number(week)\n        this.weekString = `${week}`\n      }\n      if (day) {\n        this.currentDay = Number(day)\n      }\n\n      if (this.$route.path.indexOf('person') > 0) {\n        this.isPersonShotsLoading = true\n        this.getPersonQuotaShots({\n          personId: this.currentPerson.id,\n          detailLevel: this.detailLevel,\n          taskTypeId: this.taskTypeId,\n          year,\n          month,\n          week,\n          day,\n          computeMode: this.computeMode\n        })\n          .then(shots => {\n            this.isPersonShotsLoading = false\n            this.personShots = shots\n            this.showSideInfo()\n          })\n      } else {\n        this.hideSideInfo()\n      }\n    },\n\n    showSideInfo () {\n      this.showInfo = true\n    },\n\n    hideSideInfo () {\n      this.showInfo = false\n    },\n\n    episodifyRoute (route) {\n      if (this.currentEpisode) {\n        episodifyRoute(route, this.currentEpisode.id)\n      }\n      return route\n    },\n\n    exportQuotas () {\n      const quotas = this.$refs['quota-list'].quotaMap\n      const nameData = [\n        'quotas',\n        this.detailLevel,\n        this.currentYear\n      ]\n      if (this.detailLevel === 'day') nameData.push(this.currentMonth)\n      const name = stringHelpers.slugify(nameData.join('_'))\n      const people = Object.keys(quotas)\n        .map(personId => this.personMap.get(personId))\n        .sort((a, b) => a.full_name.localeCompare(b.full_name))\n      csv.generateQuotas(\n        name,\n        quotas,\n        people,\n        this.countMode,\n        this.detailLevel,\n        moment().year(),\n        moment().month() + 1,\n        this.currentYear,\n        this.currentMonth,\n        this.currentWeek\n      )\n    },\n\n    onSearchChange (searchText) {\n      this.searchText = searchText\n    }\n  },\n\n  watch: {\n    detailLevelString () {\n      if (this.detailLevel !== this.detailLevelString) {\n        const route = {\n          name: `quota-${this.detailLevelString}`,\n          params: {\n            year: this.currentYear\n          },\n          query: {\n            countMode: this.countMode,\n            computeMode: this.computeMode\n          }\n        }\n        if (this.detailLevelString === 'day') {\n          route.params.month = this.currentMonth\n        }\n        this.$router.push(this.episodifyRoute(route))\n      }\n    },\n\n    yearString () {\n      const year = Number(this.yearString)\n      const currentMonth = moment().month() + 1\n      if (this.currentYear !== year) {\n        const route = {\n          name: `quota-${this.detailLevelString}`,\n          params: {\n            year: year\n          },\n          query: {\n            countMode: this.countMode,\n            computeMode: this.computeMode\n          }\n        }\n        if (this.detailLevelString === 'day') {\n          route.params.month = `${Math.min(Number(this.monthString), currentMonth)}`\n        }\n        this.$router.push(this.episodifyRoute(route))\n      }\n    },\n\n    monthString () {\n      if (this.currentMonth !== Number(this.monthString)) {\n        const route = {\n          name: 'quota-day',\n          params: {\n            year: this.currentYear,\n            month: Number(this.monthString)\n          },\n          query: {\n            countMode: this.countMode,\n            computeMode: this.computeMode\n          }\n        }\n        this.$router.push(this.episodifyRoute(route))\n      }\n    },\n\n    countMode () {\n      if (this.currentMode !== this.countMode) {\n        if (this.$route.query.countMode !== this.countMode) {\n          this.$router.push({\n            query: {\n              countMode: this.countMode,\n              computeMode: this.computeMode\n            }\n          })\n        }\n        this.currentMode = this.countMode\n      }\n    },\n\n    computeMode () {\n      if (this.$route.query.computeMode !== this.computeMode) {\n        this.$router.push({\n          query: {\n            computeMode: this.computeMode\n          }\n        })\n      }\n    },\n\n    taskTypeId () {\n      const key = `quota:${this.currentProduction.id}:task-type-id`\n      localStorage.setItem(key, this.taskTypeId)\n      if (this.$route.query.taskTypeId !== this.taskTypeId) {\n        this.$router.push({\n          query: {\n            taskTypeId: this.taskTypeId\n          }\n        })\n      }\n    },\n\n    currentProduction () {\n      this.isLoading = true\n      this.loadShots(() => {\n        this.loadRoute()\n        this.isLoading = false\n      })\n    },\n\n    currentEpisode () {\n      this.isLoading = true\n      this.loadShots(() => {\n        this.loadRoute()\n        this.isLoading = false\n      })\n    },\n\n    $route () {\n      this.loadRoute()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .filters {\n    color: $white-grey;\n  }\n}\n\n.filters {\n  padding-bottom: 2rem;\n\n  .field {\n    padding-bottom: 0;\n    margin-bottom: 0;\n  }\n\n  .overall-man-days {\n    width: 120px;\n    font-size: 0.9em;\n    margin-right: 1em;\n  }\n}\n\n.fixed-page {\n  padding: 1em;\n  padding-top: 90px;\n  padding-left: 2em;\n}\n\n.main-column {\n  display: flex;\n  border: 0;\n  overflow: hidden;\n  flex-direction: column;\n}\n\n.zoom-level {\n  margin-top: -10px;\n}\n\n.side-column {\n  margin: 0;\n}\n\n.search-field {\n  color: var(--text);\n}\n\n.label {\n  font-weight: 300;\n  color: var(--text);\n}\n\n.max-quota-input {\n  width: 80px;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionQuota.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionQuota.vue?vue&type=template&id=ca991a9a&scoped=true&\"\nimport script from \"./ProductionQuota.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionQuota.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductionQuota.vue?vue&type=style&index=0&id=ca991a9a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca991a9a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}